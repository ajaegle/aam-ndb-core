(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/@angular-devkit/build-angular/node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-in": "./node_modules/moment/locale/en-in.js",
	"./en-in.js": "./node_modules/moment/locale/en-in.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./en-sg": "./node_modules/moment/locale/en-sg.js",
	"./en-sg.js": "./node_modules/moment/locale/en-sg.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fil": "./node_modules/moment/locale/fil.js",
	"./fil.js": "./node_modules/moment/locale/fil.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./ga": "./node_modules/moment/locale/ga.js",
	"./ga.js": "./node_modules/moment/locale/ga.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-deva": "./node_modules/moment/locale/gom-deva.js",
	"./gom-deva.js": "./node_modules/moment/locale/gom-deva.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it-ch": "./node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "./node_modules/moment/locale/it-ch.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./oc-lnc": "./node_modules/moment/locale/oc-lnc.js",
	"./oc-lnc.js": "./node_modules/moment/locale/oc-lnc.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tk": "./node_modules/moment/locale/tk.js",
	"./tk.js": "./node_modules/moment/locale/tk.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-mo": "./node_modules/moment/locale/zh-mo.js",
	"./zh-mo.js": "./node_modules/moment/locale/zh-mo.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _core_app_config_app_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core/app-config/app-config */ "./src/app/core/app-config/app-config.ts");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/fesm5/dialog.js");
/* harmony import */ var _core_demo_data_demo_data_generating_progress_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core/demo-data/demo-data-generating-progress-dialog.component */ "./src/app/core/demo-data/demo-data-generating-progress-dialog.component.ts");
/* harmony import */ var _core_analytics_analytics_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./core/analytics/analytics.service */ "./src/app/core/analytics/analytics.service.ts");
/* harmony import */ var _core_ui_ui_ui_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./core/ui/ui/ui.component */ "./src/app/core/ui/ui/ui.component.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */









/**
 * Component as the main entry point for the app.
 * Actual logic and UI structure is defined in other modules.
 */
var AppComponent = /** @class */ (function () {
    function AppComponent(viewContainerRef, // need this small hack in order to catch application root view container ref
    dialog, analyticsService) {
        this.viewContainerRef = viewContainerRef;
        this.dialog = dialog;
        this.analyticsService = analyticsService;
        analyticsService.init();
    }
    AppComponent.prototype.ngOnInit = function () {
        this.loadDemoData();
    };
    // TODO: move loading of demo data to a more suitable place
    AppComponent.prototype.loadDemoData = function () {
        if (_core_app_config_app_config__WEBPACK_IMPORTED_MODULE_1__["AppConfig"].settings.database.useTemporaryDatabase) {
            _core_demo_data_demo_data_generating_progress_dialog_component__WEBPACK_IMPORTED_MODULE_3__["DemoDataGeneratingProgressDialogComponent"].loadDemoDataWithLoadingDialog(this.dialog);
        }
    };
    AppComponent.ɵfac = function AppComponent_Factory(t) { return new (t || AppComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialog"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_analytics_analytics_service__WEBPACK_IMPORTED_MODULE_4__["AnalyticsService"])); };
    AppComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AppComponent, selectors: [["app-root"]], decls: 1, vars: 0, template: function AppComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-ui");
        } }, directives: [_core_ui_ui_ui_component__WEBPACK_IMPORTED_MODULE_5__["UiComponent"]], encapsulation: 2 });
    return AppComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AppComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-root",
                template: "<app-ui></app-ui>",
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"] }, { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialog"] }, { type: _core_analytics_analytics_service__WEBPACK_IMPORTED_MODULE_4__["AnalyticsService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: configFactory, AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "configFactory", function() { return configFactory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _core_ui_ui_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./core/ui/ui.module */ "./src/app/core/ui/ui.module.ts");
/* harmony import */ var _core_app_config_app_config_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./core/app-config/app-config.module */ "./src/app/core/app-config/app-config.module.ts");
/* harmony import */ var _app_routing__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./app.routing */ "./src/app/app.routing.ts");
/* harmony import */ var _core_alerts_alerts_module__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./core/alerts/alerts.module */ "./src/app/core/alerts/alerts.module.ts");
/* harmony import */ var _core_session_session_module__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./core/session/session.module */ "./src/app/core/session/session.module.ts");
/* harmony import */ var _core_sync_status_sync_status_module__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./core/sync-status/sync-status.module */ "./src/app/core/sync-status/sync-status.module.ts");
/* harmony import */ var _core_navigation_navigation_module__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./core/navigation/navigation.module */ "./src/app/core/navigation/navigation.module.ts");
/* harmony import */ var _core_latest_changes_latest_changes_module__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./core/latest-changes/latest-changes.module */ "./src/app/core/latest-changes/latest-changes.module.ts");
/* harmony import */ var _core_user_user_module__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./core/user/user.module */ "./src/app/core/user/user.module.ts");
/* harmony import */ var _child_dev_project_progress_dashboard_widget_progress_dashboard_widget_module__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./child-dev-project/progress-dashboard-widget/progress-dashboard-widget.module */ "./src/app/child-dev-project/progress-dashboard-widget/progress-dashboard-widget.module.ts");
/* harmony import */ var _child_dev_project_children_children_module__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./child-dev-project/children/children.module */ "./src/app/child-dev-project/children/children.module.ts");
/* harmony import */ var _child_dev_project_schools_schools_module__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./child-dev-project/schools/schools.module */ "./src/app/child-dev-project/schools/schools.module.ts");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var _angular_service_worker__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/service-worker */ "./node_modules/@angular/service-worker/fesm5/service-worker.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _core_admin_admin_module__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./core/admin/admin.module */ "./src/app/core/admin/admin.module.ts");
/* harmony import */ var _core_entity_entity_module__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./core/entity/entity.module */ "./src/app/core/entity/entity.module.ts");
/* harmony import */ var ngx_cookie_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ngx-cookie-service */ "./node_modules/ngx-cookie-service/fesm5/ngx-cookie-service.js");
/* harmony import */ var _core_help_help_module__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./core/help/help.module */ "./src/app/core/help/help.module.ts");
/* harmony import */ var _core_demo_data_demo_data_module__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./core/demo-data/demo-data.module */ "./src/app/core/demo-data/demo-data.module.ts");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @angular/material/core */ "./node_modules/@angular/material/fesm5/core.js");
/* harmony import */ var _core_logging_logging_error_handler__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./core/logging/logging-error-handler */ "./src/app/core/logging/logging-error-handler.ts");
/* harmony import */ var _child_dev_project_children_demo_data_generators_demo_child_generator_service__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./child-dev-project/children/demo-data-generators/demo-child-generator.service */ "./src/app/child-dev-project/children/demo-data-generators/demo-child-generator.service.ts");
/* harmony import */ var _child_dev_project_schools_demo_school_generator_service__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./child-dev-project/schools/demo-school-generator.service */ "./src/app/child-dev-project/schools/demo-school-generator.service.ts");
/* harmony import */ var _child_dev_project_children_demo_data_generators_demo_child_school_relation_generator_service__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./child-dev-project/children/demo-data-generators/demo-child-school-relation-generator.service */ "./src/app/child-dev-project/children/demo-data-generators/demo-child-school-relation-generator.service.ts");
/* harmony import */ var _child_dev_project_attendance_demo_attendance_generator_service__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./child-dev-project/attendance/demo-attendance-generator.service */ "./src/app/child-dev-project/attendance/demo-attendance-generator.service.ts");
/* harmony import */ var _child_dev_project_notes_demo_data_demo_note_generator_service__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./child-dev-project/notes/demo-data/demo-note-generator.service */ "./src/app/child-dev-project/notes/demo-data/demo-note-generator.service.ts");
/* harmony import */ var _child_dev_project_aser_demo_aser_generator_service__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./child-dev-project/aser/demo-aser-generator.service */ "./src/app/child-dev-project/aser/demo-aser-generator.service.ts");
/* harmony import */ var _child_dev_project_educational_material_demo_educational_material_generator_service__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./child-dev-project/educational-material/demo-educational-material-generator.service */ "./src/app/child-dev-project/educational-material/demo-educational-material-generator.service.ts");
/* harmony import */ var _child_dev_project_health_checkup_demo_data_demo_health_check_generator_service__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./child-dev-project/health-checkup/demo-data/demo-health-check-generator.service */ "./src/app/child-dev-project/health-checkup/demo-data/demo-health-check-generator.service.ts");
/* harmony import */ var _child_dev_project_progress_dashboard_widget_demo_progress_dashboard_widget_generator_service__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./child-dev-project/progress-dashboard-widget/demo-progress-dashboard-widget-generator.service */ "./src/app/child-dev-project/progress-dashboard-widget/demo-progress-dashboard-widget-generator.service.ts");
/* harmony import */ var _core_user_demo_user_generator_service__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./core/user/demo-user-generator.service */ "./src/app/core/user/demo-user-generator.service.ts");
/* harmony import */ var _core_confirmation_dialog_confirmation_dialog_module__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./core/confirmation-dialog/confirmation-dialog.module */ "./src/app/core/confirmation-dialog/confirmation-dialog.module.ts");
/* harmony import */ var _core_form_dialog_form_dialog_module__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./core/form-dialog/form-dialog.module */ "./src/app/core/form-dialog/form-dialog.module.ts");
/* harmony import */ var _core_logging_logging_service__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./core/logging/logging.service */ "./src/app/core/logging/logging.service.ts");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm2015/angulartics2.js");
/* harmony import */ var _core_analytics_analytics_service__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./core/analytics/analytics.service */ "./src/app/core/analytics/analytics.service.ts");
/* harmony import */ var angulartics2_piwik__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! angulartics2/piwik */ "./node_modules/angulartics2/piwik/fesm2015/angulartics2-piwik.js");
/* harmony import */ var _core_config_config_service__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./core/config/config.service */ "./src/app/core/config/config.service.ts");
/* harmony import */ var _core_view_view_module__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./core/view/view.module */ "./src/app/core/view/view.module.ts");
/* harmony import */ var _core_dashboard_dashboard_module__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./core/dashboard/dashboard.module */ "./src/app/core/dashboard/dashboard.module.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */






















































function configFactory(configService) {
    return function () { return configService.loadConfig(); };
}
/**
 * Main entry point of the application.
 * Imports required modules and does basic setup.
 * Real functionality should be implemented in separate modules and imported here rather than being part of this module.
 */
var AppModule = /** @class */ (function () {
    function AppModule(matIconRegistry) {
        this.matIconRegistry = matIconRegistry;
        matIconRegistry.registerFontClassAlias("fontawesome", "fa");
        matIconRegistry.setDefaultFontSetClass("fa");
    }
    AppModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineNgModule"]({ type: AppModule, bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_5__["AppComponent"]] });
    AppModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjector"]({ factory: function AppModule_Factory(t) { return new (t || AppModule)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_angular_material_icon__WEBPACK_IMPORTED_MODULE_21__["MatIconRegistry"])); }, providers: [
            { provide: _angular_core__WEBPACK_IMPORTED_MODULE_2__["ErrorHandler"], useClass: _core_logging_logging_error_handler__WEBPACK_IMPORTED_MODULE_28__["LoggingErrorHandler"] },
            _angular_material_icon__WEBPACK_IMPORTED_MODULE_21__["MatIconRegistry"],
            ngx_cookie_service__WEBPACK_IMPORTED_MODULE_24__["CookieService"],
            _core_analytics_analytics_service__WEBPACK_IMPORTED_MODULE_43__["AnalyticsService"],
            angulartics2_piwik__WEBPACK_IMPORTED_MODULE_44__["Angulartics2Piwik"],
            _core_config_config_service__WEBPACK_IMPORTED_MODULE_45__["ConfigService"],
            {
                provide: _angular_core__WEBPACK_IMPORTED_MODULE_2__["APP_INITIALIZER"],
                useFactory: configFactory,
                deps: [_core_config_config_service__WEBPACK_IMPORTED_MODULE_45__["ConfigService"]],
                multi: true,
            },
        ], imports: [[
                _angular_service_worker__WEBPACK_IMPORTED_MODULE_19__["ServiceWorkerModule"].register("/ngsw-worker.js", {
                    enabled: _environments_environment__WEBPACK_IMPORTED_MODULE_20__["environment"].production,
                }),
                angulartics2__WEBPACK_IMPORTED_MODULE_42__["Angulartics2Module"].forRoot({
                    developerMode: !_environments_environment__WEBPACK_IMPORTED_MODULE_20__["environment"].production,
                }),
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__["BrowserModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_1__["BrowserAnimationsModule"],
                _angular_flex_layout__WEBPACK_IMPORTED_MODULE_18__["FlexLayoutModule"],
                _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClientModule"],
                _app_routing__WEBPACK_IMPORTED_MODULE_8__["routing"],
                _core_view_view_module__WEBPACK_IMPORTED_MODULE_46__["ViewModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                _core_confirmation_dialog_confirmation_dialog_module__WEBPACK_IMPORTED_MODULE_39__["ConfirmationDialogModule"],
                _core_form_dialog_form_dialog_module__WEBPACK_IMPORTED_MODULE_40__["FormDialogModule"],
                _core_alerts_alerts_module__WEBPACK_IMPORTED_MODULE_9__["AlertsModule"],
                _core_entity_entity_module__WEBPACK_IMPORTED_MODULE_23__["EntityModule"],
                _core_app_config_app_config_module__WEBPACK_IMPORTED_MODULE_7__["AppConfigModule"],
                _core_session_session_module__WEBPACK_IMPORTED_MODULE_10__["SessionModule"],
                _core_ui_ui_module__WEBPACK_IMPORTED_MODULE_6__["UiModule"],
                _core_sync_status_sync_status_module__WEBPACK_IMPORTED_MODULE_11__["SyncStatusModule"],
                _core_latest_changes_latest_changes_module__WEBPACK_IMPORTED_MODULE_13__["LatestChangesModule"],
                _core_navigation_navigation_module__WEBPACK_IMPORTED_MODULE_12__["NavigationModule"],
                _core_user_user_module__WEBPACK_IMPORTED_MODULE_14__["UserModule"],
                _core_dashboard_dashboard_module__WEBPACK_IMPORTED_MODULE_47__["DashboardModule"],
                _child_dev_project_progress_dashboard_widget_progress_dashboard_widget_module__WEBPACK_IMPORTED_MODULE_15__["ProgressDashboardWidgetModule"],
                _child_dev_project_children_children_module__WEBPACK_IMPORTED_MODULE_16__["ChildrenModule"],
                _child_dev_project_schools_schools_module__WEBPACK_IMPORTED_MODULE_17__["SchoolsModule"],
                _core_admin_admin_module__WEBPACK_IMPORTED_MODULE_22__["AdminModule"],
                _angular_material_icon__WEBPACK_IMPORTED_MODULE_21__["MatIconModule"],
                _core_help_help_module__WEBPACK_IMPORTED_MODULE_25__["HelpModule"],
                _angular_material_core__WEBPACK_IMPORTED_MODULE_27__["MatNativeDateModule"],
                _core_demo_data_demo_data_module__WEBPACK_IMPORTED_MODULE_26__["DemoDataModule"].forRoot(__spread(_child_dev_project_children_demo_data_generators_demo_child_generator_service__WEBPACK_IMPORTED_MODULE_29__["DemoChildGenerator"].provider({ count: 150 }), _child_dev_project_schools_demo_school_generator_service__WEBPACK_IMPORTED_MODULE_30__["DemoSchoolGenerator"].provider({ count: 8 }), _child_dev_project_children_demo_data_generators_demo_child_school_relation_generator_service__WEBPACK_IMPORTED_MODULE_31__["DemoChildSchoolRelationGenerator"].provider(), _child_dev_project_attendance_demo_attendance_generator_service__WEBPACK_IMPORTED_MODULE_32__["DemoAttendanceGenerator"].provider(), _child_dev_project_notes_demo_data_demo_note_generator_service__WEBPACK_IMPORTED_MODULE_33__["DemoNoteGeneratorService"].provider({
                    minNotesPerChild: 2,
                    maxNotesPerChild: 10,
                    groupNotes: 3,
                }), _child_dev_project_aser_demo_aser_generator_service__WEBPACK_IMPORTED_MODULE_34__["DemoAserGeneratorService"].provider(), _child_dev_project_educational_material_demo_educational_material_generator_service__WEBPACK_IMPORTED_MODULE_35__["DemoEducationalMaterialGeneratorService"].provider({
                    minCount: 3,
                    maxCount: 8,
                }), _child_dev_project_health_checkup_demo_data_demo_health_check_generator_service__WEBPACK_IMPORTED_MODULE_36__["DemoHealthCheckGeneratorService"].provider(), _child_dev_project_progress_dashboard_widget_demo_progress_dashboard_widget_generator_service__WEBPACK_IMPORTED_MODULE_37__["DemoProgressDashboardWidgetGeneratorService"].provider(), _core_user_demo_user_generator_service__WEBPACK_IMPORTED_MODULE_38__["DemoUserGeneratorService"].provider())),
            ]] });
    return AppModule;
}());

(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵsetNgModuleScope"](AppModule, { declarations: [_app_component__WEBPACK_IMPORTED_MODULE_5__["AppComponent"]], imports: [_angular_service_worker__WEBPACK_IMPORTED_MODULE_19__["ServiceWorkerModule"], angulartics2__WEBPACK_IMPORTED_MODULE_42__["Angulartics2Module"], _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__["BrowserModule"],
        _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_1__["BrowserAnimationsModule"],
        _angular_flex_layout__WEBPACK_IMPORTED_MODULE_18__["FlexLayoutModule"],
        _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClientModule"], _angular_router__WEBPACK_IMPORTED_MODULE_48__["RouterModule"], _core_view_view_module__WEBPACK_IMPORTED_MODULE_46__["ViewModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
        _core_confirmation_dialog_confirmation_dialog_module__WEBPACK_IMPORTED_MODULE_39__["ConfirmationDialogModule"],
        _core_form_dialog_form_dialog_module__WEBPACK_IMPORTED_MODULE_40__["FormDialogModule"],
        _core_alerts_alerts_module__WEBPACK_IMPORTED_MODULE_9__["AlertsModule"],
        _core_entity_entity_module__WEBPACK_IMPORTED_MODULE_23__["EntityModule"],
        _core_app_config_app_config_module__WEBPACK_IMPORTED_MODULE_7__["AppConfigModule"],
        _core_session_session_module__WEBPACK_IMPORTED_MODULE_10__["SessionModule"],
        _core_ui_ui_module__WEBPACK_IMPORTED_MODULE_6__["UiModule"],
        _core_sync_status_sync_status_module__WEBPACK_IMPORTED_MODULE_11__["SyncStatusModule"],
        _core_latest_changes_latest_changes_module__WEBPACK_IMPORTED_MODULE_13__["LatestChangesModule"],
        _core_navigation_navigation_module__WEBPACK_IMPORTED_MODULE_12__["NavigationModule"],
        _core_user_user_module__WEBPACK_IMPORTED_MODULE_14__["UserModule"],
        _core_dashboard_dashboard_module__WEBPACK_IMPORTED_MODULE_47__["DashboardModule"],
        _child_dev_project_progress_dashboard_widget_progress_dashboard_widget_module__WEBPACK_IMPORTED_MODULE_15__["ProgressDashboardWidgetModule"],
        _child_dev_project_children_children_module__WEBPACK_IMPORTED_MODULE_16__["ChildrenModule"],
        _child_dev_project_schools_schools_module__WEBPACK_IMPORTED_MODULE_17__["SchoolsModule"],
        _core_admin_admin_module__WEBPACK_IMPORTED_MODULE_22__["AdminModule"],
        _angular_material_icon__WEBPACK_IMPORTED_MODULE_21__["MatIconModule"],
        _core_help_help_module__WEBPACK_IMPORTED_MODULE_25__["HelpModule"],
        _angular_material_core__WEBPACK_IMPORTED_MODULE_27__["MatNativeDateModule"], _core_demo_data_demo_data_module__WEBPACK_IMPORTED_MODULE_26__["DemoDataModule"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵsetClassMetadata"](AppModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["NgModule"],
        args: [{
                declarations: [_app_component__WEBPACK_IMPORTED_MODULE_5__["AppComponent"]],
                imports: [
                    _angular_service_worker__WEBPACK_IMPORTED_MODULE_19__["ServiceWorkerModule"].register("/ngsw-worker.js", {
                        enabled: _environments_environment__WEBPACK_IMPORTED_MODULE_20__["environment"].production,
                    }),
                    angulartics2__WEBPACK_IMPORTED_MODULE_42__["Angulartics2Module"].forRoot({
                        developerMode: !_environments_environment__WEBPACK_IMPORTED_MODULE_20__["environment"].production,
                    }),
                    _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__["BrowserModule"],
                    _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_1__["BrowserAnimationsModule"],
                    _angular_flex_layout__WEBPACK_IMPORTED_MODULE_18__["FlexLayoutModule"],
                    _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClientModule"],
                    _app_routing__WEBPACK_IMPORTED_MODULE_8__["routing"],
                    _core_view_view_module__WEBPACK_IMPORTED_MODULE_46__["ViewModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                    _core_confirmation_dialog_confirmation_dialog_module__WEBPACK_IMPORTED_MODULE_39__["ConfirmationDialogModule"],
                    _core_form_dialog_form_dialog_module__WEBPACK_IMPORTED_MODULE_40__["FormDialogModule"],
                    _core_alerts_alerts_module__WEBPACK_IMPORTED_MODULE_9__["AlertsModule"],
                    _core_entity_entity_module__WEBPACK_IMPORTED_MODULE_23__["EntityModule"],
                    _core_app_config_app_config_module__WEBPACK_IMPORTED_MODULE_7__["AppConfigModule"],
                    _core_session_session_module__WEBPACK_IMPORTED_MODULE_10__["SessionModule"],
                    _core_ui_ui_module__WEBPACK_IMPORTED_MODULE_6__["UiModule"],
                    _core_sync_status_sync_status_module__WEBPACK_IMPORTED_MODULE_11__["SyncStatusModule"],
                    _core_latest_changes_latest_changes_module__WEBPACK_IMPORTED_MODULE_13__["LatestChangesModule"],
                    _core_navigation_navigation_module__WEBPACK_IMPORTED_MODULE_12__["NavigationModule"],
                    _core_user_user_module__WEBPACK_IMPORTED_MODULE_14__["UserModule"],
                    _core_dashboard_dashboard_module__WEBPACK_IMPORTED_MODULE_47__["DashboardModule"],
                    _child_dev_project_progress_dashboard_widget_progress_dashboard_widget_module__WEBPACK_IMPORTED_MODULE_15__["ProgressDashboardWidgetModule"],
                    _child_dev_project_children_children_module__WEBPACK_IMPORTED_MODULE_16__["ChildrenModule"],
                    _child_dev_project_schools_schools_module__WEBPACK_IMPORTED_MODULE_17__["SchoolsModule"],
                    _core_admin_admin_module__WEBPACK_IMPORTED_MODULE_22__["AdminModule"],
                    _angular_material_icon__WEBPACK_IMPORTED_MODULE_21__["MatIconModule"],
                    _core_help_help_module__WEBPACK_IMPORTED_MODULE_25__["HelpModule"],
                    _angular_material_core__WEBPACK_IMPORTED_MODULE_27__["MatNativeDateModule"],
                    _core_demo_data_demo_data_module__WEBPACK_IMPORTED_MODULE_26__["DemoDataModule"].forRoot(__spread(_child_dev_project_children_demo_data_generators_demo_child_generator_service__WEBPACK_IMPORTED_MODULE_29__["DemoChildGenerator"].provider({ count: 150 }), _child_dev_project_schools_demo_school_generator_service__WEBPACK_IMPORTED_MODULE_30__["DemoSchoolGenerator"].provider({ count: 8 }), _child_dev_project_children_demo_data_generators_demo_child_school_relation_generator_service__WEBPACK_IMPORTED_MODULE_31__["DemoChildSchoolRelationGenerator"].provider(), _child_dev_project_attendance_demo_attendance_generator_service__WEBPACK_IMPORTED_MODULE_32__["DemoAttendanceGenerator"].provider(), _child_dev_project_notes_demo_data_demo_note_generator_service__WEBPACK_IMPORTED_MODULE_33__["DemoNoteGeneratorService"].provider({
                        minNotesPerChild: 2,
                        maxNotesPerChild: 10,
                        groupNotes: 3,
                    }), _child_dev_project_aser_demo_aser_generator_service__WEBPACK_IMPORTED_MODULE_34__["DemoAserGeneratorService"].provider(), _child_dev_project_educational_material_demo_educational_material_generator_service__WEBPACK_IMPORTED_MODULE_35__["DemoEducationalMaterialGeneratorService"].provider({
                        minCount: 3,
                        maxCount: 8,
                    }), _child_dev_project_health_checkup_demo_data_demo_health_check_generator_service__WEBPACK_IMPORTED_MODULE_36__["DemoHealthCheckGeneratorService"].provider(), _child_dev_project_progress_dashboard_widget_demo_progress_dashboard_widget_generator_service__WEBPACK_IMPORTED_MODULE_37__["DemoProgressDashboardWidgetGeneratorService"].provider(), _core_user_demo_user_generator_service__WEBPACK_IMPORTED_MODULE_38__["DemoUserGeneratorService"].provider())),
                ],
                providers: [
                    { provide: _angular_core__WEBPACK_IMPORTED_MODULE_2__["ErrorHandler"], useClass: _core_logging_logging_error_handler__WEBPACK_IMPORTED_MODULE_28__["LoggingErrorHandler"] },
                    _angular_material_icon__WEBPACK_IMPORTED_MODULE_21__["MatIconRegistry"],
                    ngx_cookie_service__WEBPACK_IMPORTED_MODULE_24__["CookieService"],
                    _core_analytics_analytics_service__WEBPACK_IMPORTED_MODULE_43__["AnalyticsService"],
                    angulartics2_piwik__WEBPACK_IMPORTED_MODULE_44__["Angulartics2Piwik"],
                    _core_config_config_service__WEBPACK_IMPORTED_MODULE_45__["ConfigService"],
                    {
                        provide: _angular_core__WEBPACK_IMPORTED_MODULE_2__["APP_INITIALIZER"],
                        useFactory: configFactory,
                        deps: [_core_config_config_service__WEBPACK_IMPORTED_MODULE_45__["ConfigService"]],
                        multi: true,
                    },
                ],
                bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_5__["AppComponent"]],
            }]
    }], function () { return [{ type: _angular_material_icon__WEBPACK_IMPORTED_MODULE_21__["MatIconRegistry"] }]; }, null); })();
// Initialize remote logging
_core_logging_logging_service__WEBPACK_IMPORTED_MODULE_41__["LoggingService"].initRemoteLogging({
    dsn: _environments_environment__WEBPACK_IMPORTED_MODULE_20__["environment"].remoteLoggingDsn,
    whitelistUrls: [/https?:\/\/(.*)\.?aam-digital\.com/],
});


/***/ }),

/***/ "./src/app/app.routing.ts":
/*!********************************!*\
  !*** ./src/app/app.routing.ts ***!
  \********************************/
/*! exports provided: COMPONENT_MAP, routes, routing */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "COMPONENT_MAP", function() { return COMPONENT_MAP; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "routes", function() { return routes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "routing", function() { return routing; });
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _core_dashboard_dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core/dashboard/dashboard/dashboard.component */ "./src/app/core/dashboard/dashboard/dashboard.component.ts");
/* harmony import */ var _child_dev_project_schools_schools_list_schools_list_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./child-dev-project/schools/schools-list/schools-list.component */ "./src/app/child-dev-project/schools/schools-list/schools-list.component.ts");
/* harmony import */ var _child_dev_project_schools_school_details_school_details_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./child-dev-project/schools/school-details/school-details.component */ "./src/app/child-dev-project/schools/school-details/school-details.component.ts");
/* harmony import */ var _child_dev_project_children_child_details_child_details_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./child-dev-project/children/child-details/child-details.component */ "./src/app/child-dev-project/children/child-details/child-details.component.ts");
/* harmony import */ var _core_user_user_account_user_account_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./core/user/user-account/user-account.component */ "./src/app/core/user/user-account/user-account.component.ts");
/* harmony import */ var _child_dev_project_children_children_list_children_list_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./child-dev-project/children/children-list/children-list.component */ "./src/app/child-dev-project/children/children-list/children-list.component.ts");
/* harmony import */ var _child_dev_project_attendance_child_attendance_child_attendance_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./child-dev-project/attendance/child-attendance/child-attendance.component */ "./src/app/child-dev-project/attendance/child-attendance/child-attendance.component.ts");
/* harmony import */ var _core_admin_admin_admin_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./core/admin/admin/admin.component */ "./src/app/core/admin/admin/admin.component.ts");
/* harmony import */ var _core_admin_admin_guard__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./core/admin/admin.guard */ "./src/app/core/admin/admin.guard.ts");
/* harmony import */ var _child_dev_project_notes_notes_manager_notes_manager_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./child-dev-project/notes/notes-manager/notes-manager.component */ "./src/app/child-dev-project/notes/notes-manager/notes-manager.component.ts");
/* harmony import */ var _child_dev_project_attendance_add_month_attendance_add_month_attendance_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./child-dev-project/attendance/add-month-attendance/add-month-attendance.component */ "./src/app/child-dev-project/attendance/add-month-attendance/add-month-attendance.component.ts");
/* harmony import */ var _child_dev_project_attendance_add_day_attendance_add_day_attendance_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./child-dev-project/attendance/add-day-attendance/add-day-attendance.component */ "./src/app/child-dev-project/attendance/add-day-attendance/add-day-attendance.component.ts");
/* harmony import */ var _child_dev_project_attendance_attendance_manager_attendance_manager_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./child-dev-project/attendance/attendance-manager/attendance-manager.component */ "./src/app/child-dev-project/attendance/attendance-manager/attendance-manager.component.ts");
/* harmony import */ var _core_help_how_to_how_to_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./core/help/how-to/how-to.component */ "./src/app/core/help/how-to/how-to.component.ts");
/* harmony import */ var _core_admin_user_list_user_list_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./core/admin/user-list/user-list.component */ "./src/app/core/admin/user-list/user-list.component.ts");
/* harmony import */ var _child_dev_project_attendance_attendance_analysis_attendance_analysis_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./child-dev-project/attendance/attendance-analysis/attendance-analysis.component */ "./src/app/child-dev-project/attendance/attendance-analysis/attendance-analysis.component.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */

















var COMPONENT_MAP = {
    Dashboard: _core_dashboard_dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_1__["DashboardComponent"],
    UserAccount: _core_user_user_account_user_account_component__WEBPACK_IMPORTED_MODULE_5__["UserAccountComponent"],
    NotesManager: _child_dev_project_notes_notes_manager_notes_manager_component__WEBPACK_IMPORTED_MODULE_10__["NotesManagerComponent"],
    UserList: _core_admin_user_list_user_list_component__WEBPACK_IMPORTED_MODULE_15__["UserListComponent"],
    Help: _core_help_how_to_how_to_component__WEBPACK_IMPORTED_MODULE_14__["HowToComponent"],
    AttendanceManager: _child_dev_project_attendance_attendance_manager_attendance_manager_component__WEBPACK_IMPORTED_MODULE_13__["AttendanceManagerComponent"],
    AddMonthAttendance: _child_dev_project_attendance_add_month_attendance_add_month_attendance_component__WEBPACK_IMPORTED_MODULE_11__["AddMonthAttendanceComponent"],
    AddDayAttendance: _child_dev_project_attendance_add_day_attendance_add_day_attendance_component__WEBPACK_IMPORTED_MODULE_12__["AddDayAttendanceComponent"],
    AttendanceAnalysis: _child_dev_project_attendance_attendance_analysis_attendance_analysis_component__WEBPACK_IMPORTED_MODULE_16__["AttendanceAnalysisComponent"],
    SchoolsList: _child_dev_project_schools_schools_list_schools_list_component__WEBPACK_IMPORTED_MODULE_2__["SchoolsListComponent"],
    SchoolDetails: _child_dev_project_schools_school_details_school_details_component__WEBPACK_IMPORTED_MODULE_3__["SchoolDetailsComponent"],
    ChildrenList: _child_dev_project_children_children_list_children_list_component__WEBPACK_IMPORTED_MODULE_6__["ChildrenListComponent"],
    ChildDetails: _child_dev_project_children_child_details_child_details_component__WEBPACK_IMPORTED_MODULE_4__["ChildDetailsComponent"],
    ChildAttendance: _child_dev_project_attendance_child_attendance_child_attendance_component__WEBPACK_IMPORTED_MODULE_7__["ChildAttendanceComponent"],
    Admin: _core_admin_admin_admin_component__WEBPACK_IMPORTED_MODULE_8__["AdminComponent"],
};
/**
 * All routes configured for the main app routing.
 */
var routes = [
    // routes are added dynamically by the RouterService
    {
        path: "admin/conflicts",
        canActivate: [_core_admin_admin_guard__WEBPACK_IMPORTED_MODULE_9__["AdminGuard"]],
        loadChildren: function () {
            return __webpack_require__.e(/*! import() | conflict-resolution-conflict-resolution-module */ "conflict-resolution-conflict-resolution-module").then(__webpack_require__.bind(null, /*! ./conflict-resolution/conflict-resolution.module */ "./src/app/conflict-resolution/conflict-resolution.module.ts")).then(function (m) { return m["ConflictResolutionModule"]; });
        },
    },
    { path: "**", redirectTo: "/" },
];
/**
 * Main app RouterModule with centrally configured routes.
 */
var routing = _angular_router__WEBPACK_IMPORTED_MODULE_0__["RouterModule"].forRoot(routes);


/***/ }),

/***/ "./src/app/child-dev-project/aser/aser-component/aser.component.ts":
/*!*************************************************************************!*\
  !*** ./src/app/child-dev-project/aser/aser-component/aser.component.ts ***!
  \*************************************************************************/
/*! exports provided: AserComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AserComponent", function() { return AserComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _model_aser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/aser */ "./src/app/child-dev-project/aser/model/aser.ts");
/* harmony import */ var _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/entity-subrecord/entity-subrecord/column-description */ "./src/app/core/entity-subrecord/entity-subrecord/column-description.ts");
/* harmony import */ var _children_children_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../children/children.service */ "./src/app/child-dev-project/children/children.service.ts");
/* harmony import */ var _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/entity-subrecord/entity-subrecord/column-description-input-type.enum */ "./src/app/core/entity-subrecord/entity-subrecord/column-description-input-type.enum.ts");
/* harmony import */ var _ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngneat/until-destroy */ "./node_modules/@ngneat/until-destroy/fesm5/ngneat-until-destroy.js");
/* harmony import */ var _children_model_child__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../children/model/child */ "./src/app/child-dev-project/children/model/child.ts");
/* harmony import */ var _core_entity_subrecord_entity_subrecord_entity_subrecord_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/entity-subrecord/entity-subrecord/entity-subrecord.component */ "./src/app/core/entity-subrecord/entity-subrecord/entity-subrecord.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var AserComponent = /** @class */ (function () {
    function AserComponent(childrenService, datePipe) {
        var _this = this;
        this.childrenService = childrenService;
        this.datePipe = datePipe;
        this.columns = [
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_3__["ColumnDescription"]("date", "Date", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_5__["ColumnDescriptionInputType"].DATE, null, function (v) { return _this.datePipe.transform(v, "yyyy-MM-dd"); }, "xs"),
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_3__["ColumnDescription"]("math", "Math", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_5__["ColumnDescriptionInputType"].SELECT, _model_aser__WEBPACK_IMPORTED_MODULE_2__["Aser"].MathLevels.map(function (s) {
                return { value: s, label: s };
            }), undefined, "xs"),
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_3__["ColumnDescription"]("english", "English", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_5__["ColumnDescriptionInputType"].SELECT, _model_aser__WEBPACK_IMPORTED_MODULE_2__["Aser"].ReadingLevels.map(function (s) {
                return { value: s, label: s };
            }), undefined, "xs"),
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_3__["ColumnDescription"]("hindi", "Hindi", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_5__["ColumnDescriptionInputType"].SELECT, _model_aser__WEBPACK_IMPORTED_MODULE_2__["Aser"].ReadingLevels.map(function (s) {
                return { value: s, label: s };
            }), undefined, "md"),
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_3__["ColumnDescription"]("bengali", "Bengali", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_5__["ColumnDescriptionInputType"].SELECT, _model_aser__WEBPACK_IMPORTED_MODULE_2__["Aser"].ReadingLevels.map(function (s) {
                return { value: s, label: s };
            }), undefined, "md"),
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_3__["ColumnDescription"]("remarks", "Remarks", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_5__["ColumnDescriptionInputType"].TEXT, null, undefined, "md"),
        ];
    }
    AserComponent.prototype.ngOnChanges = function (changes) {
        if (changes.hasOwnProperty("child")) {
            this.loadData(this.child.getId());
        }
    };
    AserComponent.prototype.loadData = function (id) {
        var _this = this;
        this.childrenService
            .getAserResultsOfChild(id)
            .pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_6__["untilDestroyed"])(this))
            .subscribe(function (results) {
            _this.records = results.sort(function (a, b) {
                return (b.date ? b.date.valueOf() : 0) - (a.date ? a.date.valueOf() : 0);
            });
        });
    };
    AserComponent.prototype.generateNewRecordFactory = function () {
        // define values locally because "this" is a different scope after passing a function as input to another component
        var child = this.child.getId();
        return function () {
            var newAtt = new _model_aser__WEBPACK_IMPORTED_MODULE_2__["Aser"](Date.now().toString());
            newAtt.date = new Date();
            newAtt.child = child;
            return newAtt;
        };
    };
    AserComponent.ɵfac = function AserComponent_Factory(t) { return new (t || AserComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_children_children_service__WEBPACK_IMPORTED_MODULE_4__["ChildrenService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_common__WEBPACK_IMPORTED_MODULE_1__["DatePipe"])); };
    AserComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AserComponent, selectors: [["app-aser"]], inputs: { child: "child" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 3, consts: [[3, "records", "columns", "newRecordFactory"]], template: function AserComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-entity-subrecord", 0);
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("records", ctx.records)("columns", ctx.columns)("newRecordFactory", ctx.generateNewRecordFactory());
        } }, directives: [_core_entity_subrecord_entity_subrecord_entity_subrecord_component__WEBPACK_IMPORTED_MODULE_8__["EntitySubrecordComponent"]], encapsulation: 2 });
    AserComponent = __decorate([
        Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_6__["UntilDestroy"])(),
        __metadata("design:paramtypes", [_children_children_service__WEBPACK_IMPORTED_MODULE_4__["ChildrenService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["DatePipe"]])
    ], AserComponent);
    return AserComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AserComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-aser",
                template: '<app-entity-subrecord [records]="records" [columns]="columns" [newRecordFactory]="generateNewRecordFactory()">' +
                    "</app-entity-subrecord>",
            }]
    }], function () { return [{ type: _children_children_service__WEBPACK_IMPORTED_MODULE_4__["ChildrenService"] }, { type: _angular_common__WEBPACK_IMPORTED_MODULE_1__["DatePipe"] }]; }, { child: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/aser/demo-aser-generator.service.ts":
/*!***********************************************************************!*\
  !*** ./src/app/child-dev-project/aser/demo-aser-generator.service.ts ***!
  \***********************************************************************/
/*! exports provided: DemoAserGeneratorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DemoAserGeneratorService", function() { return DemoAserGeneratorService; });
/* harmony import */ var _children_demo_data_generators_demo_child_generator_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../children/demo-data-generators/demo-child-generator.service */ "./src/app/child-dev-project/children/demo-data-generators/demo-child-generator.service.ts");
/* harmony import */ var _core_demo_data_demo_data_generator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/demo-data/demo-data-generator */ "./src/app/core/demo-data/demo-data-generator.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/demo-data/faker */ "./src/app/core/demo-data/faker.ts");
/* harmony import */ var _warning_level__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../warning-level */ "./src/app/child-dev-project/warning-level.ts");
/* harmony import */ var _model_aser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./model/aser */ "./src/app/child-dev-project/aser/model/aser.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};








/**
 * Generate ASER results every 12 months for each Child until passing.
 * Builds upon the generated demo Child entities.
 */
var DemoAserGeneratorService = /** @class */ (function (_super) {
    __extends(DemoAserGeneratorService, _super);
    function DemoAserGeneratorService(demoChildren) {
        var _this = _super.call(this) || this;
        _this.demoChildren = demoChildren;
        return _this;
    }
    /**
     * This function returns a provider object to be used in an Angular Module configuration:
     *   `providers: [DemoAserGeneratorService.provider()]`
     */
    DemoAserGeneratorService.provider = function () {
        return [
            { provide: DemoAserGeneratorService, useClass: DemoAserGeneratorService },
        ];
    };
    DemoAserGeneratorService.prototype.generateEntities = function () {
        var e_1, _a;
        var data = [];
        try {
            for (var _b = __values(this.demoChildren.entities), _c = _b.next(); !_c.done; _c = _b.next()) {
                var child = _c.value;
                data.push.apply(data, __spread(this.generateAserResultsForChild(child)));
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
        return data;
    };
    DemoAserGeneratorService.prototype.generateAserResultsForChild = function (child) {
        var data = [];
        var date = new Date(child.admissionDate.getTime());
        var previousResult = new _model_aser__WEBPACK_IMPORTED_MODULE_5__["Aser"]("");
        var firstLanguage = child.motherTongue.toLowerCase();
        do {
            var aserResult = new _model_aser__WEBPACK_IMPORTED_MODULE_5__["Aser"](_core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__["faker"].random.uuid());
            aserResult.child = child.getId();
            aserResult.date = date;
            aserResult.math = this.selectNextSkillLevel(_model_aser__WEBPACK_IMPORTED_MODULE_5__["Aser"].MathLevels, previousResult.math);
            aserResult.english = this.selectNextSkillLevel(_model_aser__WEBPACK_IMPORTED_MODULE_5__["Aser"].ReadingLevels, previousResult.english);
            aserResult[firstLanguage] = this.selectNextSkillLevel(_model_aser__WEBPACK_IMPORTED_MODULE_5__["Aser"].ReadingLevels, previousResult[firstLanguage]);
            data.push(aserResult);
            date = new Date(date.getFullYear() + 1, 2, 1);
            previousResult = aserResult;
        } while (date < _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__["faker"].getEarlierDateOrToday(child.dropoutDate) &&
            previousResult.getWarningLevel() !== _warning_level__WEBPACK_IMPORTED_MODULE_4__["WarningLevel"].OK);
        return data;
    };
    /**
     * Randomly select the next Aser level for a skill based on the previous result.
     * @param skillRange The array of skill levels for the desired subject (Aser.MathLevels or Aser.ReadingLevels)
     * @param previousSkillLevel The string indicating the level from the previous test for this subject
     */
    DemoAserGeneratorService.prototype.selectNextSkillLevel = function (skillRange, previousSkillLevel) {
        var previousSkillLevelIndex = skillRange.indexOf(previousSkillLevel);
        var nextSkillLevelIndex;
        var random = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__["faker"].random.number(100);
        if (random < 20) {
            nextSkillLevelIndex = previousSkillLevelIndex;
        }
        else if (random < 90) {
            nextSkillLevelIndex = previousSkillLevelIndex + 1;
        }
        else {
            nextSkillLevelIndex = previousSkillLevelIndex + 2;
        }
        return skillRange[this.trimToValidIndex(nextSkillLevelIndex, skillRange)];
    };
    /**
     * Convert the given number to a valid index of the array by capping it to a range of [0, array.lenght -1]
     * @param index
     * @param array
     */
    DemoAserGeneratorService.prototype.trimToValidIndex = function (index, array) {
        if (index < 0) {
            return 0;
        }
        return Math.min(index, array.length - 1);
    };
    DemoAserGeneratorService.ɵfac = function DemoAserGeneratorService_Factory(t) { return new (t || DemoAserGeneratorService)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_children_demo_data_generators_demo_child_generator_service__WEBPACK_IMPORTED_MODULE_0__["DemoChildGenerator"])); };
    DemoAserGeneratorService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: DemoAserGeneratorService, factory: DemoAserGeneratorService.ɵfac });
    return DemoAserGeneratorService;
}(_core_demo_data_demo_data_generator__WEBPACK_IMPORTED_MODULE_1__["DemoDataGenerator"]));

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵsetClassMetadata"](DemoAserGeneratorService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"]
    }], function () { return [{ type: _children_demo_data_generators_demo_child_generator_service__WEBPACK_IMPORTED_MODULE_0__["DemoChildGenerator"] }]; }, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/aser/model/aser.ts":
/*!******************************************************!*\
  !*** ./src/app/child-dev-project/aser/model/aser.ts ***!
  \******************************************************/
/*! exports provided: Aser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Aser", function() { return Aser; });
/* harmony import */ var _core_entity_entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/entity/entity */ "./src/app/core/entity/entity.ts");
/* harmony import */ var _warning_level__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../warning-level */ "./src/app/child-dev-project/warning-level.ts");
/* harmony import */ var _core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/entity/database-field.decorator */ "./src/app/core/entity/database-field.decorator.ts");
/* harmony import */ var _core_entity_database_entity_decorator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/entity/database-entity.decorator */ "./src/app/core/entity/database-entity.decorator.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var Aser = /** @class */ (function (_super) {
    __extends(Aser, _super);
    function Aser() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.date = new Date();
        _this.hindi = "";
        _this.bengali = "";
        _this.english = "";
        _this.math = "";
        _this.remarks = "";
        return _this;
    }
    Aser_1 = Aser;
    Aser.isReadingPassedOrNA = function (level) {
        if (level === "" || level === undefined) {
            // not applicable
            return true;
        }
        if (level === this.ReadingLevels[4]) {
            // passed highest level
            return true;
        }
        return false;
    };
    Aser.isMathPassedOrNA = function (level) {
        if (level === "" || level === undefined) {
            // not applicable
            return true;
        }
        if (level === this.MathLevels[4]) {
            // passed highest level
            return true;
        }
        return false;
    };
    Aser.prototype.getWarningLevel = function () {
        var warningLevel = _warning_level__WEBPACK_IMPORTED_MODULE_1__["WarningLevel"].NONE;
        if (Aser_1.isReadingPassedOrNA(this.english) &&
            Aser_1.isReadingPassedOrNA(this.hindi) &&
            Aser_1.isReadingPassedOrNA(this.bengali) &&
            Aser_1.isMathPassedOrNA(this.math)) {
            warningLevel = _warning_level__WEBPACK_IMPORTED_MODULE_1__["WarningLevel"].OK;
        }
        else {
            warningLevel = _warning_level__WEBPACK_IMPORTED_MODULE_1__["WarningLevel"].WARNING;
        }
        return warningLevel;
    };
    var Aser_1;
    Aser.ReadingLevels = [
        "Nothing",
        "Read Letters",
        "Read Words",
        "Read Sentence",
        "Read Paragraph",
    ];
    Aser.MathLevels = [
        "Nothing",
        "Numbers 1-9",
        "Numbers 10-99",
        "Subtraction",
        "Division",
    ];
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Aser.prototype, "child", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", Date)
    ], Aser.prototype, "date", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Aser.prototype, "hindi", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Aser.prototype, "bengali", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Aser.prototype, "english", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Aser.prototype, "math", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Aser.prototype, "remarks", void 0);
    Aser = Aser_1 = __decorate([
        Object(_core_entity_database_entity_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseEntity"])("Aser")
    ], Aser);
    return Aser;
}(_core_entity_entity__WEBPACK_IMPORTED_MODULE_0__["Entity"]));



/***/ }),

/***/ "./src/app/child-dev-project/attendance/add-day-attendance/add-day-attendance.component.ts":
/*!*************************************************************************************************!*\
  !*** ./src/app/child-dev-project/attendance/add-day-attendance/add-day-attendance.component.ts ***!
  \*************************************************************************************************/
/*! exports provided: AddDayAttendanceComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddDayAttendanceComponent", function() { return AddDayAttendanceComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/flex-layout/flex */ "./node_modules/@angular/flex-layout/esm5/flex.es5.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/datepicker */ "./node_modules/@angular/material/fesm5/datepicker.js");
/* harmony import */ var _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/button-toggle */ "./node_modules/@angular/material/fesm5/button-toggle.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _children_select_group_children_select_group_children_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../children/select-group-children/select-group-children.component */ "./src/app/child-dev-project/children/select-group-children/select-group-children.component.ts");
/* harmony import */ var _roll_call_roll_call_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./roll-call/roll-call.component */ "./src/app/child-dev-project/attendance/add-day-attendance/roll-call/roll-call.component.ts");












function AddDayAttendanceComponent_div_4_Template(rf, ctx) { if (rf & 1) {
    var _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-form-field");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "input", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("dateChange", function AddDayAttendanceComponent_div_4_Template_input_dateChange_2_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); var ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r4.day = $event.target.value; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "mat-datepicker-toggle", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "mat-datepicker", null, 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "mat-button-toggle-group", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function AddDayAttendanceComponent_div_4_Template_mat_button_toggle_group_ngModelChange_7_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); var ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r6.attendanceType = $event; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "mat-button-toggle", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9, "School Attendance");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "mat-button-toggle", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11, "Coaching Attendance");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "button", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AddDayAttendanceComponent_div_4_Template_button_click_12_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); var ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r7.finishBasicInformationStage(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](13, " Continue ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](5);
    var ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", ctx_r0.day)("matDatepicker", _r3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("for", _r3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx_r0.attendanceType);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", !ctx_r0.attendanceType || !ctx_r0.day);
} }
function AddDayAttendanceComponent_div_5_Template(rf, ctx) { if (rf & 1) {
    var _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "app-select-group-children", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("valueChange", function AddDayAttendanceComponent_div_5_Template_app_select_group_children_valueChange_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r9); var ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r8.finishStudentSelectionStage($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "button", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AddDayAttendanceComponent_div_5_Template_button_click_2_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r9); var ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r10.currentStage = ctx_r10.currentStage - 1; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, " Back ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AddDayAttendanceComponent_div_6_Template(rf, ctx) { if (rf & 1) {
    var _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "app-roll-call", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("complete", function AddDayAttendanceComponent_div_6_Template_app_roll_call_complete_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r12); var ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r11.finishRollCallState(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("day", ctx_r2.day)("attendanceType", ctx_r2.attendanceType)("students", ctx_r2.students);
} }
var AddDayAttendanceComponent = /** @class */ (function () {
    function AddDayAttendanceComponent() {
        this.currentStage = 0;
        this.day = new Date();
        this.students = [];
        this.stages = ["Setup Roll Call", "Select Student Group", "Roll Call"];
    }
    AddDayAttendanceComponent.prototype.finishBasicInformationStage = function () {
        this.currentStage = 1;
    };
    AddDayAttendanceComponent.prototype.finishStudentSelectionStage = function (selectedStudents) {
        this.students = selectedStudents;
        this.currentStage = 2;
    };
    AddDayAttendanceComponent.prototype.finishRollCallState = function () {
        this.currentStage = 0;
    };
    AddDayAttendanceComponent.ɵfac = function AddDayAttendanceComponent_Factory(t) { return new (t || AddDayAttendanceComponent)(); };
    AddDayAttendanceComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AddDayAttendanceComponent, selectors: [["app-add-day-attendance"]], decls: 7, vars: 4, consts: [["fxLayout", "column", "fxLayoutAlign", "space-around start", 4, "ngIf"], ["fxLayout", "column", 4, "ngIf"], [4, "ngIf"], ["fxLayout", "column", "fxLayoutAlign", "space-around start"], ["matInput", "", "placeholder", "Date", 3, "value", "matDatepicker", "dateChange"], ["matSuffix", "", 3, "for"], ["addDayAttendanceDatepicker", ""], ["fxFlex", "", 1, "form-field"], ["name", "attendanceType", 3, "ngModel", "ngModelChange"], ["value", "school"], ["value", "coaching"], ["mat-stroked-button", "", "fxFlex", "", 3, "disabled", "click"], ["fxLayout", "column"], [3, "valueChange"], ["mat-stroked-button", "", "fxFlex", "", 1, "nav-button", 3, "click"], [3, "day", "attendanceType", "students", "complete"]], template: function AddDayAttendanceComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "h1");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Add Daily Attendance");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h2");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, AddDayAttendanceComponent_div_4_Template, 14, 5, "div", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, AddDayAttendanceComponent_div_5_Template, 4, 0, "div", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, AddDayAttendanceComponent_div_6_Template, 2, 3, "div", 2);
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.stages[ctx.currentStage]);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.currentStage === 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.currentStage === 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.currentStage === 2);
        } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgIf"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_2__["DefaultLayoutDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_2__["DefaultLayoutAlignDirective"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_3__["MatFormField"], _angular_material_input__WEBPACK_IMPORTED_MODULE_4__["MatInput"], _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_5__["MatDatepickerInput"], _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_5__["MatDatepickerToggle"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_3__["MatSuffix"], _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_5__["MatDatepicker"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_2__["DefaultFlexDirective"], _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_6__["MatButtonToggleGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_7__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_7__["NgModel"], _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_6__["MatButtonToggle"], _angular_material_button__WEBPACK_IMPORTED_MODULE_8__["MatButton"], _children_select_group_children_select_group_children_component__WEBPACK_IMPORTED_MODULE_9__["SelectGroupChildrenComponent"], _roll_call_roll_call_component__WEBPACK_IMPORTED_MODULE_10__["RollCallComponent"]], styles: [".form-field[_ngcontent-%COMP%] {\n  padding-bottom: 17px;\n}\n\n.nav-button[_ngcontent-%COMP%] {\n  margin: 10px;\n  flex: none;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvYXR0ZW5kYW5jZS9hZGQtZGF5LWF0dGVuZGFuY2UvYWRkLWRheS1hdHRlbmRhbmNlLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jaGlsZC1kZXYtcHJvamVjdC9hdHRlbmRhbmNlL2FkZC1kYXktYXR0ZW5kYW5jZS9hZGQtZGF5LWF0dGVuZGFuY2UuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxvQkFBQTtBQ0NGOztBREVBO0VBQ0UsWUFBQTtFQUNBLFVBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL2NoaWxkLWRldi1wcm9qZWN0L2F0dGVuZGFuY2UvYWRkLWRheS1hdHRlbmRhbmNlL2FkZC1kYXktYXR0ZW5kYW5jZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5mb3JtLWZpZWxkIHtcbiAgcGFkZGluZy1ib3R0b206IDE3cHg7XG59XG5cbi5uYXYtYnV0dG9uIHtcbiAgbWFyZ2luOiAxMHB4O1xuICBmbGV4OiBub25lO1xufVxuIiwiLmZvcm0tZmllbGQge1xuICBwYWRkaW5nLWJvdHRvbTogMTdweDtcbn1cblxuLm5hdi1idXR0b24ge1xuICBtYXJnaW46IDEwcHg7XG4gIGZsZXg6IG5vbmU7XG59Il19 */"] });
    return AddDayAttendanceComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AddDayAttendanceComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-add-day-attendance",
                templateUrl: "./add-day-attendance.component.html",
                styleUrls: ["./add-day-attendance.component.scss"],
            }]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/attendance/add-day-attendance/roll-call/roll-call.component.ts":
/*!**************************************************************************************************!*\
  !*** ./src/app/child-dev-project/attendance/add-day-attendance/roll-call/roll-call.component.ts ***!
  \**************************************************************************************************/
/*! exports provided: RollCallComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RollCallComponent", function() { return RollCallComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _model_attendance_day__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../model/attendance-day */ "./src/app/child-dev-project/attendance/model/attendance-day.ts");
/* harmony import */ var _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/entity/entity-mapper.service */ "./src/app/core/entity/entity-mapper.service.ts");
/* harmony import */ var _model_attendance_month__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../model/attendance-month */ "./src/app/child-dev-project/attendance/model/attendance-month.ts");
/* harmony import */ var _children_children_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../children/children.service */ "./src/app/child-dev-project/children/children.service.ts");
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/animations */ "./node_modules/@angular/animations/fesm5/animations.js");
/* harmony import */ var _core_app_config_app_config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/app-config/app-config */ "./src/app/core/app-config/app-config.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/progress-bar */ "./node_modules/@angular/material/fesm5/progress-bar.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/flex-layout/flex */ "./node_modules/@angular/flex-layout/esm5/flex.es5.js");
/* harmony import */ var _angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/flex-layout/extended */ "./node_modules/@angular/flex-layout/esm5/extended.es5.js");
/* harmony import */ var _children_child_block_child_block_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../children/child-block/child-block.component */ "./src/app/child-dev-project/children/child-block/child-block.component.ts");
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/card */ "./node_modules/@angular/material/fesm5/card.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};

















function RollCallComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-progress-bar", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, "Loading attendance list ...");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function RollCallComponent_div_1_div_1_span_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span", 11);
} }
function RollCallComponent_div_1_div_1_span_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span", 11);
} }
function RollCallComponent_div_1_div_1_span_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span", 11);
} }
function RollCallComponent_div_1_div_1_span_13_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span", 11);
} }
function RollCallComponent_div_1_div_1_span_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span", 11);
} }
var _c0 = function (a0) { return { "hidden": a0 }; };
var _c1 = function (a0) { return { "attendance-P": a0 }; };
var _c2 = function (a0) { return { "attendance-A": a0 }; };
var _c3 = function (a0) { return { "attendance-L": a0 }; };
var _c4 = function (a0) { return { "attendance-H": a0 }; };
var _c5 = function (a0) { return { "attendance-E": a0 }; };
var _c6 = function (a0) { return { "attendance-U": a0 }; };
function RollCallComponent_div_1_div_1_Template(rf, ctx) { if (rf & 1) {
    var _r15 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "app-child-block", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function RollCallComponent_div_1_div_1_Template_div_click_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r15); var ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r14.markAttendance(ctx_r14.AttStatus.PRESENT); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, RollCallComponent_div_1_div_1_span_4_Template, 1, 0, "span", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, " Present ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function RollCallComponent_div_1_div_1_Template_div_click_6_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r15); var ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r16.markAttendance(ctx_r16.AttStatus.ABSENT); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, RollCallComponent_div_1_div_1_span_7_Template, 1, 0, "span", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8, " Absent ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function RollCallComponent_div_1_div_1_Template_div_click_9_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r15); var ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r17.markAttendance(ctx_r17.AttStatus.LATE); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, RollCallComponent_div_1_div_1_span_10_Template, 1, 0, "span", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11, " Late ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function RollCallComponent_div_1_div_1_Template_div_click_12_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r15); var ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r18.markAttendance(ctx_r18.AttStatus.HOLIDAY); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](13, RollCallComponent_div_1_div_1_span_13_Template, 1, 0, "span", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](14, " Holiday ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function RollCallComponent_div_1_div_1_Template_div_click_15_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r15); var ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r19.markAttendance(ctx_r19.AttStatus.EXCUSED); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](16, RollCallComponent_div_1_div_1_span_16_Template, 1, 0, "span", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](17, " Excused ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](18, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function RollCallComponent_div_1_div_1_Template_div_click_18_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r15); var ctx_r20 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r20.markAttendance(ctx_r20.AttStatus.UNKNOWN); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](19, " Skip ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var entry_r7 = ctx.$implicit;
    var i_r8 = ctx.index;
    var ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](13, _c0, ctx_r2.currentIndex !== i_r8));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entity", entry_r7.child);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](15, _c1, entry_r7.attendanceDay.status === ctx_r2.AttStatus.PRESENT));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", entry_r7.attendanceDay.status === ctx_r2.AttStatus.PRESENT);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](17, _c2, entry_r7.attendanceDay.status === ctx_r2.AttStatus.ABSENT));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", entry_r7.attendanceDay.status === ctx_r2.AttStatus.ABSENT);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](19, _c3, entry_r7.attendanceDay.status === ctx_r2.AttStatus.LATE));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", entry_r7.attendanceDay.status === ctx_r2.AttStatus.LATE);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](21, _c4, entry_r7.attendanceDay.status === ctx_r2.AttStatus.HOLIDAY));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", entry_r7.attendanceDay.status === ctx_r2.AttStatus.HOLIDAY);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](23, _c5, entry_r7.attendanceDay.status === ctx_r2.AttStatus.EXCUSED));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", entry_r7.attendanceDay.status === ctx_r2.AttStatus.EXCUSED);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](25, _c6, entry_r7.attendanceDay.status === ctx_r2.AttStatus.UNKNOWN));
} }
function RollCallComponent_div_1_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "span", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "br");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, " Roll call completed. ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("@completeRollCall", undefined);
} }
function RollCallComponent_div_1_button_6_Template(rf, ctx) { if (rf & 1) {
    var _r22 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function RollCallComponent_div_1_button_6_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r22); var ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r21.endRollCall(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Abort ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function RollCallComponent_div_1_button_7_Template(rf, ctx) { if (rf & 1) {
    var _r24 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function RollCallComponent_div_1_button_7_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r24); var ctx_r23 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r23.endRollCall(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "b");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "Finish");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function RollCallComponent_div_1_mat_card_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-card-title");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "Debugging Information");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "mat-card-content");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "Day: ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "em");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9, "Current Record: ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "em");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r6.day);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r6.debugContent);
} }
function RollCallComponent_div_1_Template(rf, ctx) { if (rf & 1) {
    var _r26 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, RollCallComponent_div_1_div_1_Template, 20, 27, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, RollCallComponent_div_1_div_2_Template, 4, 1, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "button", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function RollCallComponent_div_1_Template_button_click_4_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r26); var ctx_r25 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r25.currentIndex = ctx_r25.currentIndex - 1; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, " Back ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, RollCallComponent_div_1_button_6_Template, 2, 0, "button", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, RollCallComponent_div_1_button_7_Template, 3, 0, "button", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, RollCallComponent_div_1_mat_card_8_Template, 12, 2, "mat-card", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r1.rollCallList);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.isFinished());
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", ctx_r1.currentIndex < 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r1.isFinished());
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.isFinished());
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.showDebug);
} }
/**
 * Displays the given children one by one to the user to mark the attendance status for the given day and type.
 * This component itself handles the loading and saving of the attendances entities internally.
 */
var RollCallComponent = /** @class */ (function () {
    function RollCallComponent(entityMapper, childrenService) {
        this.entityMapper = entityMapper;
        this.childrenService = childrenService;
        /**
         * The children for whom attendance will be recorded
         */
        this.students = [];
        /**
         * Event emitted when the roll call is finished (or aborted).
         */
        this.complete = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.isLoading = true;
        this.rollCallList = [];
        this.AttStatus = _model_attendance_day__WEBPACK_IMPORTED_MODULE_1__["AttendanceStatus"];
        this.showDebug = _core_app_config_app_config__WEBPACK_IMPORTED_MODULE_6__["AppConfig"].settings.debug;
    }
    RollCallComponent.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadList()];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    RollCallComponent.prototype.loadList = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.isLoading = true;
                        _a = this;
                        return [4 /*yield*/, this.loadMonthAttendanceRecords(this.students)];
                    case 1:
                        _a.rollCallList = _b.sent();
                        this.sortRollCallList();
                        this.goToNextStudent(0);
                        this.isLoading = false;
                        return [2 /*return*/];
                }
            });
        });
    };
    RollCallComponent.prototype.loadMonthAttendanceRecords = function (children) {
        return __awaiter(this, void 0, void 0, function () {
            var rollCallRecords, attendances;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        rollCallRecords = [];
                        return [4 /*yield*/, this.childrenService
                                .getAttendancesOfMonth(this.day)
                                .toPromise()];
                    case 1:
                        attendances = _a.sent();
                        children.forEach(function (child) {
                            var attMonth = attendances.find(function (a) {
                                return a.student === child.getId() && a.institution === _this.attendanceType;
                            });
                            if (attMonth === undefined) {
                                attMonth = _model_attendance_month__WEBPACK_IMPORTED_MODULE_3__["AttendanceMonth"].createAttendanceMonth(child.getId(), _this.attendanceType);
                                attMonth.month = new Date(_this.day.getTime());
                            }
                            var attDay = attMonth.dailyRegister.find(function (d) {
                                return d.date.getDate() === _this.day.getDate() &&
                                    d.date.getMonth() === _this.day.getMonth() &&
                                    d.date.getFullYear() === _this.day.getFullYear();
                            });
                            rollCallRecords.push({
                                child: child,
                                attendanceMonth: attMonth,
                                attendanceDay: attDay,
                            });
                        });
                        return [2 /*return*/, rollCallRecords];
                }
            });
        });
    };
    RollCallComponent.prototype.sortRollCallList = function () {
        this.rollCallList.sort(function (a, b) {
            if (a.child.schoolClass === b.child.schoolClass) {
                return 0;
            }
            var diff = parseInt(a.child.schoolClass, 10) - parseInt(b.child.schoolClass, 10);
            if (!Number.isNaN(diff)) {
                return diff;
            }
            if (a.child.schoolClass < b.child.schoolClass ||
                b.child.schoolClass === undefined) {
                return -1;
            }
            return 1;
        });
    };
    RollCallComponent.prototype.markAttendance = function (status) {
        var _this = this;
        var rollCallListEntry = this.rollCallList[this.currentIndex];
        rollCallListEntry.attendanceDay.status = status;
        this.entityMapper.save(rollCallListEntry.attendanceMonth);
        setTimeout(function () { return _this.goToNextStudent(); }, 750);
    };
    RollCallComponent.prototype.goToNextStudent = function (newIndex) {
        if (newIndex !== undefined) {
            this.currentIndex = newIndex;
        }
        else {
            this.currentIndex++;
        }
        this.displayRecordForDebugging(this.rollCallList[this.currentIndex]);
    };
    RollCallComponent.prototype.endRollCall = function () {
        this.complete.emit();
    };
    RollCallComponent.prototype.isFinished = function () {
        return this.currentIndex >= this.rollCallList.length;
    };
    RollCallComponent.prototype.displayRecordForDebugging = function (rollCallRecord) {
        if (!rollCallRecord) {
            return;
        }
        console.log(rollCallRecord);
        this.debugContent = JSON.stringify(rollCallRecord.attendanceDay, null, 2);
    };
    RollCallComponent.ɵfac = function RollCallComponent_Factory(t) { return new (t || RollCallComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__["EntityMapperService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_children_children_service__WEBPACK_IMPORTED_MODULE_4__["ChildrenService"])); };
    RollCallComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: RollCallComponent, selectors: [["app-roll-call"]], inputs: { day: "day", attendanceType: "attendanceType", students: "students" }, outputs: { complete: "complete" }, decls: 2, vars: 2, consts: [[4, "ngIf"], ["mode", "indeterminate"], [3, "ngClass", 4, "ngFor", "ngForOf"], ["class", "roll-call-complete", 4, "ngIf"], ["mat-stroked-button", "", "fxFlex", "", 1, "nav-button", 3, "disabled", "click"], ["mat-stroked-button", "", "class", "nav-button", "fxFlex", "", 3, "click", 4, "ngIf"], [3, "ngClass"], [3, "entity"], ["fxLayout", "column", "fxLayoutAlign", "space-between stretch", 1, "options-wrapper"], [1, "group-select-option", 3, "ngClass", "click"], ["class", "fa fa-check", 4, "ngIf"], [1, "fa", "fa-check"], [1, "roll-call-complete"], [1, "fa", "fa-check-circle-o", "roll-call-complete-icon"], ["mat-stroked-button", "", "fxFlex", "", 1, "nav-button", 3, "click"]], template: function RollCallComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, RollCallComponent_div_0_Template, 4, 0, "div", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, RollCallComponent_div_1_Template, 9, 6, "div", 0);
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isLoading);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.isLoading);
        } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_7__["NgIf"], _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_8__["MatProgressBar"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgForOf"], _angular_material_button__WEBPACK_IMPORTED_MODULE_9__["MatButton"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_10__["DefaultFlexDirective"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgClass"], _angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_11__["DefaultClassDirective"], _children_child_block_child_block_component__WEBPACK_IMPORTED_MODULE_12__["ChildBlockComponent"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_10__["DefaultLayoutDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_10__["DefaultLayoutAlignDirective"], _angular_material_card__WEBPACK_IMPORTED_MODULE_13__["MatCard"], _angular_material_card__WEBPACK_IMPORTED_MODULE_13__["MatCardTitle"], _angular_material_card__WEBPACK_IMPORTED_MODULE_13__["MatCardContent"]], styles: [".group-select-option[_ngcontent-%COMP%] {\n  width: 100%;\n  padding: 16px;\n  cursor: pointer;\n  box-sizing: border-box;\n  border: 1px solid;\n  border-top: 0;\n}\n\n.group-select-option[_ngcontent-%COMP%]:first-child {\n  border-top: 1px solid;\n}\n\n.options-wrapper[_ngcontent-%COMP%] {\n  margin-top: 16px;\n}\n\n.hidden[_ngcontent-%COMP%] {\n  display: none;\n}\n\n.nav-button[_ngcontent-%COMP%] {\n  margin: 10px;\n  flex: none;\n}\n\n.roll-call-complete[_ngcontent-%COMP%] {\n  text-align: center;\n  line-height: 2em;\n  padding: 20px 0;\n  background-color: #C8E6C9;\n  border-radius: 5px;\n}\n\n.roll-call-complete-icon[_ngcontent-%COMP%] {\n  font-size: 40px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvYXR0ZW5kYW5jZS9hZGQtZGF5LWF0dGVuZGFuY2Uvcm9sbC1jYWxsL3JvbGwtY2FsbC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvYXR0ZW5kYW5jZS9hZGQtZGF5LWF0dGVuZGFuY2Uvcm9sbC1jYWxsL3JvbGwtY2FsbC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNFLFdBQUE7RUFDQSxhQUFBO0VBQ0EsZUFBQTtFQUNBLHNCQUFBO0VBQ0EsaUJBQUE7RUFDQSxhQUFBO0FDQUY7O0FER0E7RUFDRSxxQkFBQTtBQ0FGOztBREdBO0VBQ0UsZ0JBQUE7QUNBRjs7QURHQTtFQUNFLGFBQUE7QUNBRjs7QURHQTtFQUNFLFlBQUE7RUFDQSxVQUFBO0FDQUY7O0FER0E7RUFDRSxrQkFBQTtFQUNBLGdCQUFBO0VBRUEsZUFBQTtFQUVBLHlCQUFBO0VBQ0Esa0JBQUE7QUNGRjs7QURJQTtFQUNFLGVBQUE7QUNERiIsImZpbGUiOiJzcmMvYXBwL2NoaWxkLWRldi1wcm9qZWN0L2F0dGVuZGFuY2UvYWRkLWRheS1hdHRlbmRhbmNlL3JvbGwtY2FsbC9yb2xsLWNhbGwuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbi5ncm91cC1zZWxlY3Qtb3B0aW9uIHtcbiAgd2lkdGg6IDEwMCU7XG4gIHBhZGRpbmc6IDE2cHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgYm9yZGVyOiAxcHggc29saWQ7XG4gIGJvcmRlci10b3A6IDA7XG59XG5cbi5ncm91cC1zZWxlY3Qtb3B0aW9uOmZpcnN0LWNoaWxkIHtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkO1xufVxuXG4ub3B0aW9ucy13cmFwcGVyIHtcbiAgbWFyZ2luLXRvcDogMTZweDtcbn1cblxuLmhpZGRlbiB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG5cbi5uYXYtYnV0dG9uIHtcbiAgbWFyZ2luOiAxMHB4O1xuICBmbGV4OiBub25lO1xufVxuXG4ucm9sbC1jYWxsLWNvbXBsZXRlIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBsaW5lLWhlaWdodDogMmVtO1xuXG4gIHBhZGRpbmc6IDIwcHggMDtcblxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjQzhFNkM5O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG59XG4ucm9sbC1jYWxsLWNvbXBsZXRlLWljb24ge1xuICBmb250LXNpemU6IDQwcHg7XG59XG4iLCIuZ3JvdXAtc2VsZWN0LW9wdGlvbiB7XG4gIHdpZHRoOiAxMDAlO1xuICBwYWRkaW5nOiAxNnB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIGJvcmRlcjogMXB4IHNvbGlkO1xuICBib3JkZXItdG9wOiAwO1xufVxuXG4uZ3JvdXAtc2VsZWN0LW9wdGlvbjpmaXJzdC1jaGlsZCB7XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZDtcbn1cblxuLm9wdGlvbnMtd3JhcHBlciB7XG4gIG1hcmdpbi10b3A6IDE2cHg7XG59XG5cbi5oaWRkZW4ge1xuICBkaXNwbGF5OiBub25lO1xufVxuXG4ubmF2LWJ1dHRvbiB7XG4gIG1hcmdpbjogMTBweDtcbiAgZmxleDogbm9uZTtcbn1cblxuLnJvbGwtY2FsbC1jb21wbGV0ZSB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbGluZS1oZWlnaHQ6IDJlbTtcbiAgcGFkZGluZzogMjBweCAwO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjQzhFNkM5O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG59XG5cbi5yb2xsLWNhbGwtY29tcGxldGUtaWNvbiB7XG4gIGZvbnQtc2l6ZTogNDBweDtcbn0iXX0= */"], data: { animation: [
                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_5__["trigger"])("completeRollCall", [
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_5__["transition"])("void => *", [
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_5__["style"])({ backgroundColor: "white" }),
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_5__["animate"])(1000),
                    ]),
                ]),
            ] } });
    return RollCallComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RollCallComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-roll-call",
                templateUrl: "./roll-call.component.html",
                styleUrls: ["./roll-call.component.scss"],
                animations: [
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_5__["trigger"])("completeRollCall", [
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_5__["transition"])("void => *", [
                            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_5__["style"])({ backgroundColor: "white" }),
                            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_5__["animate"])(1000),
                        ]),
                    ]),
                ],
            }]
    }], function () { return [{ type: _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__["EntityMapperService"] }, { type: _children_children_service__WEBPACK_IMPORTED_MODULE_4__["ChildrenService"] }]; }, { day: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], attendanceType: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], students: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], complete: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/attendance/add-month-attendance/add-month-attendance.component.ts":
/*!*****************************************************************************************************!*\
  !*** ./src/app/child-dev-project/attendance/add-month-attendance/add-month-attendance.component.ts ***!
  \*****************************************************************************************************/
/*! exports provided: AddMonthAttendanceComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddMonthAttendanceComponent", function() { return AddMonthAttendanceComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/entity/entity-mapper.service */ "./src/app/core/entity/entity-mapper.service.ts");
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/table */ "./node_modules/@angular/material/fesm5/table.js");
/* harmony import */ var _model_attendance_month__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../model/attendance-month */ "./src/app/child-dev-project/attendance/model/attendance-month.ts");
/* harmony import */ var _core_confirmation_dialog_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/confirmation-dialog/confirmation-dialog.service */ "./src/app/core/confirmation-dialog/confirmation-dialog.service.ts");
/* harmony import */ var _core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/alerts/alert.service */ "./src/app/core/alerts/alert.service.ts");
/* harmony import */ var _children_children_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../children/children.service */ "./src/app/child-dev-project/children/children.service.ts");
/* harmony import */ var _schools_model_school__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../schools/model/school */ "./src/app/child-dev-project/schools/model/school.ts");
/* harmony import */ var _ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ngneat/until-destroy */ "./node_modules/@ngneat/until-destroy/fesm5/ngneat-until-destroy.js");
/* harmony import */ var _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/flex-layout/flex */ "./node_modules/@angular/flex-layout/esm5/flex.es5.js");
/* harmony import */ var _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/button-toggle */ "./node_modules/@angular/material/fesm5/button-toggle.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_material_sort__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/sort */ "./node_modules/@angular/material/fesm5/sort.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_select__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/select */ "./node_modules/@angular/material/fesm5/select.js");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/core */ "./node_modules/@angular/material/fesm5/core.js");
/* harmony import */ var _schools_school_block_school_block_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../schools/school-block/school-block.component */ "./src/app/child-dev-project/schools/school-block/school-block.component.ts");
/* harmony import */ var _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/material/progress-bar */ "./node_modules/@angular/material/fesm5/progress-bar.js");
/* harmony import */ var _children_child_block_child_block_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../children/child-block/child-block.component */ "./src/app/child-dev-project/children/child-block/child-block.component.ts");
/* harmony import */ var _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @angular/material/checkbox */ "./node_modules/@angular/material/fesm5/checkbox.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





























function AddMonthAttendanceComponent_mat_form_field_8_mat_option_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "app-school-block", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var s_r16 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", s_r16.getId());
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entity", s_r16)("linkDisabled", true);
} }
function AddMonthAttendanceComponent_mat_form_field_8_Template(rf, ctx) { if (rf & 1) {
    var _r18 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-form-field", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, " School ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "mat-select", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function AddMonthAttendanceComponent_mat_form_field_8_Template_mat_select_ngModelChange_3_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r18); var ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r17.school = $event; })("selectionChange", function AddMonthAttendanceComponent_mat_form_field_8_Template_mat_select_selectionChange_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r18); var ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r19.loadTable(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, AddMonthAttendanceComponent_mat_form_field_8_mat_option_4_Template, 2, 3, "mat-option", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx_r0.school);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0.schools);
} }
function AddMonthAttendanceComponent_mat_form_field_9_mat_option_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var center_r21 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", center_r21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", center_r21, " ");
} }
function AddMonthAttendanceComponent_mat_form_field_9_Template(rf, ctx) { if (rf & 1) {
    var _r23 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-form-field");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, " Center ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "mat-select", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function AddMonthAttendanceComponent_mat_form_field_9_Template_mat_select_ngModelChange_3_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r23); var ctx_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r22.coachingCenter = $event; })("selectionChange", function AddMonthAttendanceComponent_mat_form_field_9_Template_mat_select_selectionChange_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r23); var ctx_r24 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r24.loadTable(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, AddMonthAttendanceComponent_mat_form_field_9_mat_option_4_Template, 2, 2, "mat-option", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx_r1.coachingCenter);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r1.centers);
} }
function AddMonthAttendanceComponent_div_15_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-progress-bar", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, " Loading existing attendance records ...\n");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AddMonthAttendanceComponent_th_19_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Student ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AddMonthAttendanceComponent_td_20_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "app-child-block", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var att_r25 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entityId", att_r25.student);
} }
function AddMonthAttendanceComponent_th_22_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Attended ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AddMonthAttendanceComponent_td_23_Template(rf, ctx) { if (rf & 1) {
    var _r28 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-form-field", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "input", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function AddMonthAttendanceComponent_td_23_Template_input_ngModelChange_2_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r28); var att_r26 = ctx.$implicit; return att_r26.daysAttended = $event; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var att_r26 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", att_r26.daysAttended);
} }
function AddMonthAttendanceComponent_th_25_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Excused ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AddMonthAttendanceComponent_td_26_Template(rf, ctx) { if (rf & 1) {
    var _r31 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-form-field", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "input", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function AddMonthAttendanceComponent_td_26_Template_input_ngModelChange_2_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r31); var att_r29 = ctx.$implicit; return att_r29.daysExcused = $event; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var att_r29 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", att_r29.daysExcused);
} }
function AddMonthAttendanceComponent_th_28_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Remarks ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AddMonthAttendanceComponent_td_29_Template(rf, ctx) { if (rf & 1) {
    var _r34 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-form-field");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "input", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function AddMonthAttendanceComponent_td_29_Template_input_ngModelChange_2_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r34); var att_r32 = ctx.$implicit; return att_r32.remarks = $event; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var att_r32 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", att_r32.remarks);
} }
function AddMonthAttendanceComponent_th_31_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Working Days ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AddMonthAttendanceComponent_td_32_Template(rf, ctx) { if (rf & 1) {
    var _r37 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-checkbox", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function AddMonthAttendanceComponent_td_32_Template_mat_checkbox_ngModelChange_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r37); var att_r35 = ctx.$implicit; return att_r35.overridden = $event; })("change", function AddMonthAttendanceComponent_td_32_Template_mat_checkbox_change_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r37); var att_r35 = ctx.$implicit; var ctx_r38 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r38.resetOverriddenWorkingDays(att_r35); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "mat-form-field", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "input", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function AddMonthAttendanceComponent_td_32_Template_input_ngModelChange_3_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r37); var att_r35 = ctx.$implicit; return att_r35.daysWorking = $event; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var att_r35 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", att_r35.overridden);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", att_r35.daysWorking)("disabled", !att_r35.overridden);
} }
function AddMonthAttendanceComponent_tr_33_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "tr", 36);
} }
function AddMonthAttendanceComponent_tr_34_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "tr", 37);
} }
var AddMonthAttendanceComponent = /** @class */ (function () {
    function AddMonthAttendanceComponent(entityMapper, childrenService, confirmDialog, alertService) {
        this.entityMapper = entityMapper;
        this.childrenService = childrenService;
        this.confirmDialog = confirmDialog;
        this.alertService = alertService;
        this.schools = new Array();
        this.centers = new Array();
        this.children = new Array();
        this.childrenBySchool = new Map();
        this.childrenByCenter = new Map();
        this.attendanceDataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatTableDataSource"]();
        this.columnsToDisplay = [
            "student",
            "daysAttended",
            "daysExcused",
            "remarks",
            "daysWorking",
        ];
        this.loadingExistingRecords = false;
        this.attendanceType = "school";
    }
    AddMonthAttendanceComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.entityMapper
            .loadType(_schools_model_school__WEBPACK_IMPORTED_MODULE_7__["School"])
            .then(function (schools) { return (_this.schools = schools); });
        this.childrenService
            .getChildren()
            .pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_8__["untilDestroyed"])(this))
            .subscribe(function (children) {
            _this.children = children.filter(function (c) { return c.isActive(); });
            _this.initChildrenLookupTables(_this.children);
            _this.centers = children
                .map(function (c) { return c.center; })
                .filter(function (value, index, arr) { return arr.indexOf(value) === index; });
        });
    };
    AddMonthAttendanceComponent.prototype.initChildrenLookupTables = function (children) {
        var _this = this;
        this.childrenBySchool = new Map();
        this.childrenByCenter = new Map();
        children.forEach(function (c) {
            var arrS = _this.childrenBySchool.get(c.schoolId);
            if (arrS === undefined) {
                arrS = [];
                _this.childrenBySchool.set(c.schoolId, arrS);
            }
            arrS.push(c);
            var arrC = _this.childrenByCenter.get(c.center);
            if (arrC === undefined) {
                arrC = [];
                _this.childrenByCenter.set(c.center, arrC);
            }
            arrC.push(c);
        });
    };
    AddMonthAttendanceComponent.prototype.loadTable = function () {
        var _this = this;
        var records = new Array();
        this.getFilteredStudents()
            .sort(function (a, b) { return (a.schoolClass > b.schoolClass ? 1 : -1); })
            .forEach(function (c) {
            var att = _model_attendance_month__WEBPACK_IMPORTED_MODULE_3__["AttendanceMonth"].createAttendanceMonth(c.getId(), _this.attendanceType);
            att.month = _this.month;
            records.push(att);
        });
        this.loadExistingAttendanceRecordIfAvailable(records, this.month, this.attendanceType);
        this.attendanceDataSource.data = records;
    };
    AddMonthAttendanceComponent.prototype.getFilteredStudents = function () {
        var result;
        if (this.attendanceType === "school") {
            result = this.childrenBySchool.get(this.school);
        }
        if (this.attendanceType === "coaching") {
            result = this.childrenByCenter.get(this.coachingCenter);
        }
        if (result === undefined) {
            result = [];
        }
        return result;
    };
    AddMonthAttendanceComponent.prototype.updateWorkingDays = function () {
        var _this = this;
        this.attendanceDataSource.data.forEach(function (att) {
            if (!att.overridden) {
                att.daysWorking = _this.workingDays;
            }
        });
    };
    AddMonthAttendanceComponent.prototype.updateMonth = function (event) {
        var _this = this;
        this.month = event.target.valueAsDate;
        this.attendanceDataSource.data.forEach(function (att) { return (att.month = _this.month); });
    };
    AddMonthAttendanceComponent.prototype.resetOverriddenWorkingDays = function (att) {
        if (!att.overridden) {
            att.daysWorking = this.workingDays;
        }
    };
    AddMonthAttendanceComponent.prototype.isDataEnteredComplete = function () {
        var okay = true;
        if (this.month === undefined) {
            okay = false;
        }
        this.attendanceDataSource.data.forEach(function (att) {
            if (att.daysAttended === undefined || att.daysWorking === undefined) {
                okay = false;
            }
        });
        return okay;
    };
    AddMonthAttendanceComponent.prototype.save = function () {
        var _this = this;
        if (!this.isDataEnteredComplete()) {
            this.confirmDialog.openDialog("Incomplete Data", "Please complete the information for all students. Excused absences and remarks are optional.", false);
            return;
        }
        this.attendanceDataSource.data.forEach(function (att) {
            _this.entityMapper.save(att);
        });
        this.alertService.addInfo(this.attendanceDataSource.data.length + " attendance records saved.");
        this.reset();
    };
    AddMonthAttendanceComponent.prototype.reset = function () {
        this.workingDays = undefined;
        this.school = undefined;
        this.coachingCenter = undefined;
        this.loadTable();
    };
    AddMonthAttendanceComponent.prototype.loadExistingAttendanceRecordIfAvailable = function (recordsToOverwrite, month, attendanceType) {
        var _this = this;
        if (month === undefined) {
            return;
        }
        this.loadingExistingRecords = true;
        this.childrenService
            .getAttendancesOfMonth(this.month)
            .pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_8__["untilDestroyed"])(this))
            .subscribe(function (records) {
            recordsToOverwrite.forEach(function (recordToOverwrite) {
                var relevantExistingRecords = records.filter(function (a) {
                    return a.student === recordToOverwrite.student &&
                        a.institution === attendanceType;
                });
                if (relevantExistingRecords.length > 0) {
                    Object.assign(recordToOverwrite, relevantExistingRecords[0]);
                    recordToOverwrite.overridden = true;
                }
            });
            _this.loadingExistingRecords = false;
        });
    };
    AddMonthAttendanceComponent.ɵfac = function AddMonthAttendanceComponent_Factory(t) { return new (t || AddMonthAttendanceComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_1__["EntityMapperService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_children_children_service__WEBPACK_IMPORTED_MODULE_6__["ChildrenService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_confirmation_dialog_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_4__["ConfirmationDialogService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_5__["AlertService"])); };
    AddMonthAttendanceComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AddMonthAttendanceComponent, selectors: [["app-add-month-attendance"]], decls: 38, vars: 8, consts: [["fxLayoutGap", "10px"], ["name", "attendanceType", 3, "ngModel", "ngModelChange", "valueChange"], ["value", "school"], ["value", "coaching"], ["style", "width: 300px", 4, "ngIf"], [4, "ngIf"], ["matInput", "", "placeholder", "Month", "type", "month", 3, "change"], ["matInput", "", "placeholder", "Working Days", "type", "number", 3, "ngModel", "ngModelChange", "change"], [2, "margin-top", "20px"], ["mat-table", "", "matSort", "", 1, "mat-elevation-z8", "table-list", 3, "dataSource"], ["matColumnDef", "student"], ["mat-header-cell", "", "mat-sort-header", "", 4, "matHeaderCellDef"], ["mat-cell", "", 4, "matCellDef"], ["matColumnDef", "daysAttended"], ["matColumnDef", "daysExcused"], ["matColumnDef", "remarks"], ["matColumnDef", "daysWorking"], ["mat-cell", "", "fxLayoutGap", "10px", 4, "matCellDef"], ["mat-header-row", "", 4, "matHeaderRowDef"], ["mat-row", "", 4, "matRowDef", "matRowDefColumns"], ["mat-stroked-button", "", 3, "click"], [2, "width", "300px"], [3, "ngModel", "ngModelChange", "selectionChange"], [3, "value", 4, "ngFor", "ngForOf"], [3, "value"], [1, "mat-form-field", 3, "entity", "linkDisabled"], ["mode", "indeterminate"], ["mat-header-cell", "", "mat-sort-header", ""], ["mat-cell", ""], [3, "entityId"], [1, "input-number"], ["matInput", "", "type", "number", 3, "ngModel", "ngModelChange"], ["matInput", "", "type", "text", 3, "ngModel", "ngModelChange"], ["mat-cell", "", "fxLayoutGap", "10px"], [3, "ngModel", "ngModelChange", "change"], ["matInput", "", "type", "number", 3, "ngModel", "disabled", "ngModelChange"], ["mat-header-row", ""], ["mat-row", ""]], template: function AddMonthAttendanceComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "h1");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Add Monthly Attendance");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "mat-button-toggle-group", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function AddMonthAttendanceComponent_Template_mat_button_toggle_group_ngModelChange_3_listener($event) { return ctx.attendanceType = $event; })("valueChange", function AddMonthAttendanceComponent_Template_mat_button_toggle_group_valueChange_3_listener() { return ctx.loadTable(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "mat-button-toggle", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "School");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "mat-button-toggle", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7, "Coaching");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, AddMonthAttendanceComponent_mat_form_field_8_Template, 5, 2, "mat-form-field", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, AddMonthAttendanceComponent_mat_form_field_9_Template, 5, 2, "mat-form-field", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "div", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "input", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function AddMonthAttendanceComponent_Template_input_change_12_listener($event) { ctx.updateMonth($event); return ctx.loadTable(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "input", 7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function AddMonthAttendanceComponent_Template_input_ngModelChange_14_listener($event) { return ctx.workingDays = $event; })("change", function AddMonthAttendanceComponent_Template_input_change_14_listener() { return ctx.updateWorkingDays(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](15, AddMonthAttendanceComponent_div_15_Template, 3, 0, "div", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "div", 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "table", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](18, 10);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](19, AddMonthAttendanceComponent_th_19_Template, 2, 0, "th", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](20, AddMonthAttendanceComponent_td_20_Template, 2, 1, "td", 12);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](21, 13);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](22, AddMonthAttendanceComponent_th_22_Template, 2, 0, "th", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](23, AddMonthAttendanceComponent_td_23_Template, 3, 1, "td", 12);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](24, 14);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](25, AddMonthAttendanceComponent_th_25_Template, 2, 0, "th", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](26, AddMonthAttendanceComponent_td_26_Template, 3, 1, "td", 12);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](27, 15);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](28, AddMonthAttendanceComponent_th_28_Template, 2, 0, "th", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](29, AddMonthAttendanceComponent_td_29_Template, 3, 1, "td", 12);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](30, 16);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](31, AddMonthAttendanceComponent_th_31_Template, 2, 0, "th", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](32, AddMonthAttendanceComponent_td_32_Template, 4, 3, "td", 17);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](33, AddMonthAttendanceComponent_tr_33_Template, 1, 0, "tr", 18);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](34, AddMonthAttendanceComponent_tr_34_Template, 1, 0, "tr", 19);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](35, "div", 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](36, "button", 20);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AddMonthAttendanceComponent_Template_button_click_36_listener() { return ctx.save(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](37, "Save Attendance Records");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx.attendanceType);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.attendanceType === "school");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.attendanceType === "coaching");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx.workingDays);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.loadingExistingRecords);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("dataSource", ctx.attendanceDataSource);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](16);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matHeaderRowDef", ctx.columnsToDisplay);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matRowDefColumns", ctx.columnsToDisplay);
        } }, directives: [_angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_9__["DefaultLayoutGapDirective"], _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_10__["MatButtonToggleGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_11__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_11__["NgModel"], _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_10__["MatButtonToggle"], _angular_common__WEBPACK_IMPORTED_MODULE_12__["NgIf"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_13__["MatFormField"], _angular_material_input__WEBPACK_IMPORTED_MODULE_14__["MatInput"], _angular_forms__WEBPACK_IMPORTED_MODULE_11__["NumberValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_11__["DefaultValueAccessor"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatTable"], _angular_material_sort__WEBPACK_IMPORTED_MODULE_15__["MatSort"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatColumnDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatHeaderCellDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatCellDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatHeaderRowDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatRowDef"], _angular_material_button__WEBPACK_IMPORTED_MODULE_16__["MatButton"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_13__["MatLabel"], _angular_material_select__WEBPACK_IMPORTED_MODULE_17__["MatSelect"], _angular_common__WEBPACK_IMPORTED_MODULE_12__["NgForOf"], _angular_material_core__WEBPACK_IMPORTED_MODULE_18__["MatOption"], _schools_school_block_school_block_component__WEBPACK_IMPORTED_MODULE_19__["SchoolBlockComponent"], _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_20__["MatProgressBar"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatHeaderCell"], _angular_material_sort__WEBPACK_IMPORTED_MODULE_15__["MatSortHeader"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatCell"], _children_child_block_child_block_component__WEBPACK_IMPORTED_MODULE_21__["ChildBlockComponent"], _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_22__["MatCheckbox"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatHeaderRow"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatRow"]], styles: [".table-list[_ngcontent-%COMP%] {\n  width: 100%;\n}\n\n.input-number[_ngcontent-%COMP%] {\n  width: 40px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvYXR0ZW5kYW5jZS9hZGQtbW9udGgtYXR0ZW5kYW5jZS9hZGQtbW9udGgtYXR0ZW5kYW5jZS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvYXR0ZW5kYW5jZS9hZGQtbW9udGgtYXR0ZW5kYW5jZS9hZGQtbW9udGgtYXR0ZW5kYW5jZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFdBQUE7QUNDRjs7QURFQTtFQUNFLFdBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL2NoaWxkLWRldi1wcm9qZWN0L2F0dGVuZGFuY2UvYWRkLW1vbnRoLWF0dGVuZGFuY2UvYWRkLW1vbnRoLWF0dGVuZGFuY2UuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGFibGUtbGlzdCB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uaW5wdXQtbnVtYmVyIHtcbiAgd2lkdGg6IDQwcHg7XG59XG4iLCIudGFibGUtbGlzdCB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uaW5wdXQtbnVtYmVyIHtcbiAgd2lkdGg6IDQwcHg7XG59Il19 */"] });
    AddMonthAttendanceComponent = __decorate([
        Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_8__["UntilDestroy"])(),
        __metadata("design:paramtypes", [_core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_1__["EntityMapperService"],
            _children_children_service__WEBPACK_IMPORTED_MODULE_6__["ChildrenService"],
            _core_confirmation_dialog_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_4__["ConfirmationDialogService"],
            _core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_5__["AlertService"]])
    ], AddMonthAttendanceComponent);
    return AddMonthAttendanceComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AddMonthAttendanceComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-add-month-attendance",
                templateUrl: "./add-month-attendance.component.html",
                styleUrls: ["./add-month-attendance.component.scss"],
            }]
    }], function () { return [{ type: _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_1__["EntityMapperService"] }, { type: _children_children_service__WEBPACK_IMPORTED_MODULE_6__["ChildrenService"] }, { type: _core_confirmation_dialog_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_4__["ConfirmationDialogService"] }, { type: _core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_5__["AlertService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/attendance/attendance-analysis/attendance-analysis.component.ts":
/*!***************************************************************************************************!*\
  !*** ./src/app/child-dev-project/attendance/attendance-analysis/attendance-analysis.component.ts ***!
  \***************************************************************************************************/
/*! exports provided: AttendanceAnalysisComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AttendanceAnalysisComponent", function() { return AttendanceAnalysisComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _core_filter_filter_selection_filter_selection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/filter/filter-selection/filter-selection */ "./src/app/core/filter/filter-selection/filter-selection.ts");
/* harmony import */ var _children_children_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../children/children.service */ "./src/app/child-dev-project/children/children.service.ts");
/* harmony import */ var _angular_material_sort__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/sort */ "./node_modules/@angular/material/fesm5/sort.js");
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/table */ "./node_modules/@angular/material/fesm5/table.js");
/* harmony import */ var _ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngneat/until-destroy */ "./node_modules/@ngneat/until-destroy/fesm5/ngneat-until-destroy.js");
/* harmony import */ var _angular_material_expansion__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/expansion */ "./node_modules/@angular/material/fesm5/expansion.js");
/* harmony import */ var _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/flex-layout/flex */ "./node_modules/@angular/flex-layout/esm5/flex.es5.js");
/* harmony import */ var _angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/flex-layout/extended */ "./node_modules/@angular/flex-layout/esm5/extended.es5.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/datepicker */ "./node_modules/@angular/material/fesm5/datepicker.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/button-toggle */ "./node_modules/@angular/material/fesm5/button-toggle.js");
/* harmony import */ var _angular_material_select__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/select */ "./node_modules/@angular/material/fesm5/select.js");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/core */ "./node_modules/@angular/material/fesm5/core.js");
/* harmony import */ var _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/progress-bar */ "./node_modules/@angular/material/fesm5/progress-bar.js");
/* harmony import */ var _children_child_block_child_block_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../children/child-block/child-block.component */ "./src/app/child-dev-project/children/child-block/child-block.component.ts");
/* harmony import */ var _attendance_block_attendance_block_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../attendance-block/attendance-block.component */ "./src/app/child-dev-project/attendance/attendance-block/attendance-block.component.ts");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm2015/angulartics2.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

























function AttendanceAnalysisComponent_div_18_Template(rf, ctx) { if (rf & 1) {
    var _r28 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-button-toggle-group", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("valueChange", function AttendanceAnalysisComponent_div_18_Template_mat_button_toggle_group_valueChange_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r28); var ctx_r27 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r27.displayType = $event; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "mat-button-toggle", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, "Daily");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "mat-button-toggle", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "Monthly");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", ctx_r2.displayType);
} }
function AttendanceAnalysisComponent_div_19_Template(rf, ctx) { if (rf & 1) {
    var _r30 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-button-toggle-group", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("valueChange", function AttendanceAnalysisComponent_div_19_Template_mat_button_toggle_group_valueChange_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r30); var ctx_r29 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r29.attendanceType = $event; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "mat-button-toggle", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, "Any");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "mat-button-toggle", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "School Attendance");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "mat-button-toggle", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7, "Coaching Attendance");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "mat-button-toggle", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9, "Has No Attendance");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", ctx_r3.attendanceType);
} }
function AttendanceAnalysisComponent_mat_button_toggle_group_24_mat_button_toggle_1_Template(rf, ctx) { if (rf & 1) {
    var _r36 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-button-toggle", 40);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AttendanceAnalysisComponent_mat_button_toggle_group_24_mat_button_toggle_1_Template_mat_button_toggle_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r36); var option_r33 = ctx.$implicit; var filterSelection_r31 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; var ctx_r34 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); filterSelection_r31.selectedOption = option_r33.key; return ctx_r34.applyFilterSelections(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var option_r33 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", option_r33.key);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", option_r33.label, " ");
} }
function AttendanceAnalysisComponent_mat_button_toggle_group_24_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-button-toggle-group", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, AttendanceAnalysisComponent_mat_button_toggle_group_24_mat_button_toggle_1_Template, 2, 2, "mat-button-toggle", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var filterSelection_r31 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("name", filterSelection_r31.name)("value", filterSelection_r31.selectedOption);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", filterSelection_r31.options);
} }
function AttendanceAnalysisComponent_mat_form_field_28_mat_option_4_Template(rf, ctx) { if (rf & 1) {
    var _r42 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 40);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AttendanceAnalysisComponent_mat_form_field_28_mat_option_4_Template_mat_option_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r42); var option_r39 = ctx.$implicit; var filterSelection_r37 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; var ctx_r40 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); filterSelection_r37.selectedOption = option_r39.key; return ctx_r40.applyFilterSelections(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var option_r39 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", option_r39.key);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", option_r39.label, " ");
} }
function AttendanceAnalysisComponent_mat_form_field_28_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-form-field", 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "mat-select", 42);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, AttendanceAnalysisComponent_mat_form_field_28_mat_option_4_Template, 2, 2, "mat-option", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var filterSelection_r37 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](filterSelection_r37.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("id", filterSelection_r37.name)("value", filterSelection_r37.selectedOption);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", filterSelection_r37.options);
} }
function AttendanceAnalysisComponent_div_29_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-progress-bar", 43);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("Loading data (", ctx_r6.loading, ") ...");
} }
function AttendanceAnalysisComponent_th_32_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Student");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AttendanceAnalysisComponent_td_33_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "app-child-block", 46);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var record_r43 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entity", record_r43.child);
} }
function AttendanceAnalysisComponent_th_35_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Type");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AttendanceAnalysisComponent_td_36_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var record_r44 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", record_r44.attendanceType, " ");
} }
function AttendanceAnalysisComponent_th_38_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Attendance");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AttendanceAnalysisComponent_td_39_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "percent");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var record_r45 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 1, record_r45.averageAttendance, "1.0-0"), " ");
} }
function AttendanceAnalysisComponent_th_41_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Count");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AttendanceAnalysisComponent_td_42_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var record_r46 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", record_r46.recordCount, " ");
} }
function AttendanceAnalysisComponent_th_44_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Working Days");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AttendanceAnalysisComponent_td_45_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var record_r47 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", record_r47.totalWorking, " ");
} }
function AttendanceAnalysisComponent_th_47_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Attended");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AttendanceAnalysisComponent_td_48_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var record_r48 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", record_r48.totalAttended, " ");
} }
function AttendanceAnalysisComponent_th_50_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Absent");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AttendanceAnalysisComponent_td_51_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var record_r49 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", record_r49.totalAbsent, " ");
} }
function AttendanceAnalysisComponent_th_53_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Late");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AttendanceAnalysisComponent_td_54_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var record_r50 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", record_r50.totalLate, " ");
} }
function AttendanceAnalysisComponent_th_56_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Attendance");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AttendanceAnalysisComponent_td_57_app_attendance_block_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-attendance-block", 48);
} if (rf & 2) {
    var att_r53 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("attendanceData", att_r53);
} }
function AttendanceAnalysisComponent_td_57_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, AttendanceAnalysisComponent_td_57_app_attendance_block_1_Template, 1, 1, "app-attendance-block", 47);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var record_r51 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", record_r51.attendance);
} }
function AttendanceAnalysisComponent_tr_58_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "tr", 49);
} }
function AttendanceAnalysisComponent_tr_59_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "tr", 50);
} if (rf & 2) {
    var i_r55 = ctx.index;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("angularticsLabel", "list-entry-" + i_r55);
} }
var AttendanceAnalysisComponent = /** @class */ (function () {
    function AttendanceAnalysisComponent(childrenService) {
        this.childrenService = childrenService;
        this.attendanceType = "";
        this.displayType = "daily";
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_4__["MatTableDataSource"]();
        this.columnsToDisplay = [
            "child",
            "attendanceType",
            "averageAttendance",
            "totalWorking",
            "totalAttended",
            "totalAbsent",
            "totalLate",
            "attendance",
            "recordCount",
        ];
        this.loading = 0;
        this.centerFS = new _core_filter_filter_selection_filter_selection__WEBPACK_IMPORTED_MODULE_1__["FilterSelection"]("center", []);
        this.dropoutFS = new _core_filter_filter_selection_filter_selection__WEBPACK_IMPORTED_MODULE_1__["FilterSelection"]("status", [
            {
                key: "active",
                label: "Current Project Children",
                filterFun: function (c) { return c.isActive(); },
            },
            {
                key: "dropout",
                label: "Dropouts",
                filterFun: function (c) { return !c.isActive(); },
            },
            { key: "", label: "All", filterFun: function () { return true; } },
        ]);
        this.filterSelections = [this.dropoutFS, this.centerFS];
    }
    AttendanceAnalysisComponent.prototype.ngAfterViewInit = function () {
        this.dataSource.sort = this.sort;
    };
    AttendanceAnalysisComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.filterFrom = new Date();
        this.filterFrom.setDate(1);
        this.filterUntil = new Date();
        this.filterUntil.setDate(1);
        this.filterUntil.setMonth(this.filterUntil.getMonth() + 1);
        this.childrenService
            .getChildren()
            .pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_5__["untilDestroyed"])(this))
            .subscribe(function (data) {
            _this.childrenAll = data.filter(function (c) { return c.isActive(); });
            _this.initCenterFilterOptions();
            _this.applyFilterSelections();
        });
    };
    AttendanceAnalysisComponent.prototype.initCenterFilterOptions = function () {
        var centers = this.childrenAll
            .map(function (c) { return c.center; })
            .filter(function (value, index, arr) { return arr.indexOf(value) === index; });
        var options = [{ key: "", label: "All", filterFun: function (c) { return true; } }];
        centers.forEach(function (center) {
            options.push({
                key: center.toLowerCase(),
                label: center,
                filterFun: function (c) { return c.center === center; },
            });
        });
        this.centerFS.options = options;
    };
    AttendanceAnalysisComponent.prototype.applyFilterSelections = function () {
        var _this = this;
        this.loading = 0;
        var filteredData = this.childrenAll;
        this.filterSelections.forEach(function (f) {
            filteredData = filteredData.filter(f.getSelectedFilterFunction());
        });
        var data = [];
        filteredData.forEach(function (child) { return (data = data.concat(_this.loadChildRecords(child))); });
        this.dataSource.data = data;
    };
    AttendanceAnalysisComponent.prototype.loadChildRecords = function (child) {
        var _this = this;
        this.loading++;
        var recordCoaching = {
            child: child,
            attendanceType: "coaching",
            attendance: [],
            averageAttendance: 0,
        };
        var recordSchool = {
            child: child,
            attendanceType: "school",
            attendance: [],
            averageAttendance: 0,
        };
        this.childrenService
            .getAttendancesOfChild(child.getId())
            .pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_5__["untilDestroyed"])(this))
            .subscribe(function (attendances) {
            attendances.forEach(function (att) {
                if (_this.isLaterOrEqualMonth(att.month, _this.filterFrom) &&
                    _this.isEarlierOrEqualMonth(att.month, _this.filterUntil)) {
                    if (att.institution === "school") {
                        recordSchool.attendance.push(att);
                    }
                    else if (att.institution === "coaching") {
                        recordCoaching.attendance.push(att);
                    }
                }
            });
            _this.calculateRecordStats(recordSchool);
            _this.calculateRecordStats(recordCoaching);
            _this.loading--;
        });
        return [recordSchool, recordCoaching];
    };
    AttendanceAnalysisComponent.prototype.calculateRecordStats = function (record) {
        var stats = record.attendance.reduce(function (acc, a) {
            if (a.daysWorking > 0) {
                acc.count++;
                acc.daysWorking += a.daysWorking;
                acc.daysAttended += a.daysAttended;
                acc.daysLate += a.daysLate;
            }
            return acc;
        }, { sum: 0, count: 0, daysWorking: 0, daysAttended: 0, daysLate: 0 });
        record.recordCount = stats.count;
        record.averageAttendance = stats.daysAttended / stats.daysWorking;
        record.totalWorking = stats.daysWorking;
        record.totalAttended = stats.daysAttended;
        record.totalAbsent = stats.daysWorking - stats.daysAttended;
        record.totalLate = stats.daysLate;
    };
    AttendanceAnalysisComponent.prototype.isLaterOrEqualMonth = function (month, filterFrom) {
        return (month.getFullYear() > filterFrom.getFullYear() ||
            (month.getFullYear() === filterFrom.getFullYear() &&
                month.getMonth() >= filterFrom.getMonth()));
    };
    AttendanceAnalysisComponent.prototype.isEarlierOrEqualMonth = function (month, filterUntil) {
        return (month.getFullYear() < filterUntil.getFullYear() ||
            (month.getFullYear() === filterUntil.getFullYear() &&
                month.getMonth() <= filterUntil.getMonth()));
    };
    AttendanceAnalysisComponent.ɵfac = function AttendanceAnalysisComponent_Factory(t) { return new (t || AttendanceAnalysisComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_children_children_service__WEBPACK_IMPORTED_MODULE_2__["ChildrenService"])); };
    AttendanceAnalysisComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AttendanceAnalysisComponent, selectors: [["app-attendance-analysis"]], viewQuery: function AttendanceAnalysisComponent_Query(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_angular_material_sort__WEBPACK_IMPORTED_MODULE_3__["MatSort"], true);
        } if (rf & 2) {
            var _t;
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.sort = _t.first);
        } }, decls: 60, vars: 15, consts: [["expanded", "true", "fxLayout", "column", "fxLayoutGap", "10px", 1, "filter-panel"], ["fxHide.gt-xs", ""], ["mat-raised-button", "", 3, "click"], ["fxLayout", "row", "fxLayoutGap", "10px", 2, "margin-top", "20px"], ["matInput", "", "placeholder", "From", 3, "value", "matDatepicker", "dateChange"], ["matSuffix", "", 3, "for"], ["attendanceFromDatepicker", ""], ["matInput", "", "placeholder", "Until", 3, "value", "matDatepicker", "dateChange"], ["attendanceUntilDatepicker", ""], [4, "ngIf"], ["fxHide.lt-sm", ""], ["fxLayout", "row wrap", "fxLayoutGap", "10px", "fxHide.lt-sm", "", 1, "filter-button"], [3, "name", "value", 4, "ngFor", "ngForOf"], [1, "align-form-field"], ["fxLayout", "row wrap", "fxHide.gt-xs", ""], ["style", "padding-right: 1%;", 4, "ngFor", "ngForOf"], ["mat-table", "", "matSort", "", 1, "mat-elevation-z8", "table-list", 3, "dataSource"], ["matColumnDef", "child"], ["mat-header-cell", "", "mat-sort-header", "", 4, "matHeaderCellDef"], ["mat-cell", "", 4, "matCellDef"], ["matColumnDef", "attendanceType"], ["matColumnDef", "averageAttendance"], ["matColumnDef", "recordCount"], ["matColumnDef", "totalWorking"], ["matColumnDef", "totalAttended"], ["matColumnDef", "totalAbsent"], ["matColumnDef", "totalLate"], ["matColumnDef", "attendance"], ["mat-header-row", "", 4, "matHeaderRowDef"], ["mat-row", "", "class", "table-list-item", "angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "attendance_manager_list_link", 3, "angularticsLabel", 4, "matRowDef", "matRowDefColumns"], ["name", "displayType", 3, "value", "valueChange"], ["value", "daily"], ["value", "monthly"], ["name", "attendanceType", 3, "value", "valueChange"], ["value", ""], ["value", "school"], ["value", "coaching"], ["value", "none"], [3, "name", "value"], [3, "value", "click", 4, "ngFor", "ngForOf"], [3, "value", "click"], [2, "padding-right", "1%"], ["placeholder", "filterSelection.name", 3, "id", "value"], ["mode", "indeterminate"], ["mat-header-cell", "", "mat-sort-header", ""], ["mat-cell", ""], [3, "entity"], [3, "attendanceData", 4, "ngFor", "ngForOf"], [3, "attendanceData"], ["mat-header-row", ""], ["mat-row", "", "angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "attendance_manager_list_link", 1, "table-list-item", 3, "angularticsLabel"]], template: function AttendanceAnalysisComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "h1");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Attendance Analysis");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "mat-expansion-panel", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "button", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AttendanceAnalysisComponent_Template_button_click_4_listener() { return ctx.applyFilterSelections(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, " Search records ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "div", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "input", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("dateChange", function AttendanceAnalysisComponent_Template_input_dateChange_9_listener($event) { return ctx.filterFrom = $event.target.value; });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](10, "mat-datepicker-toggle", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](11, "mat-datepicker", null, 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "input", 7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("dateChange", function AttendanceAnalysisComponent_Template_input_dateChange_14_listener($event) { return ctx.filterUntil = $event.target.value; });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](15, "mat-datepicker-toggle", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](16, "mat-datepicker", null, 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](18, AttendanceAnalysisComponent_div_18_Template, 6, 1, "div", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](19, AttendanceAnalysisComponent_div_19_Template, 10, 1, "div", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](20, "div", 10);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](21, "button", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AttendanceAnalysisComponent_Template_button_click_21_listener() { return ctx.applyFilterSelections(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](22, " Search records ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](23, "div", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](24, AttendanceAnalysisComponent_mat_button_toggle_group_24_Template, 2, 3, "mat-button-toggle-group", 12);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](25, "div", 13);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](26);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](27, "div", 14);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](28, AttendanceAnalysisComponent_mat_form_field_28_Template, 5, 4, "mat-form-field", 15);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](29, AttendanceAnalysisComponent_div_29_Template, 4, 1, "div", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](30, "table", 16);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](31, 17);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](32, AttendanceAnalysisComponent_th_32_Template, 2, 0, "th", 18);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](33, AttendanceAnalysisComponent_td_33_Template, 2, 1, "td", 19);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](34, 20);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](35, AttendanceAnalysisComponent_th_35_Template, 2, 0, "th", 18);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](36, AttendanceAnalysisComponent_td_36_Template, 2, 1, "td", 19);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](37, 21);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](38, AttendanceAnalysisComponent_th_38_Template, 2, 0, "th", 18);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](39, AttendanceAnalysisComponent_td_39_Template, 3, 4, "td", 19);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](40, 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](41, AttendanceAnalysisComponent_th_41_Template, 2, 0, "th", 18);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](42, AttendanceAnalysisComponent_td_42_Template, 2, 1, "td", 19);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](43, 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](44, AttendanceAnalysisComponent_th_44_Template, 2, 0, "th", 18);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](45, AttendanceAnalysisComponent_td_45_Template, 2, 1, "td", 19);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](46, 24);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](47, AttendanceAnalysisComponent_th_47_Template, 2, 0, "th", 18);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](48, AttendanceAnalysisComponent_td_48_Template, 2, 1, "td", 19);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](49, 25);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](50, AttendanceAnalysisComponent_th_50_Template, 2, 0, "th", 18);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](51, AttendanceAnalysisComponent_td_51_Template, 2, 1, "td", 19);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](52, 26);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](53, AttendanceAnalysisComponent_th_53_Template, 2, 0, "th", 18);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](54, AttendanceAnalysisComponent_td_54_Template, 2, 1, "td", 19);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](55, 27);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](56, AttendanceAnalysisComponent_th_56_Template, 2, 0, "th", 18);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](57, AttendanceAnalysisComponent_td_57_Template, 2, 1, "td", 19);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](58, AttendanceAnalysisComponent_tr_58_Template, 1, 0, "tr", 28);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](59, AttendanceAnalysisComponent_tr_59_Template, 1, 1, "tr", 29);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            var _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](12);
            var _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](17);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", ctx.filterFrom)("matDatepicker", _r0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("for", _r0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", ctx.filterUntil)("matDatepicker", _r1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("for", _r1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", false);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", false);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.filterSelections);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" (Showing ", ctx.dataSource.filteredData.length / 2, " children) ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.filterSelections);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.loading > 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("dataSource", ctx.dataSource);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](28);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matHeaderRowDef", ctx.columnsToDisplay);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matRowDefColumns", ctx.columnsToDisplay);
        } }, directives: [_angular_material_expansion__WEBPACK_IMPORTED_MODULE_6__["MatExpansionPanel"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_7__["DefaultLayoutDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_7__["DefaultLayoutGapDirective"], _angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_8__["DefaultShowHideDirective"], _angular_material_button__WEBPACK_IMPORTED_MODULE_9__["MatButton"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_10__["MatFormField"], _angular_material_input__WEBPACK_IMPORTED_MODULE_11__["MatInput"], _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_12__["MatDatepickerInput"], _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_12__["MatDatepickerToggle"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_10__["MatSuffix"], _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_12__["MatDatepicker"], _angular_common__WEBPACK_IMPORTED_MODULE_13__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_13__["NgForOf"], _angular_material_table__WEBPACK_IMPORTED_MODULE_4__["MatTable"], _angular_material_sort__WEBPACK_IMPORTED_MODULE_3__["MatSort"], _angular_material_table__WEBPACK_IMPORTED_MODULE_4__["MatColumnDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_4__["MatHeaderCellDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_4__["MatCellDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_4__["MatHeaderRowDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_4__["MatRowDef"], _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_14__["MatButtonToggleGroup"], _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_14__["MatButtonToggle"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_10__["MatLabel"], _angular_material_select__WEBPACK_IMPORTED_MODULE_15__["MatSelect"], _angular_material_core__WEBPACK_IMPORTED_MODULE_16__["MatOption"], _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_17__["MatProgressBar"], _angular_material_table__WEBPACK_IMPORTED_MODULE_4__["MatHeaderCell"], _angular_material_sort__WEBPACK_IMPORTED_MODULE_3__["MatSortHeader"], _angular_material_table__WEBPACK_IMPORTED_MODULE_4__["MatCell"], _children_child_block_child_block_component__WEBPACK_IMPORTED_MODULE_18__["ChildBlockComponent"], _attendance_block_attendance_block_component__WEBPACK_IMPORTED_MODULE_19__["AttendanceBlockComponent"], _angular_material_table__WEBPACK_IMPORTED_MODULE_4__["MatHeaderRow"], _angular_material_table__WEBPACK_IMPORTED_MODULE_4__["MatRow"], angulartics2__WEBPACK_IMPORTED_MODULE_20__["Angulartics2On"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_13__["PercentPipe"]], styles: [".attendance-line[_ngcontent-%COMP%] {\n  margin: 10px;\n}\n\n.table-list[_ngcontent-%COMP%] {\n  margin-top: 10px;\n}\n\n.table-list[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n  padding-left: 8px;\n}\n\n.table-list-item[_ngcontent-%COMP%]:hover {\n  background: #f5f5f5;\n}\n\n.filter-panel[_ngcontent-%COMP%] {\n  padding-top: 10px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvYXR0ZW5kYW5jZS9hdHRlbmRhbmNlLWFuYWx5c2lzL2F0dGVuZGFuY2UtYW5hbHlzaXMuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NoaWxkLWRldi1wcm9qZWN0L2F0dGVuZGFuY2UvYXR0ZW5kYW5jZS1hbmFseXNpcy9hdHRlbmRhbmNlLWFuYWx5c2lzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtBQ0NGOztBREVBO0VBQ0UsZ0JBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxtQkFBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL2NoaWxkLWRldi1wcm9qZWN0L2F0dGVuZGFuY2UvYXR0ZW5kYW5jZS1hbmFseXNpcy9hdHRlbmRhbmNlLWFuYWx5c2lzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmF0dGVuZGFuY2UtbGluZSB7XG4gIG1hcmdpbjogMTBweDtcbn1cblxuLnRhYmxlLWxpc3R7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG59XG5cbi50YWJsZS1saXN0IHRkIHtcbiAgcGFkZGluZy1sZWZ0OiA4cHg7XG59XG5cbi50YWJsZS1saXN0LWl0ZW06aG92ZXJ7XG4gIGJhY2tncm91bmQ6ICNmNWY1ZjU7XG59XG5cbi5maWx0ZXItcGFuZWwge1xuICBwYWRkaW5nLXRvcDogMTBweDtcbn1cbiIsIi5hdHRlbmRhbmNlLWxpbmUge1xuICBtYXJnaW46IDEwcHg7XG59XG5cbi50YWJsZS1saXN0IHtcbiAgbWFyZ2luLXRvcDogMTBweDtcbn1cblxuLnRhYmxlLWxpc3QgdGQge1xuICBwYWRkaW5nLWxlZnQ6IDhweDtcbn1cblxuLnRhYmxlLWxpc3QtaXRlbTpob3ZlciB7XG4gIGJhY2tncm91bmQ6ICNmNWY1ZjU7XG59XG5cbi5maWx0ZXItcGFuZWwge1xuICBwYWRkaW5nLXRvcDogMTBweDtcbn0iXX0= */"] });
    AttendanceAnalysisComponent = __decorate([
        Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_5__["UntilDestroy"])(),
        __metadata("design:paramtypes", [_children_children_service__WEBPACK_IMPORTED_MODULE_2__["ChildrenService"]])
    ], AttendanceAnalysisComponent);
    return AttendanceAnalysisComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AttendanceAnalysisComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-attendance-analysis",
                templateUrl: "./attendance-analysis.component.html",
                styleUrls: ["./attendance-analysis.component.scss"],
            }]
    }], function () { return [{ type: _children_children_service__WEBPACK_IMPORTED_MODULE_2__["ChildrenService"] }]; }, { sort: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: [_angular_material_sort__WEBPACK_IMPORTED_MODULE_3__["MatSort"]]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/attendance/attendance-block/attendance-block.component.ts":
/*!*********************************************************************************************!*\
  !*** ./src/app/child-dev-project/attendance/attendance-block/attendance-block.component.ts ***!
  \*********************************************************************************************/
/*! exports provided: AttendanceBlockComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AttendanceBlockComponent", function() { return AttendanceBlockComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _model_attendance_month__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/attendance-month */ "./src/app/child-dev-project/attendance/model/attendance-month.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _attendance_days_attendance_days_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../attendance-days/attendance-days.component */ "./src/app/child-dev-project/attendance/attendance-days/attendance-days.component.ts");





function AttendanceBlockComponent_div_3_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" (excluding ", ctx_r1.attendanceData.daysExcused, " days excused) ");
} }
function AttendanceBlockComponent_div_3_Template(rf, ctx) { if (rf & 1) {
    var _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("mouseenter", function AttendanceBlockComponent_div_3_Template_div_mouseenter_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); var ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r2.showTooltip(); })("mouseleave", function AttendanceBlockComponent_div_3_Template_div_mouseleave_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); var ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r4.hideTooltip(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, AttendanceBlockComponent_div_3_div_7_Template, 2, 1, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](9, "app-attendance-days", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](4, 6, ctx_r0.attendanceData.month, "yyyy-MM"), " ", ctx_r0.attendanceData.institution, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"](" attended ", ctx_r0.attendanceData.daysAttended, " / ", ctx_r0.attendanceData.daysWorking - ctx_r0.attendanceData.daysExcused, " days ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.attendanceData.daysExcused > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("attendanceMonth", ctx_r0.attendanceData);
} }
var AttendanceBlockComponent = /** @class */ (function () {
    function AttendanceBlockComponent() {
        this.tooltip = false;
    }
    AttendanceBlockComponent.prototype.ngOnInit = function () { };
    AttendanceBlockComponent.prototype.showTooltip = function () {
        this.tooltip = true;
        if (this.tooltipTimeout) {
            clearTimeout(this.tooltipTimeout);
        }
    };
    AttendanceBlockComponent.prototype.hideTooltip = function () {
        var _this = this;
        this.tooltipTimeout = setTimeout(function () { return (_this.tooltip = false); }, 250);
    };
    AttendanceBlockComponent.ɵfac = function AttendanceBlockComponent_Factory(t) { return new (t || AttendanceBlockComponent)(); };
    AttendanceBlockComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AttendanceBlockComponent, selectors: [["app-attendance-block"]], inputs: { attendanceData: "attendanceData" }, decls: 4, vars: 8, consts: [[3, "mouseenter", "mouseleave"], ["style", "position:absolute;", 4, "ngIf"], [2, "position", "absolute"], [1, "mat-elevation-z5", "attendance-tooltip", 3, "mouseenter", "mouseleave"], [1, "attendance-tooltip-header"], [1, "attendance-tooltip-content"], ["class", "attendance-tooltip-content", 4, "ngIf"], [3, "attendanceMonth"]], template: function AttendanceBlockComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("mouseenter", function AttendanceBlockComponent_Template_span_mouseenter_0_listener() { return ctx.showTooltip(); })("mouseleave", function AttendanceBlockComponent_Template_span_mouseleave_0_listener() { return ctx.hideTooltip(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "percent");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, AttendanceBlockComponent_div_3_Template, 10, 9, "div", 1);
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("mat-elevation-z1 attendance-block w-", ctx.attendanceData.getWarningLevel(), "");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 5, ctx.attendanceData.getAttendancePercentage(), "1.0-0"), "\n");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.tooltip);
        } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _attendance_days_attendance_days_component__WEBPACK_IMPORTED_MODULE_3__["AttendanceDaysComponent"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["PercentPipe"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["DatePipe"]], styles: [".attendance-block[_ngcontent-%COMP%] {\n  display: inline-block;\n  text-align: center;\n  border-radius: 4px;\n  margin: 3px;\n  width: 42px;\n  padding-top: 5px;\n  padding-bottom: 5px;\n}\n\n.attendance-tooltip[_ngcontent-%COMP%] {\n  position: relative;\n  top: -5px;\n  left: 5px;\n  padding: 8px;\n  background-color: white;\n}\n\n.attendance-tooltip-header[_ngcontent-%COMP%] {\n  text-align: center;\n  font-weight: bold;\n}\n\n.attendance-tooltip-content[_ngcontent-%COMP%] {\n  text-align: left;\n  font-size: 0.95em;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvYXR0ZW5kYW5jZS9hdHRlbmRhbmNlLWJsb2NrL2F0dGVuZGFuY2UtYmxvY2suY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NoaWxkLWRldi1wcm9qZWN0L2F0dGVuZGFuY2UvYXR0ZW5kYW5jZS1ibG9jay9hdHRlbmRhbmNlLWJsb2NrLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UscUJBQUE7RUFDQSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FER0E7RUFDRSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxTQUFBO0VBRUEsWUFBQTtFQUNBLHVCQUFBO0FDREY7O0FER0E7RUFDRSxrQkFBQTtFQUNBLGlCQUFBO0FDQUY7O0FERUE7RUFDRSxnQkFBQTtFQUNBLGlCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9jaGlsZC1kZXYtcHJvamVjdC9hdHRlbmRhbmNlL2F0dGVuZGFuY2UtYmxvY2svYXR0ZW5kYW5jZS1ibG9jay5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5hdHRlbmRhbmNlLWJsb2NrIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgbWFyZ2luOiAzcHg7XG4gIHdpZHRoOiA0MnB4O1xuICBwYWRkaW5nLXRvcDogNXB4O1xuICBwYWRkaW5nLWJvdHRvbTogNXB4O1xufVxuXG5cbi5hdHRlbmRhbmNlLXRvb2x0aXAge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogLTVweDtcbiAgbGVmdDogNXB4O1xuXG4gIHBhZGRpbmc6IDhweDtcbiAgYmFja2dyb3VuZC1jb2xvcjp3aGl0ZTtcbn1cbi5hdHRlbmRhbmNlLXRvb2x0aXAtaGVhZGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cbi5hdHRlbmRhbmNlLXRvb2x0aXAtY29udGVudCB7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG4gIGZvbnQtc2l6ZTogMC45NWVtO1xufVxuIiwiLmF0dGVuZGFuY2UtYmxvY2sge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBtYXJnaW46IDNweDtcbiAgd2lkdGg6IDQycHg7XG4gIHBhZGRpbmctdG9wOiA1cHg7XG4gIHBhZGRpbmctYm90dG9tOiA1cHg7XG59XG5cbi5hdHRlbmRhbmNlLXRvb2x0aXAge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogLTVweDtcbiAgbGVmdDogNXB4O1xuICBwYWRkaW5nOiA4cHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xufVxuXG4uYXR0ZW5kYW5jZS10b29sdGlwLWhlYWRlciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi5hdHRlbmRhbmNlLXRvb2x0aXAtY29udGVudCB7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG4gIGZvbnQtc2l6ZTogMC45NWVtO1xufSJdfQ== */"] });
    return AttendanceBlockComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AttendanceBlockComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-attendance-block",
                templateUrl: "./attendance-block.component.html",
                styleUrls: ["./attendance-block.component.scss"],
            }]
    }], function () { return []; }, { attendanceData: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/attendance/attendance-days/attendance-day-block.component.ts":
/*!************************************************************************************************!*\
  !*** ./src/app/child-dev-project/attendance/attendance-days/attendance-day-block.component.ts ***!
  \************************************************************************************************/
/*! exports provided: AttendanceDayBlockComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AttendanceDayBlockComponent", function() { return AttendanceDayBlockComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _model_attendance_day__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/attendance-day */ "./src/app/child-dev-project/attendance/model/attendance-day.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/flex-layout/extended */ "./node_modules/@angular/flex-layout/esm5/extended.es5.js");
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/tooltip */ "./node_modules/@angular/material/fesm5/tooltip.js");






function AttendanceDayBlockComponent_span_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx_r0.entity.date.getDate(), " ");
} }
function AttendanceDayBlockComponent_span_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "*");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
var _c0 = function (a0) { return { "selected": a0 }; };
var AttendanceDayBlockComponent = /** @class */ (function () {
    function AttendanceDayBlockComponent() {
        this.showDate = true;
        this.showHighlighted = false;
    }
    AttendanceDayBlockComponent.prototype.ngOnInit = function () { };
    AttendanceDayBlockComponent.ɵfac = function AttendanceDayBlockComponent_Factory(t) { return new (t || AttendanceDayBlockComponent)(); };
    AttendanceDayBlockComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AttendanceDayBlockComponent, selectors: [["app-attendance-day-block"]], inputs: { entity: "entity", showDate: "showDate", showHighlighted: "showHighlighted" }, decls: 5, vars: 10, consts: [["matTooltipPosition", "above", 3, "ngClass", "matTooltip"], ["class", "date", 4, "ngIf"], [1, "status"], [4, "ngIf"], [1, "date"]], template: function AttendanceDayBlockComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, AttendanceDayBlockComponent_span_1_Template, 2, 1, "span", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, AttendanceDayBlockComponent_span_4_Template, 2, 0, "span", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("day-cell attendance-", ctx.entity.status, "");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](8, _c0, ctx.showHighlighted))("matTooltip", ctx.entity.remarks);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showDate);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx.entity.status, " ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.entity.remarks);
        } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgClass"], _angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_3__["DefaultClassDirective"], _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_4__["MatTooltip"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"]], styles: [".day-cell[_ngcontent-%COMP%] {\n  background-color: #F5F5F5;\n  position: relative;\n  text-align: center;\n  vertical-align: middle;\n  display: table-cell;\n}\n\n.day-box[_ngcontent-%COMP%] {\n  height: 40px;\n  width: 60px;\n  display: table;\n}\n\n.date[_ngcontent-%COMP%] {\n  font-size: small;\n  position: absolute;\n  top: 5px;\n  left: 5px;\n}\n\n.status[_ngcontent-%COMP%] {\n  font-weight: bold;\n  margin-top: 0.5em;\n}\n\n.selected[_ngcontent-%COMP%] {\n  border: 5px solid black;\n  box-sizing: border-box;\n}\n\n.form[_ngcontent-%COMP%] {\n  padding: 10px;\n  width: 420px;\n  position: relative;\n}\n\n.form-close[_ngcontent-%COMP%] {\n  position: absolute;\n  top: 0;\n  right: 0;\n}\n\nbutton[_ngcontent-%COMP%] {\n  margin: 5px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvYXR0ZW5kYW5jZS9hdHRlbmRhbmNlLWRheXMvYXR0ZW5kYW5jZS1kYXlzLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jaGlsZC1kZXYtcHJvamVjdC9hdHRlbmRhbmNlL2F0dGVuZGFuY2UtZGF5cy9hdHRlbmRhbmNlLWRheXMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7QUNDRjs7QURFQTtFQUNFLGdCQUFBO0VBRUEsa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtBQ0FGOztBREdBO0VBQ0UsaUJBQUE7RUFDQSxpQkFBQTtBQ0FGOztBRElBO0VBQ0UsdUJBQUE7RUFDQSxzQkFBQTtBQ0RGOztBRElBO0VBQ0UsYUFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQ0RGOztBRElBO0VBQ0Usa0JBQUE7RUFDQSxNQUFBO0VBQ0EsUUFBQTtBQ0RGOztBRElBO0VBQ0UsV0FBQTtBQ0RGIiwiZmlsZSI6InNyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvYXR0ZW5kYW5jZS9hdHRlbmRhbmNlLWRheXMvYXR0ZW5kYW5jZS1kYXlzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmRheS1jZWxsIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0Y1RjVGNTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gIGRpc3BsYXk6IHRhYmxlLWNlbGw7XG59XG5cbi5kYXktYm94IHtcbiAgaGVpZ2h0OiA0MHB4O1xuICB3aWR0aDogNjBweDtcbiAgZGlzcGxheTogdGFibGU7XG59XG5cbi5kYXRlIHtcbiAgZm9udC1zaXplOiBzbWFsbDtcblxuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogNXB4O1xuICBsZWZ0OiA1cHg7XG59XG5cbi5zdGF0dXMge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgbWFyZ2luLXRvcDogMC41ZW07XG4gIC8vZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuXG4uc2VsZWN0ZWQge1xuICBib3JkZXI6IDVweCBzb2xpZCBibGFjaztcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbn1cblxuLmZvcm0ge1xuICBwYWRkaW5nOiAxMHB4O1xuICB3aWR0aDogNDIwcHg7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLmZvcm0tY2xvc2Uge1xuICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICByaWdodDogMDtcbn1cblxuYnV0dG9uIHtcbiAgbWFyZ2luOiA1cHg7XG59XG4iLCIuZGF5LWNlbGwge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjVGNUY1O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgZGlzcGxheTogdGFibGUtY2VsbDtcbn1cblxuLmRheS1ib3gge1xuICBoZWlnaHQ6IDQwcHg7XG4gIHdpZHRoOiA2MHB4O1xuICBkaXNwbGF5OiB0YWJsZTtcbn1cblxuLmRhdGUge1xuICBmb250LXNpemU6IHNtYWxsO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogNXB4O1xuICBsZWZ0OiA1cHg7XG59XG5cbi5zdGF0dXMge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgbWFyZ2luLXRvcDogMC41ZW07XG59XG5cbi5zZWxlY3RlZCB7XG4gIGJvcmRlcjogNXB4IHNvbGlkIGJsYWNrO1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xufVxuXG4uZm9ybSB7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIHdpZHRoOiA0MjBweDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4uZm9ybS1jbG9zZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICByaWdodDogMDtcbn1cblxuYnV0dG9uIHtcbiAgbWFyZ2luOiA1cHg7XG59Il19 */"] });
    return AttendanceDayBlockComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AttendanceDayBlockComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-attendance-day-block]",
                templateUrl: "./attendance-day-block.component.html",
                styleUrls: ["./attendance-days.component.scss"],
            }]
    }], function () { return []; }, { entity: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showDate: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showHighlighted: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/attendance/attendance-days/attendance-days.component.ts":
/*!*******************************************************************************************!*\
  !*** ./src/app/child-dev-project/attendance/attendance-days/attendance-days.component.ts ***!
  \*******************************************************************************************/
/*! exports provided: AttendanceDaysComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AttendanceDaysComponent", function() { return AttendanceDaysComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _model_attendance_day__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/attendance-day */ "./src/app/child-dev-project/attendance/model/attendance-day.ts");
/* harmony import */ var _core_confirmation_dialog_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/confirmation-dialog/confirmation-dialog.service */ "./src/app/core/confirmation-dialog/confirmation-dialog.service.ts");
/* harmony import */ var _model_attendance_month__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../model/attendance-month */ "./src/app/child-dev-project/attendance/model/attendance-month.ts");
/* harmony import */ var _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/entity/entity-mapper.service */ "./src/app/core/entity/entity-mapper.service.ts");
/* harmony import */ var _angular_material_select__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/select */ "./node_modules/@angular/material/fesm5/select.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _attendance_day_block_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./attendance-day-block.component */ "./src/app/child-dev-project/attendance/attendance-days/attendance-day-block.component.ts");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/core */ "./node_modules/@angular/material/fesm5/core.js");
/* harmony import */ var _core_entity_subrecord_keys_pipe_keys_pipe__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../core/entity-subrecord/keys-pipe/keys.pipe */ "./src/app/core/entity-subrecord/keys-pipe/keys.pipe.ts");


















var _c0 = ["dayStatusSelect"];
function AttendanceDaysComponent_tr_19_td_1_Template(rf, ctx) { if (rf & 1) {
    var _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AttendanceDaysComponent_tr_19_td_1_Template_td_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); var record_r4 = ctx.$implicit; var ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r5.selectCell(record_r4); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "app-attendance-day-block", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var record_r4 = ctx.$implicit;
    var ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entity", record_r4)("showDate", record_r4.date.getMonth() === ctx_r3.attendanceMonth.month.getMonth())("showHighlighted", ctx_r3.selectedRecord === record_r4);
} }
function AttendanceDaysComponent_tr_19_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, AttendanceDaysComponent_tr_19_td_1_Template, 2, 3, "td", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var weekRecords_r2 = ctx.$implicit;
    var ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", weekRecords_r2)("ngForTrackBy", ctx_r0.recordTrackByFunction);
} }
function AttendanceDaysComponent_div_20_mat_option_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var s_r9 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", s_r9.value);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](s_r9.key);
} }
function AttendanceDaysComponent_div_20_Template(rf, ctx) { if (rf & 1) {
    var _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "button", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AttendanceDaysComponent_div_20_Template_button_click_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r11); var ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r10.selectedRecord = undefined; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "span", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "mat-form-field");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "mat-select", 8, 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function AttendanceDaysComponent_div_20_Template_mat_select_ngModelChange_7_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r11); var ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r12.selectedRecord.status = $event; })("ngModelChange", function AttendanceDaysComponent_div_20_Template_mat_select_ngModelChange_7_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r11); var ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); ctx_r13.selectedRecordChanged = true; return ctx_r13.save(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, AttendanceDaysComponent_div_20_mat_option_9_Template, 2, 2, "mat-option", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](10, "keys");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "mat-form-field", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "textarea", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function AttendanceDaysComponent_div_20_Template_textarea_ngModelChange_13_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r11); var ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r14.selectedRecord.remarks = $event; })("ngModelChange", function AttendanceDaysComponent_div_20_Template_textarea_ngModelChange_13_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r11); var ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r15.selectedRecordChanged = true; })("blur", function AttendanceDaysComponent_div_20_Template_textarea_blur_13_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r11); var ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r16.save(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx_r1.selectedRecord.date.toLocaleDateString(), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx_r1.selectedRecord.status);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](10, 4, ctx_r1.statusValues));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx_r1.selectedRecord.remarks);
} }
var AttendanceDaysComponent = /** @class */ (function () {
    function AttendanceDaysComponent(dialog, entityMapper) {
        this.dialog = dialog;
        this.entityMapper = entityMapper;
        this.records = [];
        this.selectedRecordChanged = false;
        this.statusValues = _model_attendance_day__WEBPACK_IMPORTED_MODULE_1__["AttendanceStatus"];
        this.weekRecordsTrackByFunction = function (index, item) {
            return item.length > 0 ? item[0].date.getTime() : undefined;
        };
        this.recordTrackByFunction = function (index, item) { return item.date.getTime(); };
    }
    Object.defineProperty(AttendanceDaysComponent.prototype, "content", {
        set: function (content) {
            this.dayStatusSelect = content;
        },
        enumerable: true,
        configurable: true
    });
    AttendanceDaysComponent.prototype.ngOnChanges = function (changes) {
        this.records = this.attendanceMonth.dailyRegister;
    };
    AttendanceDaysComponent.prototype.getWeeks = function () {
        if (!this.records || this.records.length === 0) {
            return [];
        }
        var weeks = [];
        var currentWeek = [];
        // fill first week with placeholder days if the month doesn't start on a Monday
        var firstDay = this.records[0].date;
        var daysUntilFirstOfMonth = firstDay.getDay();
        if (firstDay.getDay() === 0) {
            daysUntilFirstOfMonth = 7;
        } // workaround if first day of month is Sunday
        for (var i = 1; i < daysUntilFirstOfMonth; i++) {
            var d = new Date(firstDay.getFullYear(), firstDay.getMonth(), firstDay.getDate() - i);
            currentWeek.unshift(new _model_attendance_day__WEBPACK_IMPORTED_MODULE_1__["AttendanceDay"](d));
        }
        this.records.forEach(function (day) {
            if (day.date.getDay() === 1) {
                weeks.push(currentWeek);
                currentWeek = [];
            }
            currentWeek.push(day);
        });
        weeks.push(currentWeek);
        return weeks;
    };
    AttendanceDaysComponent.prototype.selectCell = function (record) {
        var _this = this;
        if (record.date.getMonth() !== this.attendanceMonth.month.getMonth()) {
            this.selectedRecord = undefined;
            return;
        }
        if (record === this.selectedRecord) {
            this.selectedRecord = undefined;
        }
        else {
            this.selectedRecord = record;
            setTimeout(function () { return _this.dayStatusSelect.focus(); }, 100);
        }
    };
    AttendanceDaysComponent.prototype.save = function () {
        if (this.selectedRecordChanged) {
            this.entityMapper.save(this.attendanceMonth, true);
        }
        this.selectedRecordChanged = false;
    };
    AttendanceDaysComponent.ɵfac = function AttendanceDaysComponent_Factory(t) { return new (t || AttendanceDaysComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_confirmation_dialog_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_2__["ConfirmationDialogService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_4__["EntityMapperService"])); };
    AttendanceDaysComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AttendanceDaysComponent, selectors: [["app-attendance-days"]], viewQuery: function AttendanceDaysComponent_Query(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
        } if (rf & 2) {
            var _t;
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.content = _t.first);
        } }, inputs: { attendanceMonth: "attendanceMonth" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 21, vars: 3, consts: [[4, "ngFor", "ngForOf", "ngForTrackBy"], ["class", "selected form", 4, "ngIf"], [3, "click", 4, "ngFor", "ngForOf", "ngForTrackBy"], [3, "click"], [1, "day-box", 3, "entity", "showDate", "showHighlighted"], [1, "selected", "form"], ["mat-icon-button", "", 1, "form-close", 3, "click"], [1, "fa", "fa-times"], [3, "ngModel", "ngModelChange"], ["dayStatusSelect", ""], [3, "value", 4, "ngFor", "ngForOf"], [2, "width", "100%"], ["matInput", "", "placeholder", "Remarks", 3, "ngModel", "ngModelChange", "blur"], [3, "value"]], template: function AttendanceDaysComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "table");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "thead");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "tr");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "th");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "Mon");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "th");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7, "Tue");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "th");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9, "Wed");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "th");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11, "Thu");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "th");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](13, "Fri");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "th");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](15, "Sat");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "th");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](17, "Sun");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](18, "tbody");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](19, AttendanceDaysComponent_tr_19_Template, 2, 2, "tr", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](20, AttendanceDaysComponent_div_20_Template, 14, 6, "div", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](19);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.getWeeks())("ngForTrackBy", ctx.weekRecordsTrackByFunction);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.selectedRecord);
        } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_6__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgIf"], _attendance_day_block_component__WEBPACK_IMPORTED_MODULE_7__["AttendanceDayBlockComponent"], _angular_material_button__WEBPACK_IMPORTED_MODULE_8__["MatButton"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_9__["MatFormField"], _angular_material_select__WEBPACK_IMPORTED_MODULE_5__["MatSelect"], _angular_forms__WEBPACK_IMPORTED_MODULE_10__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_10__["NgModel"], _angular_material_input__WEBPACK_IMPORTED_MODULE_11__["MatInput"], _angular_forms__WEBPACK_IMPORTED_MODULE_10__["DefaultValueAccessor"], _angular_material_core__WEBPACK_IMPORTED_MODULE_12__["MatOption"]], pipes: [_core_entity_subrecord_keys_pipe_keys_pipe__WEBPACK_IMPORTED_MODULE_13__["KeysPipe"]], styles: [".day-cell[_ngcontent-%COMP%] {\n  background-color: #F5F5F5;\n  position: relative;\n  text-align: center;\n  vertical-align: middle;\n  display: table-cell;\n}\n\n.day-box[_ngcontent-%COMP%] {\n  height: 40px;\n  width: 60px;\n  display: table;\n}\n\n.date[_ngcontent-%COMP%] {\n  font-size: small;\n  position: absolute;\n  top: 5px;\n  left: 5px;\n}\n\n.status[_ngcontent-%COMP%] {\n  font-weight: bold;\n  margin-top: 0.5em;\n}\n\n.selected[_ngcontent-%COMP%] {\n  border: 5px solid black;\n  box-sizing: border-box;\n}\n\n.form[_ngcontent-%COMP%] {\n  padding: 10px;\n  width: 420px;\n  position: relative;\n}\n\n.form-close[_ngcontent-%COMP%] {\n  position: absolute;\n  top: 0;\n  right: 0;\n}\n\nbutton[_ngcontent-%COMP%] {\n  margin: 5px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvYXR0ZW5kYW5jZS9hdHRlbmRhbmNlLWRheXMvYXR0ZW5kYW5jZS1kYXlzLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jaGlsZC1kZXYtcHJvamVjdC9hdHRlbmRhbmNlL2F0dGVuZGFuY2UtZGF5cy9hdHRlbmRhbmNlLWRheXMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7QUNDRjs7QURFQTtFQUNFLGdCQUFBO0VBRUEsa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtBQ0FGOztBREdBO0VBQ0UsaUJBQUE7RUFDQSxpQkFBQTtBQ0FGOztBRElBO0VBQ0UsdUJBQUE7RUFDQSxzQkFBQTtBQ0RGOztBRElBO0VBQ0UsYUFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQ0RGOztBRElBO0VBQ0Usa0JBQUE7RUFDQSxNQUFBO0VBQ0EsUUFBQTtBQ0RGOztBRElBO0VBQ0UsV0FBQTtBQ0RGIiwiZmlsZSI6InNyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvYXR0ZW5kYW5jZS9hdHRlbmRhbmNlLWRheXMvYXR0ZW5kYW5jZS1kYXlzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmRheS1jZWxsIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0Y1RjVGNTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gIGRpc3BsYXk6IHRhYmxlLWNlbGw7XG59XG5cbi5kYXktYm94IHtcbiAgaGVpZ2h0OiA0MHB4O1xuICB3aWR0aDogNjBweDtcbiAgZGlzcGxheTogdGFibGU7XG59XG5cbi5kYXRlIHtcbiAgZm9udC1zaXplOiBzbWFsbDtcblxuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogNXB4O1xuICBsZWZ0OiA1cHg7XG59XG5cbi5zdGF0dXMge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgbWFyZ2luLXRvcDogMC41ZW07XG4gIC8vZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuXG4uc2VsZWN0ZWQge1xuICBib3JkZXI6IDVweCBzb2xpZCBibGFjaztcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbn1cblxuLmZvcm0ge1xuICBwYWRkaW5nOiAxMHB4O1xuICB3aWR0aDogNDIwcHg7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLmZvcm0tY2xvc2Uge1xuICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICByaWdodDogMDtcbn1cblxuYnV0dG9uIHtcbiAgbWFyZ2luOiA1cHg7XG59XG4iLCIuZGF5LWNlbGwge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjVGNUY1O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgZGlzcGxheTogdGFibGUtY2VsbDtcbn1cblxuLmRheS1ib3gge1xuICBoZWlnaHQ6IDQwcHg7XG4gIHdpZHRoOiA2MHB4O1xuICBkaXNwbGF5OiB0YWJsZTtcbn1cblxuLmRhdGUge1xuICBmb250LXNpemU6IHNtYWxsO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogNXB4O1xuICBsZWZ0OiA1cHg7XG59XG5cbi5zdGF0dXMge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgbWFyZ2luLXRvcDogMC41ZW07XG59XG5cbi5zZWxlY3RlZCB7XG4gIGJvcmRlcjogNXB4IHNvbGlkIGJsYWNrO1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xufVxuXG4uZm9ybSB7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIHdpZHRoOiA0MjBweDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4uZm9ybS1jbG9zZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICByaWdodDogMDtcbn1cblxuYnV0dG9uIHtcbiAgbWFyZ2luOiA1cHg7XG59Il19 */"] });
    return AttendanceDaysComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AttendanceDaysComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-attendance-days",
                templateUrl: "./attendance-days.component.html",
                styleUrls: ["./attendance-days.component.scss"],
            }]
    }], function () { return [{ type: _core_confirmation_dialog_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_2__["ConfirmationDialogService"] }, { type: _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_4__["EntityMapperService"] }]; }, { attendanceMonth: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], content: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["dayStatusSelect"]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/attendance/attendance-details/attendance-details.component.ts":
/*!*************************************************************************************************!*\
  !*** ./src/app/child-dev-project/attendance/attendance-details/attendance-details.component.ts ***!
  \*************************************************************************************************/
/*! exports provided: AttendanceDetailsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AttendanceDetailsComponent", function() { return AttendanceDetailsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _model_attendance_month__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/attendance-month */ "./src/app/child-dev-project/attendance/model/attendance-month.ts");
/* harmony import */ var _core_form_dialog_form_dialog_wrapper_form_dialog_wrapper_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/form-dialog/form-dialog-wrapper/form-dialog-wrapper.component */ "./src/app/core/form-dialog/form-dialog-wrapper/form-dialog-wrapper.component.ts");
/* harmony import */ var _children_child_block_child_block_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../children/child-block/child-block.component */ "./src/app/child-dev-project/children/child-block/child-block.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/flex-layout/flex */ "./node_modules/@angular/flex-layout/esm5/flex.es5.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_material_select__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/select */ "./node_modules/@angular/material/fesm5/select.js");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/core */ "./node_modules/@angular/material/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/tooltip */ "./node_modules/@angular/material/fesm5/tooltip.js");
/* harmony import */ var _attendance_days_attendance_days_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../attendance-days/attendance-days.component */ "./src/app/child-dev-project/attendance/attendance-days/attendance-days.component.ts");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
















var _c0 = ["dialogForm"];
function AttendanceDetailsComponent_button_33_Template(rf, ctx) { if (rf & 1) {
    var _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AttendanceDetailsComponent_button_33_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r7); var ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r6.entity.daysWorking_manuallyEntered = undefined; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-icon", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AttendanceDetailsComponent_button_41_Template(rf, ctx) { if (rf & 1) {
    var _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AttendanceDetailsComponent_button_41_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r9); var ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r8.entity.daysAttended_manuallyEntered = undefined; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-icon", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AttendanceDetailsComponent_button_49_Template(rf, ctx) { if (rf & 1) {
    var _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AttendanceDetailsComponent_button_49_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r11); var ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r10.entity.daysExcused_manuallyEntered = undefined; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-icon", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AttendanceDetailsComponent_button_57_Template(rf, ctx) { if (rf & 1) {
    var _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AttendanceDetailsComponent_button_57_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r13); var ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r12.entity.daysLate_manuallyEntered = undefined; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-icon", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
var AttendanceDetailsComponent = /** @class */ (function () {
    function AttendanceDetailsComponent() {
        this.entity = new _model_attendance_month__WEBPACK_IMPORTED_MODULE_1__["AttendanceMonth"]("");
    }
    AttendanceDetailsComponent.ɵfac = function AttendanceDetailsComponent_Factory(t) { return new (t || AttendanceDetailsComponent)(); };
    AttendanceDetailsComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AttendanceDetailsComponent, selectors: [["app-attendance-details"]], viewQuery: function AttendanceDetailsComponent_Query(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstaticViewQuery"](_c0, true);
        } if (rf & 2) {
            var _t;
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.formDialogWrapper = _t.first);
        } }, inputs: { entity: "entity" }, decls: 67, vars: 36, consts: [[3, "entity"], ["dialogForm", ""], [3, "entityId"], ["entityForm", "ngForm"], ["fxLayout", "row wrap", "fxLayoutGap", "20px"], ["fxFlex", ""], ["matInput", "", "placeholder", "Month", "name", "month", "type", "month", 3, "valueAsDate", "change"], ["name", "institution", 3, "ngModel", "ngModelChange"], ["value", "school"], ["value", "coaching"], [1, "summary"], ["matInput", "", "type", "number", "min", "0", "placeholder", "Working Days", 3, "value", "change"], ["mat-button", "", "matSuffix", "", "mat-icon-button", "", "aria-label", "Reset", "matTooltip", "reset and use daily attendance data", 3, "click", 4, "ngIf"], ["matTooltip", "according to daily attendance register", 1, "fa", "fa-question-circle"], ["matInput", "", "type", "number", "min", "0", "placeholder", "Attended Days", 3, "value", "change"], ["matInput", "", "type", "number", "min", "0", "placeholder", "Excused Days", 3, "value", "change"], ["matInput", "", "type", "number", "min", "0", "placeholder", "Late Days", 3, "value", "change"], ["mat-button", "", "matSuffix", "", "mat-icon-button", "", "aria-label", "Reset", 3, "click", 4, "ngIf"], [1, "input-max"], ["matInput", "", "placeholder", "Remarks", "name", "remarks", 3, "ngModel", "ngModelChange"], [3, "attendanceMonth"], ["mat-button", "", "matSuffix", "", "mat-icon-button", "", "aria-label", "Reset", "matTooltip", "reset and use daily attendance data", 3, "click"], ["fontIcon", "fa-times"], ["mat-button", "", "matSuffix", "", "mat-icon-button", "", "aria-label", "Reset", 3, "click"]], template: function AttendanceDetailsComponent_Template(rf, ctx) { if (rf & 1) {
            var _r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "app-form-dialog-wrapper", 0, 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h1");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, " Attendance of ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "app-child-block", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "date");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "form", null, 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "div", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "div", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "input", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function AttendanceDetailsComponent_Template_input_change_12_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r14); var _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](8); ctx.entity.month = $event.target.valueAsDate; return _r1.form.markAsDirty(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "div", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "mat-label");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](16, " Type/Institution ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "mat-select", 7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function AttendanceDetailsComponent_Template_mat_select_ngModelChange_17_listener($event) { return ctx.entity.institution = $event; });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](18, "mat-option", 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](19, "School");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](20, "mat-option", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](21, "Coaching");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](22, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](23, "div", 10);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](24);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](25, "percent");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](26, "div", 10);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](27);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](28, "percent");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](29, "div", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](30, "div", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](31, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](32, "input", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function AttendanceDetailsComponent_Template_input_change_32_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r14); var _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](8); ctx.entity.daysWorking = $event.target.valueAsNumber; return _r1.form.markAsDirty(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](33, AttendanceDetailsComponent_button_33_Template, 2, 0, "button", 12);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](34, "span");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](35);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](36, "span", 13);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](37, ") ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](38, "div", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](39, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](40, "input", 14);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function AttendanceDetailsComponent_Template_input_change_40_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r14); var _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](8); ctx.entity.daysAttended = $event.target.valueAsNumber; return _r1.form.markAsDirty(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](41, AttendanceDetailsComponent_button_41_Template, 2, 0, "button", 12);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](42, "span");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](43);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](44, "span", 13);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](45, ") ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](46, "div", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](47, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](48, "input", 15);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function AttendanceDetailsComponent_Template_input_change_48_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r14); var _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](8); ctx.entity.daysExcused = $event.target.valueAsNumber; return _r1.form.markAsDirty(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](49, AttendanceDetailsComponent_button_49_Template, 2, 0, "button", 12);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](50, "span");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](51);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](52, "span", 13);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](53, ") ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](54, "div", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](55, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](56, "input", 16);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function AttendanceDetailsComponent_Template_input_change_56_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r14); var _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](8); ctx.entity.daysLate = $event.target.valueAsNumber; return _r1.form.markAsDirty(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](57, AttendanceDetailsComponent_button_57_Template, 2, 0, "button", 17);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](58, "span");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](59);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](60, "span", 13);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](61, ") ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](62, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](63, "mat-form-field", 18);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](64, "textarea", 19);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function AttendanceDetailsComponent_Template_textarea_ngModelChange_64_listener($event) { return ctx.entity.remarks = $event; });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](65, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](66, "app-attendance-days", 20);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entity", ctx.entity);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entityId", ctx.entity.student);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" for ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](6, 27, ctx.entity.month, "MM/yyyy"), " ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("valueAsDate", ctx.entity.month);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx.entity.institution);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("w-", ctx.entity.getWarningLevel(), "");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("Attendance: ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](25, 30, ctx.entity == null ? null : ctx.entity.getAttendancePercentage(), "1.0-0"), "");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("Late: ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](28, 33, (ctx.entity == null ? null : ctx.entity.daysLate) / (ctx.entity == null ? null : ctx.entity.daysWorking), "1.0-0"), "");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("w-", ctx.entity.getWarningLevel(), "");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", ctx.entity.daysWorking);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.entity.daysWorking_manuallyEntered);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" (", ctx.entity.getDaysWorkingFromDailyAttendance(), " days ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", ctx.entity.daysAttended);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.entity.daysAttended_manuallyEntered);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" (", ctx.entity.getDaysAttendedFromDailyAttendance(), " days ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", ctx.entity.daysExcused);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.entity.daysExcused_manuallyEntered);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" (", ctx.entity.getDaysExcusedFromDailyAttendance(), " days ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", ctx.entity.daysLate);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.entity.daysLate_manuallyEntered);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" (", ctx.entity.getDaysLateFromDailyAttendance(), " days ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx.entity.remarks);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("attendanceMonth", ctx.entity);
        } }, directives: [_core_form_dialog_form_dialog_wrapper_form_dialog_wrapper_component__WEBPACK_IMPORTED_MODULE_2__["FormDialogWrapperComponent"], _children_child_block_child_block_component__WEBPACK_IMPORTED_MODULE_3__["ChildBlockComponent"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgForm"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_5__["DefaultLayoutDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_5__["DefaultLayoutGapDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_5__["DefaultFlexDirective"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_6__["MatFormField"], _angular_material_input__WEBPACK_IMPORTED_MODULE_7__["MatInput"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_6__["MatLabel"], _angular_material_select__WEBPACK_IMPORTED_MODULE_8__["MatSelect"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgModel"], _angular_material_core__WEBPACK_IMPORTED_MODULE_9__["MatOption"], _angular_common__WEBPACK_IMPORTED_MODULE_10__["NgIf"], _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_11__["MatTooltip"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["DefaultValueAccessor"], _attendance_days_attendance_days_component__WEBPACK_IMPORTED_MODULE_12__["AttendanceDaysComponent"], _angular_material_button__WEBPACK_IMPORTED_MODULE_13__["MatButton"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_6__["MatSuffix"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__["MatIcon"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_10__["DatePipe"], _angular_common__WEBPACK_IMPORTED_MODULE_10__["PercentPipe"]], styles: [".mat-dialog-content[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\n  padding: 10px;\n}\n\n.input-max[_ngcontent-%COMP%] {\n  width: 100%;\n}\n\n.summary[_ngcontent-%COMP%] {\n  font-weight: bold;\n  margin-bottom: 10px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvYXR0ZW5kYW5jZS9hdHRlbmRhbmNlLWRldGFpbHMvYXR0ZW5kYW5jZS1kZXRhaWxzLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jaGlsZC1kZXYtcHJvamVjdC9hdHRlbmRhbmNlL2F0dGVuZGFuY2UtZGV0YWlscy9hdHRlbmRhbmNlLWRldGFpbHMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLG1CQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9jaGlsZC1kZXYtcHJvamVjdC9hdHRlbmRhbmNlL2F0dGVuZGFuY2UtZGV0YWlscy9hdHRlbmRhbmNlLWRldGFpbHMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWF0LWRpYWxvZy1jb250ZW50ID4gKiB7XG4gIHBhZGRpbmc6IDEwcHg7XG59XG5cbi5pbnB1dC1tYXgge1xuICB3aWR0aDogMTAwJVxufVxuXG4uc3VtbWFyeSB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuIiwiLm1hdC1kaWFsb2ctY29udGVudCA+ICoge1xuICBwYWRkaW5nOiAxMHB4O1xufVxuXG4uaW5wdXQtbWF4IHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5zdW1tYXJ5IHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG59Il19 */"] });
    return AttendanceDetailsComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AttendanceDetailsComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-attendance-details",
                templateUrl: "./attendance-details.component.html",
                styleUrls: ["./attendance-details.component.scss"],
            }]
    }], function () { return []; }, { entity: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], formDialogWrapper: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["dialogForm", { static: true }]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/attendance/attendance-manager/attendance-manager.component.ts":
/*!*************************************************************************************************!*\
  !*** ./src/app/child-dev-project/attendance/attendance-manager/attendance-manager.component.ts ***!
  \*************************************************************************************************/
/*! exports provided: AttendanceManagerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AttendanceManagerComponent", function() { return AttendanceManagerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/flex-layout/flex */ "./node_modules/@angular/flex-layout/esm5/flex.es5.js");
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/card */ "./node_modules/@angular/material/fesm5/card.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm2015/angulartics2.js");







var AttendanceManagerComponent = /** @class */ (function () {
    function AttendanceManagerComponent() {
    }
    AttendanceManagerComponent.ɵfac = function AttendanceManagerComponent_Factory(t) { return new (t || AttendanceManagerComponent)(); };
    AttendanceManagerComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AttendanceManagerComponent, selectors: [["app-attendance-manager"]], decls: 38, vars: 0, consts: [[1, "general-description"], ["fxLayout", "row wrap"], ["fxFlex", ""], ["routerLink", "/attendance/add/day", "angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "attendance_manager_add_a_day_attendance_link", "mat-stroked-button", "", 1, "action-button"], ["routerLink", "/attendance/add/month", "angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "attendance_manager_add_a_month_attendance_link", "mat-stroked-button", "", 1, "action-button"], ["routerLink", "/attendance/analysis", "mat-stroked-button", "", 1, "action-button"]], template: function AttendanceManagerComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "h1");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Attendance Register");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "p", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, " Attendance data can be seen and edited in an individual's details as well as here across groups.\n");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "mat-card", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "mat-card-header");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "mat-card-title");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8, "Roll Call");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "mat-card-subtitle");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](10, "add a day's attendance");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "mat-card-content");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](12, " Select a group of children and easily mark their attendance one by one. This works well on a smartphone to record attendance on site. ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "mat-card-actions");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "button", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](15, " Do Roll Call ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "mat-card", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "mat-card-header");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](18, "mat-card-title");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](19, "Enter Monthly Attendance");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](20, "mat-card-subtitle");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](21, "add a month's attendance");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](22, "mat-card-content");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](23, " Enter attendance numbers for a whole month in a table format for a group of children. This allows you to quickly record attendance that was collected on paper. However, as you only enter a monthly total for each child you cannot see attendance in the day-wise calender. ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](24, "mat-card-actions");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](25, "button", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](26, " Enter Attendance ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](27, "mat-card", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](28, "mat-card-header");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](29, "mat-card-title");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](30, "Analyse Attendance");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](31, "mat-card-subtitle");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](32, "calculate summaries and averages");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](33, "mat-card-content");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](34, " Analyse and compare attendance for all children. To see an individual's attendance history you can open the child's overall details page. ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](35, "mat-card-actions");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](36, "button", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](37, " Analyse Attendance ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } }, directives: [_angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_1__["DefaultLayoutDirective"], _angular_material_card__WEBPACK_IMPORTED_MODULE_2__["MatCard"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_1__["DefaultFlexDirective"], _angular_material_card__WEBPACK_IMPORTED_MODULE_2__["MatCardHeader"], _angular_material_card__WEBPACK_IMPORTED_MODULE_2__["MatCardTitle"], _angular_material_card__WEBPACK_IMPORTED_MODULE_2__["MatCardSubtitle"], _angular_material_card__WEBPACK_IMPORTED_MODULE_2__["MatCardContent"], _angular_material_card__WEBPACK_IMPORTED_MODULE_2__["MatCardActions"], _angular_material_button__WEBPACK_IMPORTED_MODULE_3__["MatButton"], _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterLink"], angulartics2__WEBPACK_IMPORTED_MODULE_5__["Angulartics2On"]], styles: [".general-description[_ngcontent-%COMP%] {\n  font-style: italic;\n}\n\n.action-button[_ngcontent-%COMP%] {\n  width: 100%;\n}\n\n.mat-card[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  min-width: 250px;\n  margin-right: 24px;\n  margin-bottom: 24px;\n}\n\n.mat-card-header[_ngcontent-%COMP%] {\n  flex-shrink: 0;\n}\n\n.mat-card-content[_ngcontent-%COMP%] {\n  flex-grow: 1;\n  overflow: auto;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvYXR0ZW5kYW5jZS9hdHRlbmRhbmNlLW1hbmFnZXIvYXR0ZW5kYW5jZS1tYW5hZ2VyLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jaGlsZC1kZXYtcHJvamVjdC9hdHRlbmRhbmNlL2F0dGVuZGFuY2UtbWFuYWdlci9hdHRlbmRhbmNlLW1hbmFnZXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtBQ0NGOztBREVBO0VBQ0UsV0FBQTtBQ0NGOztBREVBO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxjQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0VBQ0EsY0FBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvYXR0ZW5kYW5jZS9hdHRlbmRhbmNlLW1hbmFnZXIvYXR0ZW5kYW5jZS1tYW5hZ2VyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmdlbmVyYWwtZGVzY3JpcHRpb24ge1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG59XG5cbi5hY3Rpb24tYnV0dG9uIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5tYXQtY2FyZCB7XG4gIGRpc3BsYXk6ZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgbWluLXdpZHRoOiAyNTBweDtcbiAgbWFyZ2luLXJpZ2h0OiAyNHB4O1xuICBtYXJnaW4tYm90dG9tOiAyNHB4O1xufVxuXG4ubWF0LWNhcmQtaGVhZGVyIHtcbiAgZmxleC1zaHJpbms6IDA7XG59XG5cbi5tYXQtY2FyZC1jb250ZW50IHtcbiAgZmxleC1ncm93OiAxO1xuICBvdmVyZmxvdzogYXV0bztcbn1cbiIsIi5nZW5lcmFsLWRlc2NyaXB0aW9uIHtcbiAgZm9udC1zdHlsZTogaXRhbGljO1xufVxuXG4uYWN0aW9uLWJ1dHRvbiB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4ubWF0LWNhcmQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBtaW4td2lkdGg6IDI1MHB4O1xuICBtYXJnaW4tcmlnaHQ6IDI0cHg7XG4gIG1hcmdpbi1ib3R0b206IDI0cHg7XG59XG5cbi5tYXQtY2FyZC1oZWFkZXIge1xuICBmbGV4LXNocmluazogMDtcbn1cblxuLm1hdC1jYXJkLWNvbnRlbnQge1xuICBmbGV4LWdyb3c6IDE7XG4gIG92ZXJmbG93OiBhdXRvO1xufSJdfQ== */"] });
    return AttendanceManagerComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AttendanceManagerComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-attendance-manager",
                templateUrl: "./attendance-manager.component.html",
                styleUrls: ["./attendance-manager.component.scss"],
            }]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/attendance/attendance-month-conflict-resolution-strategy.ts":
/*!***********************************************************************************************!*\
  !*** ./src/app/child-dev-project/attendance/attendance-month-conflict-resolution-strategy.ts ***!
  \***********************************************************************************************/
/*! exports provided: AttendanceMonthConflictResolutionStrategy */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AttendanceMonthConflictResolutionStrategy", function() { return AttendanceMonthConflictResolutionStrategy; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _model_attendance_month__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./model/attendance-month */ "./src/app/child-dev-project/attendance/model/attendance-month.ts");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var deep_object_diff__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! deep-object-diff */ "./node_modules/deep-object-diff/dist/index.js");
/* harmony import */ var deep_object_diff__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(deep_object_diff__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _core_entity_schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/entity/schema/entity-schema.service */ "./src/app/core/entity/schema/entity-schema.service.ts");
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};







/**
 * Auto resolve simple database document conflicts concerning {@link AttendanceMonth} entities.
 */
var AttendanceMonthConflictResolutionStrategy = /** @class */ (function () {
    function AttendanceMonthConflictResolutionStrategy(entitySchemaService) {
        this.entitySchemaService = entitySchemaService;
    }
    /**
     * Checks if the given conflict is about AttendanceMonth entities (otherwise this strategy doesn't apply)
     * and suggests whether the conflict is trivial and can be automatically deleted.
     * @param currentDoc The currently active revision
     * @param conflictingDoc The conflicting revision to be checked whether it can be deleted
     */
    AttendanceMonthConflictResolutionStrategy.prototype.autoDeleteConflictingRevision = function (currentDoc, conflictingDoc) {
        if (!currentDoc._id.startsWith(_model_attendance_month__WEBPACK_IMPORTED_MODULE_1__["AttendanceMonth"].ENTITY_TYPE)) {
            return false;
        }
        if (typeof currentDoc.getId === "function") {
            currentDoc = this.entitySchemaService.transformEntityToDatabaseFormat(currentDoc);
        }
        if (typeof conflictingDoc.getId === "function") {
            conflictingDoc = this.entitySchemaService.transformEntityToDatabaseFormat(conflictingDoc);
        }
        var currentDocC = lodash__WEBPACK_IMPORTED_MODULE_2___default.a.merge({}, currentDoc);
        delete currentDocC._rev;
        var conflictingDocC = lodash__WEBPACK_IMPORTED_MODULE_2___default.a.merge({}, conflictingDoc);
        delete conflictingDocC._rev;
        return this.isIrrelevantAttendanceMonthConflict(currentDocC, conflictingDocC);
    };
    /**
     * Calculate a diff between the two objects discarding trivial differences.
     * @param currentDoc The object to compare against
     * @param conflictingDoc The conflicting object version to compare
     */
    AttendanceMonthConflictResolutionStrategy.prototype.isIrrelevantAttendanceMonthConflict = function (currentDoc, conflictingDoc) {
        var diffObject = Object(deep_object_diff__WEBPACK_IMPORTED_MODULE_3__["diff"])(currentDoc, conflictingDoc);
        var simplifiedDiff = this.removeTrivialDiffValuesRecursively(diffObject, [
            "?",
            "",
            undefined,
            null,
        ]);
        console.log(currentDoc);
        console.log(conflictingDoc);
        console.log("isIrrelevantAttendanceMonthConflict", simplifiedDiff);
        return lodash__WEBPACK_IMPORTED_MODULE_2___default.a.isObjectLike(simplifiedDiff) && lodash__WEBPACK_IMPORTED_MODULE_2___default.a.isEmpty(simplifiedDiff);
    };
    /**
     * Changes the given object, deep scanning it to remove any values given as the second argument.
     * @param diffObject
     * @param trivialValues
     */
    AttendanceMonthConflictResolutionStrategy.prototype.removeTrivialDiffValuesRecursively = function (diffObject, trivialValues) {
        var e_1, _a;
        try {
            for (var _b = __values(Object.keys(diffObject)), _c = _b.next(); !_c.done; _c = _b.next()) {
                var k = _c.value;
                if (trivialValues.includes(diffObject[k])) {
                    delete diffObject[k];
                }
                if (typeof diffObject[k] === "object" && diffObject[k] !== null) {
                    this.removeTrivialDiffValuesRecursively(diffObject[k], trivialValues);
                    if (lodash__WEBPACK_IMPORTED_MODULE_2___default.a.isObjectLike(diffObject[k]) && lodash__WEBPACK_IMPORTED_MODULE_2___default.a.isEmpty(diffObject[k])) {
                        delete diffObject[k];
                    }
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
        return diffObject;
    };
    AttendanceMonthConflictResolutionStrategy.ɵfac = function AttendanceMonthConflictResolutionStrategy_Factory(t) { return new (t || AttendanceMonthConflictResolutionStrategy)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_core_entity_schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_4__["EntitySchemaService"])); };
    AttendanceMonthConflictResolutionStrategy.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: AttendanceMonthConflictResolutionStrategy, factory: AttendanceMonthConflictResolutionStrategy.ɵfac });
    return AttendanceMonthConflictResolutionStrategy;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AttendanceMonthConflictResolutionStrategy, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _core_entity_schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_4__["EntitySchemaService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/attendance/child-attendance/child-attendance.component.ts":
/*!*********************************************************************************************!*\
  !*** ./src/app/child-dev-project/attendance/child-attendance/child-attendance.component.ts ***!
  \*********************************************************************************************/
/*! exports provided: ChildAttendanceComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChildAttendanceComponent", function() { return ChildAttendanceComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _model_attendance_month__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/attendance-month */ "./src/app/child-dev-project/attendance/model/attendance-month.ts");
/* harmony import */ var _children_children_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../children/children.service */ "./src/app/child-dev-project/children/children.service.ts");
/* harmony import */ var _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/entity-subrecord/entity-subrecord/column-description */ "./src/app/core/entity-subrecord/entity-subrecord/column-description.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _attendance_details_attendance_details_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../attendance-details/attendance-details.component */ "./src/app/child-dev-project/attendance/attendance-details/attendance-details.component.ts");
/* harmony import */ var _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/entity-subrecord/entity-subrecord/column-description-input-type.enum */ "./src/app/core/entity-subrecord/entity-subrecord/column-description-input-type.enum.ts");
/* harmony import */ var _ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ngneat/until-destroy */ "./node_modules/@ngneat/until-destroy/fesm5/ngneat-until-destroy.js");
/* harmony import */ var _children_model_child__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../children/model/child */ "./src/app/child-dev-project/children/model/child.ts");
/* harmony import */ var _core_entity_subrecord_entity_subrecord_entity_subrecord_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/entity-subrecord/entity-subrecord/entity-subrecord.component */ "./src/app/core/entity-subrecord/entity-subrecord/entity-subrecord.component.ts");
/* harmony import */ var _attendance_days_attendance_days_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../attendance-days/attendance-days.component */ "./src/app/child-dev-project/attendance/attendance-days/attendance-days.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};














function ChildAttendanceComponent_app_attendance_days_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-attendance-days", 2);
} if (rf & 2) {
    var ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("attendanceMonth", ctx_r0.records[0]);
} }
var ChildAttendanceComponent = /** @class */ (function () {
    function ChildAttendanceComponent(childrenService, datePipe, percentPipe) {
        var _this = this;
        this.childrenService = childrenService;
        this.datePipe = datePipe;
        this.percentPipe = percentPipe;
        this.showDailyAttendanceOfLatest = false;
        this.detailsComponent = _attendance_details_attendance_details_component__WEBPACK_IMPORTED_MODULE_5__["AttendanceDetailsComponent"];
        this.columns = [
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_3__["ColumnDescription"]("month", "Month", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_6__["ColumnDescriptionInputType"].MONTH, null, function (v) { return _this.datePipe.transform(v, "yyyy-MM"); }, "xs"),
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_3__["ColumnDescription"]("daysAttended", "Present", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_6__["ColumnDescriptionInputType"].NUMBER, null, undefined, "xs"),
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_3__["ColumnDescription"]("daysWorking", "Working Days", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_6__["ColumnDescriptionInputType"].NUMBER, null, undefined, "xs"),
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_3__["ColumnDescription"]("getAttendancePercentage", "Attended", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_6__["ColumnDescriptionInputType"].FUNCTION, null, function (v) { return _this.percentPipe.transform(v, "1.0-0"); }, "md"),
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_3__["ColumnDescription"]("daysExcused", "Excused", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_6__["ColumnDescriptionInputType"].NUMBER, null, undefined, "md"),
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_3__["ColumnDescription"]("remarks", "Remarks", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_6__["ColumnDescriptionInputType"].TEXTAREA, null, undefined, "xl"),
        ];
    }
    ChildAttendanceComponent.prototype.ngOnChanges = function (changes) {
        if (changes.hasOwnProperty("child")) {
            this.loadData(this.child.getId());
        }
    };
    ChildAttendanceComponent.prototype.loadData = function (id) {
        var _this = this;
        this.childrenService
            .getAttendancesOfChild(id)
            .pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_7__["untilDestroyed"])(this))
            .subscribe(function (results) {
            _this.records = results
                .filter(function (r) {
                return _this.institution === undefined ||
                    r.institution === _this.institution;
            })
                .sort(function (a, b) {
                return (b.month ? b.month.valueOf() : 0) -
                    (a.month ? a.month.valueOf() : 0);
            });
            if (_this.showDailyAttendanceOfLatest) {
                _this.createCurrentMonthsAttendanceIfNotExists();
            }
        });
    };
    ChildAttendanceComponent.prototype.createCurrentMonthsAttendanceIfNotExists = function () {
        var now = new Date();
        if (this.records.length === 0 ||
            this.records[0].month.getFullYear() !== now.getFullYear() ||
            this.records[0].month.getMonth() !== now.getMonth()) {
            this.records.unshift(_model_attendance_month__WEBPACK_IMPORTED_MODULE_1__["AttendanceMonth"].createAttendanceMonth(this.child.getId(), this.institution));
        }
    };
    ChildAttendanceComponent.prototype.generateNewRecordFactory = function () {
        // define values locally because 'this' is a different scope after passing a function as input to another component
        var child = this.child.getId();
        var institution = this.institution;
        return function () {
            return _model_attendance_month__WEBPACK_IMPORTED_MODULE_1__["AttendanceMonth"].createAttendanceMonth(child, institution);
        };
    };
    ChildAttendanceComponent.ɵfac = function ChildAttendanceComponent_Factory(t) { return new (t || ChildAttendanceComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_children_children_service__WEBPACK_IMPORTED_MODULE_2__["ChildrenService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_common__WEBPACK_IMPORTED_MODULE_4__["DatePipe"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_common__WEBPACK_IMPORTED_MODULE_4__["PercentPipe"])); };
    ChildAttendanceComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ChildAttendanceComponent, selectors: [["app-child-attendance"]], inputs: { institution: "institution", showDailyAttendanceOfLatest: "showDailyAttendanceOfLatest", child: "child" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 5, consts: [[3, "attendanceMonth", 4, "ngIf"], [3, "records", "columns", "newRecordFactory", "detailsComponent"], [3, "attendanceMonth"]], template: function ChildAttendanceComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, ChildAttendanceComponent_app_attendance_days_0_Template, 1, 1, "app-attendance-days", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "app-entity-subrecord", 1);
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showDailyAttendanceOfLatest && ctx.records && ctx.records.length > 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("records", ctx.records)("columns", ctx.columns)("newRecordFactory", ctx.generateNewRecordFactory())("detailsComponent", ctx.detailsComponent);
        } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _core_entity_subrecord_entity_subrecord_entity_subrecord_component__WEBPACK_IMPORTED_MODULE_9__["EntitySubrecordComponent"], _attendance_days_attendance_days_component__WEBPACK_IMPORTED_MODULE_10__["AttendanceDaysComponent"]], encapsulation: 2 });
    ChildAttendanceComponent = __decorate([
        Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_7__["UntilDestroy"])(),
        __metadata("design:paramtypes", [_children_children_service__WEBPACK_IMPORTED_MODULE_2__["ChildrenService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_4__["DatePipe"],
            _angular_common__WEBPACK_IMPORTED_MODULE_4__["PercentPipe"]])
    ], ChildAttendanceComponent);
    return ChildAttendanceComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ChildAttendanceComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-child-attendance",
                templateUrl: "./child-attendance.component.html",
            }]
    }], function () { return [{ type: _children_children_service__WEBPACK_IMPORTED_MODULE_2__["ChildrenService"] }, { type: _angular_common__WEBPACK_IMPORTED_MODULE_4__["DatePipe"] }, { type: _angular_common__WEBPACK_IMPORTED_MODULE_4__["PercentPipe"] }]; }, { institution: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showDailyAttendanceOfLatest: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], child: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/attendance/dashboard-widgets/attendance-average-dashboard/attendance-average-dashboard.component.ts":
/*!***************************************************************************************************************************************!*\
  !*** ./src/app/child-dev-project/attendance/dashboard-widgets/attendance-average-dashboard/attendance-average-dashboard.component.ts ***!
  \***************************************************************************************************************************************/
/*! exports provided: AttendanceAverageDashboardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AttendanceAverageDashboardComponent", function() { return AttendanceAverageDashboardComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _children_children_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../children/children.service */ "./src/app/child-dev-project/children/children.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngneat/until-destroy */ "./node_modules/@ngneat/until-destroy/fesm5/ngneat-until-destroy.js");
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/card */ "./node_modules/@angular/material/fesm5/card.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm2015/angulartics2.js");
/* harmony import */ var _children_child_block_child_block_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../children/child-block/child-block.component */ "./src/app/child-dev-project/children/child-block/child-block.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};












function AttendanceAverageDashboardComponent_tr_21_app_child_block_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-child-block", 12);
} if (rf & 2) {
    var entry_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entity", entry_r1[0]);
} }
function AttendanceAverageDashboardComponent_tr_21_Template(rf, ctx) { if (rf & 1) {
    var _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "tr", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AttendanceAverageDashboardComponent_tr_21_Template_tr_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); var entry_r1 = ctx.$implicit; var ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r5.goToChild(entry_r1[0].getId()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "td", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, AttendanceAverageDashboardComponent_tr_21_app_child_block_2_Template, 1, 1, "app-child-block", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "td", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "percent");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "td", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](8, "percent");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "td", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](10, "span", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var entry_r1 = ctx.$implicit;
    var i_r2 = ctx.index;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("angularticsLabel", "list-entry-" + i_r2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", entry_r1[0]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](5, 4, entry_r1[2], "1.0-0"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](8, 7, entry_r1[1], "1.0-0"), " ");
} }
var AttendanceAverageDashboardComponent = /** @class */ (function () {
    function AttendanceAverageDashboardComponent(childrenService, router) {
        this.childrenService = childrenService;
        this.router = router;
        this.ATTENDANCE_THRESHOLD = 0.9;
        this.lastMonthsTopAttendence = []; // [[Child, average_last_3_months, last_months_attendance]]
    }
    AttendanceAverageDashboardComponent.prototype.onInitFromDynamicConfig = function (config) { };
    AttendanceAverageDashboardComponent.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadAverageAttendances()];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    AttendanceAverageDashboardComponent.prototype.loadAverageAttendances = function () {
        return __awaiter(this, void 0, void 0, function () {
            var countMap, attendance3Months, totalCount, summedAverage, attendanceLastMonth;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        countMap = new Map();
                        return [4 /*yield*/, this.childrenService.queryAttendanceLast3Months()];
                    case 1:
                        attendance3Months = _a.sent();
                        totalCount = 0;
                        summedAverage = 0;
                        attendance3Months.rows.forEach(function (studentStat) {
                            totalCount += studentStat.value.count;
                            summedAverage += studentStat.value.sum;
                            countMap.set(studentStat.key, [
                                undefined,
                                studentStat.value.sum / studentStat.value.count,
                                0,
                            ]);
                        });
                        this.overallAttendance = summedAverage / totalCount;
                        return [4 /*yield*/, this.childrenService.queryAttendanceLastMonth()];
                    case 2:
                        attendanceLastMonth = _a.sent();
                        attendanceLastMonth.rows.forEach(function (studentStat) {
                            var record = countMap.get(studentStat.key);
                            record[2] = studentStat.value.sum / studentStat.value.count;
                            if (record[2] >= _this.ATTENDANCE_THRESHOLD) {
                                _this.childrenService
                                    .getChild(studentStat.key)
                                    .pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_3__["untilDestroyed"])(_this))
                                    .subscribe(function (child) { return (record[0] = child); });
                            }
                            else {
                                countMap.delete(studentStat.key);
                            }
                        });
                        // remove elements that don't have a matching attendance from last month
                        countMap.forEach(function (v, k) {
                            if (v[2] === 0) {
                                countMap.delete(k);
                            }
                        });
                        this.lastMonthsTopAttendence = Array.from(countMap.values()); // direct use of Map creates change detection problems
                        return [2 /*return*/];
                }
            });
        });
    };
    AttendanceAverageDashboardComponent.prototype.goToChild = function (childId) {
        this.router.navigate(["/child", childId]);
    };
    AttendanceAverageDashboardComponent.ɵfac = function AttendanceAverageDashboardComponent_Factory(t) { return new (t || AttendanceAverageDashboardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_children_children_service__WEBPACK_IMPORTED_MODULE_1__["ChildrenService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"])); };
    AttendanceAverageDashboardComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AttendanceAverageDashboardComponent, selectors: [["app-attendance-average-dashboard"]], decls: 22, vars: 9, consts: [[1, "dashboard-widget"], [1, "app-attendance"], ["mat-card-avatar", ""], ["fontIcon", "fa-line-chart"], [1, "dashboard-desc"], [1, "dashboard-table"], [1, "dashboard-table-cell"], ["class", "dashboard-table-row w-OK", "style", "cursor: pointer;", "angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "dashboard_attendance_average_list_link", 3, "angularticsLabel", "click", 4, "ngFor", "ngForOf"], ["angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "dashboard_attendance_average_list_link", 1, "dashboard-table-row", "w-OK", 2, "cursor", "pointer", 3, "angularticsLabel", "click"], [3, "entity", 4, "ngIf"], [1, "dashboard-table-cell", 2, "text-align", "right"], [1, "fa", "fa-external-link-square"], [3, "entity"]], template: function AttendanceAverageDashboardComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-card", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-card-header", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "mat-icon", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "mat-card-title");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "percent");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "mat-card-subtitle");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8, "Average Attendance Last 3 Months");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "mat-card-content");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "p", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](12, "percent");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "table", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "tr");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](15, "th", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "th", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](17, "last month");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](18, "th", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](19, "3 months");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](20, "th", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](21, AttendanceAverageDashboardComponent_tr_21_Template, 11, 10, "tr", 7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](6, 3, ctx.overallAttendance, "1.0-0"));
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" Students above ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](12, 6, ctx.ATTENDANCE_THRESHOLD, "1.0-0"), " attendance last month: ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](10);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.lastMonthsTopAttendence);
        } }, directives: [_angular_material_card__WEBPACK_IMPORTED_MODULE_4__["MatCard"], _angular_material_card__WEBPACK_IMPORTED_MODULE_4__["MatCardHeader"], _angular_material_card__WEBPACK_IMPORTED_MODULE_4__["MatCardAvatar"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_5__["MatIcon"], _angular_material_card__WEBPACK_IMPORTED_MODULE_4__["MatCardTitle"], _angular_material_card__WEBPACK_IMPORTED_MODULE_4__["MatCardSubtitle"], _angular_material_card__WEBPACK_IMPORTED_MODULE_4__["MatCardContent"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgForOf"], angulartics2__WEBPACK_IMPORTED_MODULE_7__["Angulartics2On"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgIf"], _children_child_block_child_block_component__WEBPACK_IMPORTED_MODULE_8__["ChildBlockComponent"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_6__["PercentPipe"]], styles: [".dashboard-table-row[_ngcontent-%COMP%] {\n  border-top: 1px solid black;\n}\n\n.dashboard-table[_ngcontent-%COMP%] {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.dashboard-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child {\n  width: 100%;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvYXR0ZW5kYW5jZS9kYXNoYm9hcmQtd2lkZ2V0cy9hdHRlbmRhbmNlLWF2ZXJhZ2UtZGFzaGJvYXJkL2F0dGVuZGFuY2UtYXZlcmFnZS1kYXNoYm9hcmQuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NoaWxkLWRldi1wcm9qZWN0L2F0dGVuZGFuY2UvZGFzaGJvYXJkLXdpZGdldHMvYXR0ZW5kYW5jZS1hdmVyYWdlLWRhc2hib2FyZC9hdHRlbmRhbmNlLWF2ZXJhZ2UtZGFzaGJvYXJkLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0UsMkJBQUE7QUNBRjs7QURHQTtFQUNFLFdBQUE7RUFDQSx5QkFBQTtBQ0FGOztBREVBO0VBQ0UsV0FBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvYXR0ZW5kYW5jZS9kYXNoYm9hcmQtd2lkZ2V0cy9hdHRlbmRhbmNlLWF2ZXJhZ2UtZGFzaGJvYXJkL2F0dGVuZGFuY2UtYXZlcmFnZS1kYXNoYm9hcmQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbi5kYXNoYm9hcmQtdGFibGUtcm93IHtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIGJsYWNrO1xufVxuXG4uZGFzaGJvYXJkLXRhYmxlIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG59XG4uZGFzaGJvYXJkLXRhYmxlIHRkOmZpcnN0LWNoaWxkIHtcbiAgd2lkdGg6IDEwMCU7XG59XG4iLCIuZGFzaGJvYXJkLXRhYmxlLXJvdyB7XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCBibGFjaztcbn1cblxuLmRhc2hib2FyZC10YWJsZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xufVxuXG4uZGFzaGJvYXJkLXRhYmxlIHRkOmZpcnN0LWNoaWxkIHtcbiAgd2lkdGg6IDEwMCU7XG59Il19 */"] });
    AttendanceAverageDashboardComponent = __decorate([
        Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_3__["UntilDestroy"])(),
        __metadata("design:paramtypes", [_children_children_service__WEBPACK_IMPORTED_MODULE_1__["ChildrenService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]])
    ], AttendanceAverageDashboardComponent);
    return AttendanceAverageDashboardComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AttendanceAverageDashboardComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-attendance-average-dashboard",
                templateUrl: "./attendance-average-dashboard.component.html",
                styleUrls: ["./attendance-average-dashboard.component.scss"],
            }]
    }], function () { return [{ type: _children_children_service__WEBPACK_IMPORTED_MODULE_1__["ChildrenService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] }]; }, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/attendance/dashboard-widgets/attendance-warnings-dashboard/attendance-warnings-dashboard.component.ts":
/*!*****************************************************************************************************************************************!*\
  !*** ./src/app/child-dev-project/attendance/dashboard-widgets/attendance-warnings-dashboard/attendance-warnings-dashboard.component.ts ***!
  \*****************************************************************************************************************************************/
/*! exports provided: AttendanceWarningsDashboardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AttendanceWarningsDashboardComponent", function() { return AttendanceWarningsDashboardComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _children_children_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../children/children.service */ "./src/app/child-dev-project/children/children.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _model_attendance_month__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../model/attendance-month */ "./src/app/child-dev-project/attendance/model/attendance-month.ts");
/* harmony import */ var _ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngneat/until-destroy */ "./node_modules/@ngneat/until-destroy/fesm5/ngneat-until-destroy.js");
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/card */ "./node_modules/@angular/material/fesm5/card.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm2015/angulartics2.js");
/* harmony import */ var _children_child_block_child_block_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../children/child-block/child-block.component */ "./src/app/child-dev-project/children/child-block/child-block.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};













function AttendanceWarningsDashboardComponent_tr_13_app_child_block_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-child-block", 12);
} if (rf & 2) {
    var entry_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entity", entry_r1[0]);
} }
function AttendanceWarningsDashboardComponent_tr_13_Template(rf, ctx) { if (rf & 1) {
    var _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "tr", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AttendanceWarningsDashboardComponent_tr_13_Template_tr_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); var entry_r1 = ctx.$implicit; var ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r5.goToChild(entry_r1[0].getId()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "td", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, AttendanceWarningsDashboardComponent_tr_13_app_child_block_2_Template, 1, 1, "app-child-block", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "td", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "percent");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "td", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](7, "span", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var entry_r1 = ctx.$implicit;
    var i_r2 = ctx.index;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("dashboard-table-row w-", entry_r1[2], "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("angularticsLabel", "list-entry-" + i_r2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", entry_r1[0]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](5, 6, entry_r1[1], "1.0-0"), " ");
} }
var AttendanceWarningsDashboardComponent = /** @class */ (function () {
    function AttendanceWarningsDashboardComponent(childrenService, router) {
        this.childrenService = childrenService;
        this.router = router;
        this.ATTENDANCE_THRESHOLD = _model_attendance_month__WEBPACK_IMPORTED_MODULE_3__["AttendanceMonth"].THRESHOLD_WARNING;
        this.lastMonthsLowAttendence = []; // [[Child, last_months_attendance]]
    }
    AttendanceWarningsDashboardComponent.prototype.onInitFromDynamicConfig = function (config) { };
    AttendanceWarningsDashboardComponent.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadLastAttendances()];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    AttendanceWarningsDashboardComponent.prototype.loadLastAttendances = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.childrenService
                            .queryAttendanceLastMonth()
                            .then(function (queryResults) {
                            _this.lastMonthsLowAttendence = [];
                            queryResults.rows.forEach(function (studentStat) {
                                var att = studentStat.value.sum / studentStat.value.count;
                                var urgency = "WARNING";
                                if (att < _model_attendance_month__WEBPACK_IMPORTED_MODULE_3__["AttendanceMonth"].THRESHOLD_URGENT) {
                                    urgency = "URGENT";
                                }
                                if (att < _this.ATTENDANCE_THRESHOLD) {
                                    _this.childrenService
                                        .getChild(studentStat.key)
                                        .pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_4__["untilDestroyed"])(_this))
                                        .subscribe(function (child) {
                                        return _this.lastMonthsLowAttendence.push([child, att, urgency]);
                                    });
                                }
                            });
                            _this.lastMonthsLowAttendence.sort(function (a, b) { return a[1] - b[1]; });
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    AttendanceWarningsDashboardComponent.prototype.goToChild = function (childId) {
        this.router.navigate(["/child", childId]);
    };
    AttendanceWarningsDashboardComponent.ɵfac = function AttendanceWarningsDashboardComponent_Factory(t) { return new (t || AttendanceWarningsDashboardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_children_children_service__WEBPACK_IMPORTED_MODULE_1__["ChildrenService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"])); };
    AttendanceWarningsDashboardComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AttendanceWarningsDashboardComponent, selectors: [["app-attendance-warnings-dashboard"]], decls: 14, vars: 6, consts: [[1, "dashboard-widget"], [1, "app-attendance"], ["mat-card-avatar", ""], ["fontIcon", "fa-exclamation-triangle"], [1, "dashboard-desc"], [1, "dashboard-table"], ["style", "cursor: pointer;", "angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "dashboard_attendance_warnings_list_link", 3, "class", "angularticsLabel", "click", 4, "ngFor", "ngForOf"], ["angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "dashboard_attendance_warnings_list_link", 2, "cursor", "pointer", 3, "angularticsLabel", "click"], [1, "dashboard-table-cell"], [3, "entity", 4, "ngIf"], [1, "dashboard-table-cell", 2, "text-align", "right"], [1, "fa", "fa-external-link-square"], [3, "entity"]], template: function AttendanceWarningsDashboardComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-card", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-card-header", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "mat-icon", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "mat-card-title");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "mat-card-subtitle");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7, "Students with low attendance");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "mat-card-content");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "p", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](10);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](11, "percent");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "table", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](13, AttendanceWarningsDashboardComponent_tr_13_Template, 8, 9, "tr", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.lastMonthsLowAttendence.length);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" Students below ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](11, 3, ctx.ATTENDANCE_THRESHOLD, "1.0-0"), " attendance last month: ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.lastMonthsLowAttendence);
        } }, directives: [_angular_material_card__WEBPACK_IMPORTED_MODULE_5__["MatCard"], _angular_material_card__WEBPACK_IMPORTED_MODULE_5__["MatCardHeader"], _angular_material_card__WEBPACK_IMPORTED_MODULE_5__["MatCardAvatar"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_6__["MatIcon"], _angular_material_card__WEBPACK_IMPORTED_MODULE_5__["MatCardTitle"], _angular_material_card__WEBPACK_IMPORTED_MODULE_5__["MatCardSubtitle"], _angular_material_card__WEBPACK_IMPORTED_MODULE_5__["MatCardContent"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgForOf"], angulartics2__WEBPACK_IMPORTED_MODULE_8__["Angulartics2On"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgIf"], _children_child_block_child_block_component__WEBPACK_IMPORTED_MODULE_9__["ChildBlockComponent"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_7__["PercentPipe"]], styles: [".dashboard-table-row[_ngcontent-%COMP%] {\n  border-top: 1px solid black;\n}\n\n.dashboard-table[_ngcontent-%COMP%] {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.dashboard-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child {\n  width: 100%;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvYXR0ZW5kYW5jZS9kYXNoYm9hcmQtd2lkZ2V0cy9hdHRlbmRhbmNlLXdhcm5pbmdzLWRhc2hib2FyZC9hdHRlbmRhbmNlLXdhcm5pbmdzLWRhc2hib2FyZC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvYXR0ZW5kYW5jZS9kYXNoYm9hcmQtd2lkZ2V0cy9hdHRlbmRhbmNlLXdhcm5pbmdzLWRhc2hib2FyZC9hdHRlbmRhbmNlLXdhcm5pbmdzLWRhc2hib2FyZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNFLDJCQUFBO0FDQUY7O0FER0E7RUFDRSxXQUFBO0VBQ0EseUJBQUE7QUNBRjs7QURFQTtFQUNFLFdBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL2NoaWxkLWRldi1wcm9qZWN0L2F0dGVuZGFuY2UvZGFzaGJvYXJkLXdpZGdldHMvYXR0ZW5kYW5jZS13YXJuaW5ncy1kYXNoYm9hcmQvYXR0ZW5kYW5jZS13YXJuaW5ncy1kYXNoYm9hcmQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbi5kYXNoYm9hcmQtdGFibGUtcm93IHtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIGJsYWNrO1xufVxuXG4uZGFzaGJvYXJkLXRhYmxlIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG59XG4uZGFzaGJvYXJkLXRhYmxlIHRkOmZpcnN0LWNoaWxkIHtcbiAgd2lkdGg6IDEwMCU7XG59IiwiLmRhc2hib2FyZC10YWJsZS1yb3cge1xuICBib3JkZXItdG9wOiAxcHggc29saWQgYmxhY2s7XG59XG5cbi5kYXNoYm9hcmQtdGFibGUge1xuICB3aWR0aDogMTAwJTtcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbn1cblxuLmRhc2hib2FyZC10YWJsZSB0ZDpmaXJzdC1jaGlsZCB7XG4gIHdpZHRoOiAxMDAlO1xufSJdfQ== */"] });
    AttendanceWarningsDashboardComponent = __decorate([
        Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_4__["UntilDestroy"])(),
        __metadata("design:paramtypes", [_children_children_service__WEBPACK_IMPORTED_MODULE_1__["ChildrenService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]])
    ], AttendanceWarningsDashboardComponent);
    return AttendanceWarningsDashboardComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AttendanceWarningsDashboardComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-attendance-warnings-dashboard",
                templateUrl: "./attendance-warnings-dashboard.component.html",
                styleUrls: ["./attendance-warnings-dashboard.component.scss"],
            }]
    }], function () { return [{ type: _children_children_service__WEBPACK_IMPORTED_MODULE_1__["ChildrenService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] }]; }, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/attendance/dashboard-widgets/attendance-week-dashboard/attendance-week-dashboard.component.ts":
/*!*********************************************************************************************************************************!*\
  !*** ./src/app/child-dev-project/attendance/dashboard-widgets/attendance-week-dashboard/attendance-week-dashboard.component.ts ***!
  \*********************************************************************************************************************************/
/*! exports provided: AttendanceWeekDashboardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AttendanceWeekDashboardComponent", function() { return AttendanceWeekDashboardComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _children_children_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../children/children.service */ "./src/app/child-dev-project/children/children.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _model_attendance_day__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../model/attendance-day */ "./src/app/child-dev-project/attendance/model/attendance-day.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngneat/until-destroy */ "./node_modules/@ngneat/until-destroy/fesm5/ngneat-until-destroy.js");
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/card */ "./node_modules/@angular/material/fesm5/card.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm2015/angulartics2.js");
/* harmony import */ var _children_child_block_child_block_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../children/child-block/child-block.component */ "./src/app/child-dev-project/children/child-block/child-block.component.ts");
/* harmony import */ var _attendance_days_attendance_day_block_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../attendance-days/attendance-day-block.component */ "./src/app/child-dev-project/attendance/attendance-days/attendance-day-block.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};















function AttendanceWeekDashboardComponent_tr_12_td_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "app-attendance-day-block", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var day_r5 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entity", day_r5)("showDate", false);
} }
function AttendanceWeekDashboardComponent_tr_12_td_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "app-attendance-day-block", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var day_r6 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entity", day_r6)("showDate", false);
} }
function AttendanceWeekDashboardComponent_tr_12_Template(rf, ctx) { if (rf & 1) {
    var _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "tr", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AttendanceWeekDashboardComponent_tr_12_Template_tr_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r8); var record_r1 = ctx.$implicit; var ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r7.goToChild(record_r1.child.getId()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "td", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "app-child-block", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "td", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "table", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, AttendanceWeekDashboardComponent_tr_12_td_6_Template, 2, 2, "td", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, AttendanceWeekDashboardComponent_tr_12_td_8_Template, 2, 2, "td", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var record_r1 = ctx.$implicit;
    var i_r2 = ctx.index;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("angularticsLabel", "list-entry-" + i_r2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entity", record_r1.child);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", record_r1.attendanceSchool);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", record_r1.attendanceCoaching);
} }
var AttendanceWeekDashboardComponent = /** @class */ (function () {
    function AttendanceWeekDashboardComponent(childrenService, router) {
        this.childrenService = childrenService;
        this.router = router;
        this.recordTrackByFunction = function (index, item) { return item.childId; };
    }
    AttendanceWeekDashboardComponent.prototype.onInitFromDynamicConfig = function (config) {
        if (config === null || config === void 0 ? void 0 : config.daysOffset) {
            this.daysOffset = config.daysOffset;
        }
        if (config === null || config === void 0 ? void 0 : config.periodLabel) {
            this.periodLabel = config.periodLabel;
        }
    };
    AttendanceWeekDashboardComponent.prototype.ngOnInit = function () {
        this.loadAttendanceOfAbsentees(this.daysOffset);
    };
    AttendanceWeekDashboardComponent.prototype.loadAttendanceOfAbsentees = function (daysOffset) {
        var _this = this;
        if (daysOffset === void 0) { daysOffset = 0; }
        this.attendanceRecordsMap = new Map();
        var today = new Date();
        var previousMonday = new Date(today.getFullYear(), today.getMonth(), today.getDate() - today.getDay() - 6 + daysOffset);
        var previousSaturday = new Date(previousMonday.getFullYear(), previousMonday.getMonth(), previousMonday.getDate() + 5);
        var o1 = this.childrenService.getAttendancesOfMonth(previousMonday);
        o1.pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_5__["untilDestroyed"])(this)).subscribe(function (attendances) {
            attendances.forEach(function (a) {
                return _this.extractRelevantAttendanceDays(a, previousMonday, previousSaturday);
            });
        });
        var o2 = o1;
        if (previousMonday.getMonth() !== previousSaturday.getMonth()) {
            o2 = this.childrenService.getAttendancesOfMonth(previousSaturday);
            o2.pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_5__["untilDestroyed"])(this)).subscribe(function (attendances) {
                return attendances.forEach(function (a) {
                    return _this.extractRelevantAttendanceDays(a, previousMonday, previousSaturday);
                });
            });
        }
        Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["forkJoin"])(o1, o2).subscribe(function () { return _this.filterAbsentees(); });
    };
    AttendanceWeekDashboardComponent.prototype.extractRelevantAttendanceDays = function (attendanceMonth, startDate, endDate) {
        var record = this.attendanceRecordsMap.get(attendanceMonth.student);
        if (record === undefined) {
            record = {
                childId: attendanceMonth.student,
                child: undefined,
                attendanceCoaching: [],
                attendanceSchool: [],
            };
            this.childrenService
                .getChild(attendanceMonth.student)
                .pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_5__["untilDestroyed"])(this))
                .subscribe(function (child) { return (record.child = child); });
            this.attendanceRecordsMap.set(attendanceMonth.student, record);
        }
        var relevantDays = attendanceMonth.dailyRegister.filter(function (a) {
            return a.date.getTime() >= startDate.getTime() &&
                a.date.getTime() <= endDate.getTime();
        });
        if (attendanceMonth.institution === "coaching") {
            record.attendanceCoaching = record.attendanceCoaching
                .concat(relevantDays)
                .sort(function (a, b) {
                return (a.date ? a.date.getTime() : 0) - (b.date ? b.date.getTime() : 0);
            });
        }
        else if (attendanceMonth.institution === "school") {
            record.attendanceSchool = record.attendanceSchool
                .concat(relevantDays)
                .sort(function (a, b) {
                return (a.date ? a.date.getTime() : 0) - (b.date ? b.date.getTime() : 0);
            });
        }
    };
    AttendanceWeekDashboardComponent.prototype.filterAbsentees = function () {
        var _this = this;
        this.attendanceRecords = [];
        this.attendanceRecordsMap.forEach(function (record) {
            var countAbsencesFun = function (acc, v) {
                return v.status === _model_attendance_day__WEBPACK_IMPORTED_MODULE_3__["AttendanceStatus"].ABSENT ? acc + 1 : acc;
            };
            record.schoolAbsences = record.attendanceSchool.reduce(countAbsencesFun, 0);
            record.coachingAbsences = record.attendanceCoaching.reduce(countAbsencesFun, 0);
            if (record.schoolAbsences > 1 || record.coachingAbsences > 1) {
                _this.attendanceRecords.push(record);
            }
        });
    };
    AttendanceWeekDashboardComponent.prototype.goToChild = function (childId) {
        this.router.navigate(["/child", childId]);
    };
    AttendanceWeekDashboardComponent.ɵfac = function AttendanceWeekDashboardComponent_Factory(t) { return new (t || AttendanceWeekDashboardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_children_children_service__WEBPACK_IMPORTED_MODULE_1__["ChildrenService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"])); };
    AttendanceWeekDashboardComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AttendanceWeekDashboardComponent, selectors: [["app-attendance-week-dashboard"]], inputs: { daysOffset: "daysOffset", periodLabel: "periodLabel" }, decls: 13, vars: 4, consts: [[1, "dashboard-widget"], [1, "app-attendance"], ["mat-card-avatar", ""], ["fontIcon", "fa-exclamation-triangle"], [1, "dashboard-table"], ["class", "dashboard-table-row w-WARNING", "style", "cursor: pointer;", "angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "dashboard_attendance_warnings_list_link", 3, "angularticsLabel", "click", 4, "ngFor", "ngForOf", "ngForTrackBy"], ["angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "dashboard_attendance_warnings_list_link", 1, "dashboard-table-row", "w-WARNING", 2, "cursor", "pointer", 3, "angularticsLabel", "click"], [1, "dashboard-table-first-cell", "dashboard-table-cell"], [3, "entity"], [1, "dashboard-table-last-cell", "dashboard-table-cell"], [1, "attendance-week-table"], [4, "ngFor", "ngForOf"], [1, "day-box", 3, "entity", "showDate"]], template: function AttendanceWeekDashboardComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-card", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-card-header", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "mat-icon", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "mat-card-title");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "mat-card-subtitle");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7, "Students more than one day absent ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "em");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "mat-card-content");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "table", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](12, AttendanceWeekDashboardComponent_tr_12_Template, 9, 4, "tr", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.attendanceRecords == null ? null : ctx.attendanceRecords.length);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.periodLabel);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.attendanceRecords)("ngForTrackBy", ctx.recordTrackByFunction);
        } }, directives: [_angular_material_card__WEBPACK_IMPORTED_MODULE_6__["MatCard"], _angular_material_card__WEBPACK_IMPORTED_MODULE_6__["MatCardHeader"], _angular_material_card__WEBPACK_IMPORTED_MODULE_6__["MatCardAvatar"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_7__["MatIcon"], _angular_material_card__WEBPACK_IMPORTED_MODULE_6__["MatCardTitle"], _angular_material_card__WEBPACK_IMPORTED_MODULE_6__["MatCardSubtitle"], _angular_material_card__WEBPACK_IMPORTED_MODULE_6__["MatCardContent"], _angular_common__WEBPACK_IMPORTED_MODULE_8__["NgForOf"], angulartics2__WEBPACK_IMPORTED_MODULE_9__["Angulartics2On"], _children_child_block_child_block_component__WEBPACK_IMPORTED_MODULE_10__["ChildBlockComponent"], _attendance_days_attendance_day_block_component__WEBPACK_IMPORTED_MODULE_11__["AttendanceDayBlockComponent"]], styles: [".dashboard-table-row[_ngcontent-%COMP%] {\n  border-top: 1px solid black;\n}\n\n.dashboard-table[_ngcontent-%COMP%] {\n  width: 100%;\n  border-collapse: collapse;\n  table-layout: fixed;\n}\n\n.dashboard-table-first-cell[_ngcontent-%COMP%] {\n  white-space: nowrap;\n  overflow: hidden;\n}\n\n.dashboard-table-last-cell[_ngcontent-%COMP%] {\n  width: 103px;\n  text-align: right;\n}\n\n.dashboard-table-cell[_ngcontent-%COMP%] {\n  padding-top: 5px;\n  padding-bottom: 5px;\n}\n\n.attendance-day[_ngcontent-%COMP%] {\n  width: 10px;\n}\n\n.day-box[_ngcontent-%COMP%] {\n  display: table;\n  width: 15px;\n  overflow: hidden;\n  white-space: nowrap;\n  font-size: smaller;\n}\n\n.attendance-week-table[_ngcontent-%COMP%] {\n  border-spacing: 0;\n  padding-right: 10px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvYXR0ZW5kYW5jZS9kYXNoYm9hcmQtd2lkZ2V0cy9hdHRlbmRhbmNlLXdlZWstZGFzaGJvYXJkL2F0dGVuZGFuY2Utd2Vlay1kYXNoYm9hcmQuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NoaWxkLWRldi1wcm9qZWN0L2F0dGVuZGFuY2UvZGFzaGJvYXJkLXdpZGdldHMvYXR0ZW5kYW5jZS13ZWVrLWRhc2hib2FyZC9hdHRlbmRhbmNlLXdlZWstZGFzaGJvYXJkLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0UsMkJBQUE7QUNBRjs7QURHQTtFQUNFLFdBQUE7RUFDQSx5QkFBQTtFQUNBLG1CQUFBO0FDQUY7O0FERUE7RUFDRSxtQkFBQTtFQUNBLGdCQUFBO0FDQ0Y7O0FEQ0E7RUFDRSxZQUFBO0VBQ0EsaUJBQUE7QUNFRjs7QURBQTtFQUNFLGdCQUFBO0VBQ0EsbUJBQUE7QUNHRjs7QURBQTtFQUNFLFdBQUE7QUNHRjs7QURBQTtFQUNFLGNBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0FDR0Y7O0FEQ0E7RUFDRSxpQkFBQTtFQUNBLG1CQUFBO0FDRUYiLCJmaWxlIjoic3JjL2FwcC9jaGlsZC1kZXYtcHJvamVjdC9hdHRlbmRhbmNlL2Rhc2hib2FyZC13aWRnZXRzL2F0dGVuZGFuY2Utd2Vlay1kYXNoYm9hcmQvYXR0ZW5kYW5jZS13ZWVrLWRhc2hib2FyZC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLmRhc2hib2FyZC10YWJsZS1yb3cge1xuICBib3JkZXItdG9wOiAxcHggc29saWQgYmxhY2s7XG59XG5cbi5kYXNoYm9hcmQtdGFibGUge1xuICB3aWR0aDogMTAwJTtcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbiAgdGFibGUtbGF5b3V0OiBmaXhlZDtcbn1cbi5kYXNoYm9hcmQtdGFibGUtZmlyc3QtY2VsbCB7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG4uZGFzaGJvYXJkLXRhYmxlLWxhc3QtY2VsbCB7XG4gIHdpZHRoOiAxMDNweDtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG4uZGFzaGJvYXJkLXRhYmxlLWNlbGwge1xuICBwYWRkaW5nLXRvcDogNXB4O1xuICBwYWRkaW5nLWJvdHRvbTogNXB4O1xufVxuXG4uYXR0ZW5kYW5jZS1kYXkge1xuICB3aWR0aDogMTBweDtcbn1cblxuLmRheS1ib3gge1xuICBkaXNwbGF5OiB0YWJsZTtcbiAgd2lkdGg6IDE1cHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIGZvbnQtc2l6ZTogc21hbGxlcjtcbn1cblxuXG4uYXR0ZW5kYW5jZS13ZWVrLXRhYmxlIHtcbiAgYm9yZGVyLXNwYWNpbmc6IDA7XG4gIHBhZGRpbmctcmlnaHQ6IDEwcHg7XG59XG4iLCIuZGFzaGJvYXJkLXRhYmxlLXJvdyB7XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCBibGFjaztcbn1cblxuLmRhc2hib2FyZC10YWJsZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICB0YWJsZS1sYXlvdXQ6IGZpeGVkO1xufVxuXG4uZGFzaGJvYXJkLXRhYmxlLWZpcnN0LWNlbGwge1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4uZGFzaGJvYXJkLXRhYmxlLWxhc3QtY2VsbCB7XG4gIHdpZHRoOiAxMDNweDtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi5kYXNoYm9hcmQtdGFibGUtY2VsbCB7XG4gIHBhZGRpbmctdG9wOiA1cHg7XG4gIHBhZGRpbmctYm90dG9tOiA1cHg7XG59XG5cbi5hdHRlbmRhbmNlLWRheSB7XG4gIHdpZHRoOiAxMHB4O1xufVxuXG4uZGF5LWJveCB7XG4gIGRpc3BsYXk6IHRhYmxlO1xuICB3aWR0aDogMTVweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgZm9udC1zaXplOiBzbWFsbGVyO1xufVxuXG4uYXR0ZW5kYW5jZS13ZWVrLXRhYmxlIHtcbiAgYm9yZGVyLXNwYWNpbmc6IDA7XG4gIHBhZGRpbmctcmlnaHQ6IDEwcHg7XG59Il19 */"] });
    AttendanceWeekDashboardComponent = __decorate([
        Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_5__["UntilDestroy"])(),
        __metadata("design:paramtypes", [_children_children_service__WEBPACK_IMPORTED_MODULE_1__["ChildrenService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]])
    ], AttendanceWeekDashboardComponent);
    return AttendanceWeekDashboardComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AttendanceWeekDashboardComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-attendance-week-dashboard",
                templateUrl: "./attendance-week-dashboard.component.html",
                styleUrls: ["./attendance-week-dashboard.component.scss"],
            }]
    }], function () { return [{ type: _children_children_service__WEBPACK_IMPORTED_MODULE_1__["ChildrenService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] }]; }, { daysOffset: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], periodLabel: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/attendance/demo-attendance-generator.service.ts":
/*!***********************************************************************************!*\
  !*** ./src/app/child-dev-project/attendance/demo-attendance-generator.service.ts ***!
  \***********************************************************************************/
/*! exports provided: DemoAttendanceGenerator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DemoAttendanceGenerator", function() { return DemoAttendanceGenerator; });
/* harmony import */ var _children_demo_data_generators_demo_child_generator_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../children/demo-data-generators/demo-child-generator.service */ "./src/app/child-dev-project/children/demo-data-generators/demo-child-generator.service.ts");
/* harmony import */ var _core_demo_data_demo_data_generator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/demo-data/demo-data-generator */ "./src/app/core/demo-data/demo-data-generator.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/demo-data/faker */ "./src/app/core/demo-data/faker.ts");
/* harmony import */ var _model_attendance_month__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./model/attendance-month */ "./src/app/child-dev-project/attendance/model/attendance-month.ts");
/* harmony import */ var _model_attendance_day__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./model/attendance-day */ "./src/app/child-dev-project/attendance/model/attendance-day.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};








var ATTENDANCE_PROFILES = [
    {
        id: 0,
        present: 94,
        excused: 3,
        late: 1,
        absent: 2,
    },
    {
        id: 1,
        present: 80,
        excused: 5,
        late: 5,
        absent: 10,
    },
    {
        id: 2,
        present: 70,
        excused: 5,
        late: 10,
        absent: 15,
    },
    {
        id: 3,
        present: 50,
        excused: 5,
        late: 5,
        absent: 40,
    },
];
/**
 * Generate AttendanceMonth entities for the last 15 months
 * Builds upon the generated demo Child entities.
 */
var DemoAttendanceGenerator = /** @class */ (function (_super) {
    __extends(DemoAttendanceGenerator, _super);
    function DemoAttendanceGenerator(demoChildren) {
        var _this = _super.call(this) || this;
        _this.demoChildren = demoChildren;
        return _this;
    }
    /**
     * This function returns a provider object to be used in an Angular Module configuration:
     *   `providers: [DemoAttendanceGenerator.provider()]`
     */
    DemoAttendanceGenerator.provider = function () {
        return [
            { provide: DemoAttendanceGenerator, useClass: DemoAttendanceGenerator },
        ];
    };
    DemoAttendanceGenerator.isHoliday = function (date) {
        switch (date.getMonth()) {
            case 0:
                return ((date.getDate() >= 1 && date.getDate() <= 6) ||
                    date.getDate() === 23 ||
                    date.getDate() === 26);
            case 2:
                return (date.getDate() === 4 || (date.getDate() >= 20 && date.getDate() <= 21));
            case 3:
                return (date.getDate() === 15 ||
                    (date.getDate() >= 20 && date.getDate() <= 21));
            case 4:
                return date.getDate() === 1 || date.getDate() >= 23;
            case 5:
                return date.getDate() <= 21;
            case 6:
                return date.getDate() === 4;
            case 7:
                return date.getDate() === 15;
            case 8:
                return date.getDate() === 11;
            case 9:
                return date.getDate() >= 5 && date.getDate() <= 16;
            case 10:
                return date.getDate() === 2 || date.getDate() === 10;
            case 11:
                return date.getDate() >= 24;
        }
        return false;
    };
    DemoAttendanceGenerator.prototype.generateEntities = function () {
        var e_1, _a;
        var data = [];
        try {
            for (var _b = __values(this.demoChildren.entities), _c = _b.next(); !_c.done; _c = _b.next()) {
                var child = _c.value;
                data.push.apply(data, __spread(this.generateAttendanceRecordsForChild(child)));
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
        return data;
    };
    DemoAttendanceGenerator.prototype.generateAttendanceRecordsForChild = function (child) {
        var data = [];
        var finalMonth = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__["faker"].getEarlierDateOrToday(child.dropoutDate);
        finalMonth.setDate(1);
        var month = new Date();
        month.setDate(1);
        month.setMonth(month.getMonth() - 15);
        if (child.admissionDate > month) {
            month.setMonth(child.admissionDate.getMonth());
            month.setFullYear(child.admissionDate.getFullYear());
        }
        var attendanceProfile = undefined;
        while (month <= finalMonth) {
            attendanceProfile = this.selectNextAttendanceProfile(attendanceProfile);
            data.push(this.generateRecord(child, new Date(month.toISOString()), "school", attendanceProfile));
            data.push(this.generateRecord(child, new Date(month.toISOString()), "coaching", attendanceProfile));
            month.setMonth(month.getMonth() + 1);
        }
        return data;
    };
    DemoAttendanceGenerator.prototype.generateRecord = function (child, month, institution, attendanceProfile) {
        var _this = this;
        var attendanceMonth = new _model_attendance_month__WEBPACK_IMPORTED_MODULE_4__["AttendanceMonth"](_core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__["faker"].random.uuid());
        attendanceMonth.month = month;
        attendanceMonth.student = child.getId();
        attendanceMonth.institution = institution;
        attendanceMonth.dailyRegister.forEach(function (attendanceDay) {
            return _this.setDayAttendance(attendanceDay, institution !== "school", attendanceProfile);
        });
        return attendanceMonth;
    };
    DemoAttendanceGenerator.prototype.setDayAttendance = function (attendanceDay, includeSaturday, attendanceProfile) {
        if (attendanceDay.date > new Date()) {
            return;
        }
        if (attendanceDay.date.getDay() === 0 || // Sunday
            (!includeSaturday && attendanceDay.date.getDay() === 6) // Saturday
        ) {
            return;
        }
        if (DemoAttendanceGenerator.isHoliday(attendanceDay.date)) {
            attendanceDay.status = _model_attendance_day__WEBPACK_IMPORTED_MODULE_5__["AttendanceStatus"].HOLIDAY;
            return;
        }
        var random = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__["faker"].random.number(100);
        if (random < attendanceProfile.present) {
            attendanceDay.status = _model_attendance_day__WEBPACK_IMPORTED_MODULE_5__["AttendanceStatus"].PRESENT;
        }
        else if (random < attendanceProfile.present + attendanceProfile.excused) {
            attendanceDay.status = _model_attendance_day__WEBPACK_IMPORTED_MODULE_5__["AttendanceStatus"].EXCUSED;
            attendanceDay.remarks = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__["faker"].random.arrayElement([
                "fever",
                "cough",
                "death in family",
                "family out of town",
            ]);
        }
        else if (random <
            attendanceProfile.present +
                attendanceProfile.excused +
                attendanceProfile.late) {
            attendanceDay.status = _model_attendance_day__WEBPACK_IMPORTED_MODULE_5__["AttendanceStatus"].LATE;
        }
        else {
            attendanceDay.status = _model_attendance_day__WEBPACK_IMPORTED_MODULE_5__["AttendanceStatus"].ABSENT;
        }
    };
    /**
     * Select a new attendance profile (likelihood for absences, etc.).
     * It's most likely the profile will remain the same as in previous month.
     * @param previousAttendanceProfile
     */
    DemoAttendanceGenerator.prototype.selectNextAttendanceProfile = function (previousAttendanceProfile) {
        if (!previousAttendanceProfile) {
            return _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__["faker"].random.arrayElement(ATTENDANCE_PROFILES);
        }
        if (_core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__["faker"].random.number(100) < 80) {
            return previousAttendanceProfile;
        }
        else {
            return _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__["faker"].random.arrayElement(ATTENDANCE_PROFILES);
        }
    };
    DemoAttendanceGenerator.ɵfac = function DemoAttendanceGenerator_Factory(t) { return new (t || DemoAttendanceGenerator)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_children_demo_data_generators_demo_child_generator_service__WEBPACK_IMPORTED_MODULE_0__["DemoChildGenerator"])); };
    DemoAttendanceGenerator.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: DemoAttendanceGenerator, factory: DemoAttendanceGenerator.ɵfac });
    return DemoAttendanceGenerator;
}(_core_demo_data_demo_data_generator__WEBPACK_IMPORTED_MODULE_1__["DemoDataGenerator"]));

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵsetClassMetadata"](DemoAttendanceGenerator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"]
    }], function () { return [{ type: _children_demo_data_generators_demo_child_generator_service__WEBPACK_IMPORTED_MODULE_0__["DemoChildGenerator"] }]; }, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/attendance/model/attendance-day.ts":
/*!**********************************************************************!*\
  !*** ./src/app/child-dev-project/attendance/model/attendance-day.ts ***!
  \**********************************************************************/
/*! exports provided: AttendanceStatus, AttendanceDay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AttendanceStatus", function() { return AttendanceStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AttendanceDay", function() { return AttendanceDay; });
/* harmony import */ var _core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/entity/database-field.decorator */ "./src/app/core/entity/database-field.decorator.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var AttendanceStatus;
(function (AttendanceStatus) {
    AttendanceStatus["UNKNOWN"] = "?";
    AttendanceStatus["HOLIDAY"] = "H";
    AttendanceStatus["ABSENT"] = "A";
    AttendanceStatus["PRESENT"] = "P";
    AttendanceStatus["LATE"] = "L";
    AttendanceStatus["EXCUSED"] = "E";
})(AttendanceStatus || (AttendanceStatus = {}));
var AttendanceDay = /** @class */ (function () {
    function AttendanceDay(date, status) {
        if (status === void 0) { status = AttendanceStatus.UNKNOWN; }
        this.remarks = "";
        this.date = date;
        this.status = status;
    }
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_0__["DatabaseField"])({ dataType: "date-only" }),
        __metadata("design:type", Date)
    ], AttendanceDay.prototype, "date", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_0__["DatabaseField"])(),
        __metadata("design:type", String)
    ], AttendanceDay.prototype, "status", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_0__["DatabaseField"])(),
        __metadata("design:type", String)
    ], AttendanceDay.prototype, "remarks", void 0);
    return AttendanceDay;
}());



/***/ }),

/***/ "./src/app/child-dev-project/attendance/model/attendance-month.ts":
/*!************************************************************************!*\
  !*** ./src/app/child-dev-project/attendance/model/attendance-month.ts ***!
  \************************************************************************/
/*! exports provided: AttendanceMonth, daysInMonth */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AttendanceMonth", function() { return AttendanceMonth; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "daysInMonth", function() { return daysInMonth; });
/* harmony import */ var _core_entity_entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/entity/entity */ "./src/app/core/entity/entity.ts");
/* harmony import */ var _warning_level__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../warning-level */ "./src/app/child-dev-project/warning-level.ts");
/* harmony import */ var _attendance_day__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./attendance-day */ "./src/app/child-dev-project/attendance/model/attendance-day.ts");
/* harmony import */ var _core_entity_database_entity_decorator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/entity/database-entity.decorator */ "./src/app/core/entity/database-entity.decorator.ts");
/* harmony import */ var _core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/entity/database-field.decorator */ "./src/app/core/entity/database-field.decorator.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};





var AttendanceMonth = /** @class */ (function (_super) {
    __extends(AttendanceMonth, _super);
    function AttendanceMonth(id) {
        var _this = _super.call(this, id) || this;
        _this.remarks = "";
        _this.overridden = false; // indicates individual override during bulk adding
        _this._dailyRegister = new Array();
        _this.month = new Date();
        return _this;
    }
    AttendanceMonth_1 = AttendanceMonth;
    AttendanceMonth.createAttendanceMonth = function (childId, institution) {
        var month = new Date();
        var newAtt = new AttendanceMonth_1(childId +
            "_" +
            month.getFullYear() +
            "-" +
            (month.getMonth() + 1) +
            "_" +
            institution);
        newAtt.month = month;
        newAtt.student = childId;
        newAtt.institution = institution;
        return newAtt;
    };
    Object.defineProperty(AttendanceMonth.prototype, "month", {
        get: function () {
            return this.p_month;
        },
        set: function (value) {
            if (!(value instanceof Date)) {
                console.warn("Trying to set invalid date " +
                    JSON.stringify(value) +
                    " to Entity " +
                    this._id);
                return;
            }
            if (value.getDate() !== 2) {
                value.setDate(2);
            }
            this.p_month = new Date(value);
            this.updateDailyRegister();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AttendanceMonth.prototype, "daysWorking", {
        get: function () {
            if (this.daysWorking_manuallyEntered !== undefined) {
                return this.daysWorking_manuallyEntered;
            }
            else {
                return this.getDaysWorkingFromDailyAttendance();
            }
        },
        set: function (value) {
            this.daysWorking_manuallyEntered = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AttendanceMonth.prototype, "daysAttended", {
        get: function () {
            if (this.daysAttended_manuallyEntered !== undefined) {
                return this.daysAttended_manuallyEntered;
            }
            else {
                return this.getDaysAttendedFromDailyAttendance();
            }
        },
        set: function (value) {
            this.daysAttended_manuallyEntered = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AttendanceMonth.prototype, "daysExcused", {
        get: function () {
            if (this.daysExcused_manuallyEntered !== undefined) {
                return this.daysExcused_manuallyEntered;
            }
            else {
                return this.getDaysExcusedFromDailyAttendance();
            }
        },
        set: function (value) {
            this.daysExcused_manuallyEntered = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AttendanceMonth.prototype, "daysLate", {
        get: function () {
            if (this.daysLate_manuallyEntered !== undefined) {
                return this.daysLate_manuallyEntered;
            }
            else {
                return this.calculateFromDailyRegister(_attendance_day__WEBPACK_IMPORTED_MODULE_2__["AttendanceStatus"].LATE);
            }
        },
        set: function (value) {
            this.daysLate_manuallyEntered = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AttendanceMonth.prototype, "dailyRegister", {
        get: function () {
            return this._dailyRegister;
        },
        set: function (value) {
            var e_1, _a;
            if (!value) {
                return;
            }
            try {
                for (var value_1 = __values(value), value_1_1 = value_1.next(); !value_1_1.done; value_1_1 = value_1.next()) {
                    var attDay = value_1_1.value;
                    if (typeof attDay.date.getTime !== "function") {
                        attDay.date = new Date(attDay.date);
                    }
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (value_1_1 && !value_1_1.done && (_a = value_1.return)) _a.call(value_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
            this._dailyRegister = value;
        },
        enumerable: true,
        configurable: true
    });
    AttendanceMonth.prototype.updateDailyRegister = function () {
        var _this = this;
        if (this.month === undefined) {
            return;
        }
        if (this.dailyRegister === undefined) {
            this.dailyRegister = new Array();
        }
        var expectedDays = daysInMonth(this.month);
        var currentDays = this.dailyRegister.length;
        if (currentDays < expectedDays) {
            for (var i = currentDays + 1; i <= expectedDays; i++) {
                var date = new Date(this.month.getFullYear(), this.month.getMonth(), i);
                var day = new _attendance_day__WEBPACK_IMPORTED_MODULE_2__["AttendanceDay"](date);
                this.dailyRegister.push(day);
            }
        }
        else if (currentDays > expectedDays) {
            this.dailyRegister.splice(expectedDays);
        }
        this.dailyRegister.forEach(function (day) {
            day.date.setMonth(_this.month.getMonth());
            day.date.setFullYear(_this.month.getFullYear());
        });
    };
    AttendanceMonth.prototype.calculateFromDailyRegister = function (status) {
        var count = 0;
        this.dailyRegister.forEach(function (day) {
            if (day.status === status) {
                count++;
            }
        });
        return count;
    };
    AttendanceMonth.prototype.getDaysWorkingFromDailyAttendance = function () {
        return (this.dailyRegister.length -
            this.calculateFromDailyRegister(_attendance_day__WEBPACK_IMPORTED_MODULE_2__["AttendanceStatus"].HOLIDAY) -
            this.calculateFromDailyRegister(_attendance_day__WEBPACK_IMPORTED_MODULE_2__["AttendanceStatus"].UNKNOWN));
    };
    AttendanceMonth.prototype.getDaysAttendedFromDailyAttendance = function () {
        return (this.calculateFromDailyRegister(_attendance_day__WEBPACK_IMPORTED_MODULE_2__["AttendanceStatus"].PRESENT) +
            this.calculateFromDailyRegister(_attendance_day__WEBPACK_IMPORTED_MODULE_2__["AttendanceStatus"].LATE));
    };
    AttendanceMonth.prototype.getDaysExcusedFromDailyAttendance = function () {
        return this.calculateFromDailyRegister(_attendance_day__WEBPACK_IMPORTED_MODULE_2__["AttendanceStatus"].EXCUSED);
    };
    AttendanceMonth.prototype.getDaysLateFromDailyAttendance = function () {
        return this.calculateFromDailyRegister(_attendance_day__WEBPACK_IMPORTED_MODULE_2__["AttendanceStatus"].LATE);
    };
    AttendanceMonth.prototype.getAttendancePercentage = function () {
        return this.daysAttended / (this.daysWorking - this.daysExcused);
    };
    AttendanceMonth.prototype.getWarningLevel = function () {
        var attendance = this.getAttendancePercentage();
        if (attendance < AttendanceMonth_1.THRESHOLD_URGENT) {
            return _warning_level__WEBPACK_IMPORTED_MODULE_1__["WarningLevel"].URGENT;
        }
        else if (attendance < AttendanceMonth_1.THRESHOLD_WARNING) {
            return _warning_level__WEBPACK_IMPORTED_MODULE_1__["WarningLevel"].WARNING;
        }
        else {
            return _warning_level__WEBPACK_IMPORTED_MODULE_1__["WarningLevel"].OK;
        }
    };
    var AttendanceMonth_1;
    AttendanceMonth.THRESHOLD_URGENT = 0.6;
    AttendanceMonth.THRESHOLD_WARNING = 0.8;
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_4__["DatabaseField"])(),
        __metadata("design:type", String)
    ], AttendanceMonth.prototype, "student", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_4__["DatabaseField"])(),
        __metadata("design:type", String)
    ], AttendanceMonth.prototype, "remarks", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_4__["DatabaseField"])(),
        __metadata("design:type", String)
    ], AttendanceMonth.prototype, "institution", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_4__["DatabaseField"])({ dataType: "month" }),
        __metadata("design:type", Date),
        __metadata("design:paramtypes", [Date])
    ], AttendanceMonth.prototype, "month", null);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_4__["DatabaseField"])(),
        __metadata("design:type", Number),
        __metadata("design:paramtypes", [Number])
    ], AttendanceMonth.prototype, "daysWorking", null);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_4__["DatabaseField"])(),
        __metadata("design:type", Number),
        __metadata("design:paramtypes", [Number])
    ], AttendanceMonth.prototype, "daysAttended", null);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_4__["DatabaseField"])(),
        __metadata("design:type", Number),
        __metadata("design:paramtypes", [Number])
    ], AttendanceMonth.prototype, "daysExcused", null);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_4__["DatabaseField"])(),
        __metadata("design:type", Number),
        __metadata("design:paramtypes", [Number])
    ], AttendanceMonth.prototype, "daysLate", null);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_4__["DatabaseField"])({ arrayDataType: "schema-embed", ext: _attendance_day__WEBPACK_IMPORTED_MODULE_2__["AttendanceDay"] }),
        __metadata("design:type", Array),
        __metadata("design:paramtypes", [Array])
    ], AttendanceMonth.prototype, "dailyRegister", null);
    AttendanceMonth = AttendanceMonth_1 = __decorate([
        Object(_core_entity_database_entity_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseEntity"])("AttendanceMonth"),
        __metadata("design:paramtypes", [String])
    ], AttendanceMonth);
    return AttendanceMonth;
}(_core_entity_entity__WEBPACK_IMPORTED_MODULE_0__["Entity"]));

function daysInMonth(date) {
    return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();
}


/***/ }),

/***/ "./src/app/child-dev-project/children/child-block/child-block.component.ts":
/*!*********************************************************************************!*\
  !*** ./src/app/child-dev-project/children/child-block/child-block.component.ts ***!
  \*********************************************************************************/
/*! exports provided: ChildBlockComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChildBlockComponent", function() { return ChildBlockComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _children_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../children.service */ "./src/app/child-dev-project/children/children.service.ts");
/* harmony import */ var _model_child__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../model/child */ "./src/app/child-dev-project/children/model/child.ts");
/* harmony import */ var _ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngneat/until-destroy */ "./node_modules/@ngneat/until-destroy/fesm5/ngneat-until-destroy.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/flex-layout/extended */ "./node_modules/@angular/flex-layout/esm5/extended.es5.js");
/* harmony import */ var _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/flex-layout/flex */ "./node_modules/@angular/flex-layout/esm5/flex.es5.js");
/* harmony import */ var _schools_school_block_school_block_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../schools/school-block/school-block.component */ "./src/app/child-dev-project/schools/school-block/school-block.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};












var _c0 = function (a0) { return { "inactive": a0 }; };
function ChildBlockComponent_span_0_Template(rf, ctx) { if (rf & 1) {
    var _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("mouseenter", function ChildBlockComponent_span_0_Template_span_mouseenter_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); var ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r2.showTooltip(); })("mouseleave", function ChildBlockComponent_span_0_Template_span_mouseleave_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); var ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r4.hideTooltip(); })("click", function ChildBlockComponent_span_0_Template_span_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); var ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r5.showDetailsPage(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "img", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "span", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](4, _c0, !ctx_r0.entity.isActive()));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("src", ctx_r0.entity == null ? null : ctx_r0.entity.photo == null ? null : ctx_r0.entity.photo.value, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx_r0.entity == null ? null : ctx_r0.entity.name, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("(", ctx_r0.entity == null ? null : ctx_r0.entity.projectNumber, ")");
} }
function ChildBlockComponent_div_1_Template(rf, ctx) { if (rf & 1) {
    var _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("mouseenter", function ChildBlockComponent_div_1_Template_div_mouseenter_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r7); var ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r6.showTooltip(); })("mouseleave", function ChildBlockComponent_div_1_Template_div_mouseleave_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r7); var ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r8.hideTooltip(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "img", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "h3");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](8, "span", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](11, "app-school-block", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("src", ctx_r1.entity == null ? null : ctx_r1.entity.photo == null ? null : ctx_r1.entity.photo.value, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r1.entity == null ? null : ctx_r1.entity.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx_r1.entity == null ? null : ctx_r1.entity.phone, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entityId", ctx_r1.entity == null ? null : ctx_r1.entity.schoolId);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](", class ", ctx_r1.entity == null ? null : ctx_r1.entity.schoolClass, " ");
} }
var ChildBlockComponent = /** @class */ (function () {
    function ChildBlockComponent(router, childrenService) {
        this.router = router;
        this.childrenService = childrenService;
        this.tooltipVisible = false;
    }
    ChildBlockComponent.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                if (this.entityId) {
                    this.childrenService
                        .getChild(this.entityId)
                        .pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_4__["untilDestroyed"])(this))
                        .subscribe(function (child) {
                        _this.entity = child;
                    });
                }
                return [2 /*return*/];
            });
        });
    };
    ChildBlockComponent.prototype.showTooltip = function () {
        if (this.tooltipDisabled) {
            return;
        }
        this.tooltipVisible = true;
        if (this.tooltipTimeout) {
            clearTimeout(this.tooltipTimeout);
        }
    };
    ChildBlockComponent.prototype.hideTooltip = function () {
        var _this = this;
        this.tooltipTimeout = setTimeout(function () { return (_this.tooltipVisible = false); }, 250);
    };
    ChildBlockComponent.prototype.showDetailsPage = function () {
        if (this.linkDisabled) {
            return;
        }
        this.router.navigate(["/child", this.entity.getId()]);
    };
    ChildBlockComponent.ɵfac = function ChildBlockComponent_Factory(t) { return new (t || ChildBlockComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_children_service__WEBPACK_IMPORTED_MODULE_2__["ChildrenService"])); };
    ChildBlockComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ChildBlockComponent, selectors: [["app-child-block"]], inputs: { entity: "entity", entityId: "entityId", linkDisabled: "linkDisabled", tooltipDisabled: "tooltipDisabled" }, decls: 2, vars: 2, consts: [[3, "ngClass", "mouseenter", "mouseleave", "click", 4, "ngIf"], ["style", "position:absolute;", 4, "ngIf"], [3, "ngClass", "mouseenter", "mouseleave", "click"], [1, "child-pic", 3, "src"], [2, "font-size", "x-small"], [2, "position", "absolute"], ["fxLayout", "row", 1, "mat-elevation-z5", "child-tooltip", 3, "mouseenter", "mouseleave"], ["fxFlex", "30"], [1, "child-pic-large", 3, "src"], ["fxFlex", ""], [1, "fa", "fa-phone"], [3, "entityId"]], template: function ChildBlockComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, ChildBlockComponent_span_0_Template, 5, 6, "span", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, ChildBlockComponent_div_1_Template, 13, 5, "div", 1);
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.entity);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.tooltipVisible);
        } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgClass"], _angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_6__["DefaultClassDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_7__["DefaultLayoutDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_7__["DefaultFlexDirective"], _schools_school_block_school_block_component__WEBPACK_IMPORTED_MODULE_8__["SchoolBlockComponent"]], styles: [".child-tooltip[_ngcontent-%COMP%] {\n  position: relative;\n  top: -5px;\n  left: 5px;\n  padding: 8px;\n  background-color: white;\n  z-index: 99;\n  width: 400px;\n}\n\n.child-pic[_ngcontent-%COMP%] {\n  border-radius: 50%;\n  width: 24px;\n  margin-right: 4px;\n  vertical-align: middle;\n}\n\n.child-pic-large[_ngcontent-%COMP%] {\n  width: 80px;\n  height: 100px;\n  -o-object-fit: cover;\n     object-fit: cover;\n  border: 1px solid black;\n}\n\n.inactive[_ngcontent-%COMP%] {\n  color: grey;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvY2hpbGRyZW4vY2hpbGQtYmxvY2svY2hpbGQtYmxvY2suY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NoaWxkLWRldi1wcm9qZWN0L2NoaWxkcmVuL2NoaWxkLWJsb2NrL2NoaWxkLWJsb2NrLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxTQUFBO0VBQ0EsU0FBQTtFQUVBLFlBQUE7RUFDQSx1QkFBQTtFQUNBLFdBQUE7RUFFQSxZQUFBO0FDREY7O0FESUE7RUFDRSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxpQkFBQTtFQUNBLHNCQUFBO0FDREY7O0FESUE7RUFDRSxXQUFBO0VBQ0EsYUFBQTtFQUNBLG9CQUFBO0tBQUEsaUJBQUE7RUFDQSx1QkFBQTtBQ0RGOztBRElBO0VBQ0UsV0FBQTtBQ0RGIiwiZmlsZSI6InNyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvY2hpbGRyZW4vY2hpbGQtYmxvY2svY2hpbGQtYmxvY2suY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2hpbGQtdG9vbHRpcCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdG9wOiAtNXB4O1xuICBsZWZ0OiA1cHg7XG5cbiAgcGFkZGluZzogOHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOndoaXRlO1xuICB6LWluZGV4OiA5OTtcblxuICB3aWR0aDogNDAwcHg7XG59XG5cbi5jaGlsZC1waWMge1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIHdpZHRoOiAyNHB4O1xuICBtYXJnaW4tcmlnaHQ6IDRweDtcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbn1cblxuLmNoaWxkLXBpYy1sYXJnZSB7XG4gIHdpZHRoOiA4MHB4O1xuICBoZWlnaHQ6IDEwMHB4O1xuICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG59XG5cbi5pbmFjdGl2ZSB7XG4gIGNvbG9yOiBncmV5O1xufVxuIiwiLmNoaWxkLXRvb2x0aXAge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogLTVweDtcbiAgbGVmdDogNXB4O1xuICBwYWRkaW5nOiA4cHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICB6LWluZGV4OiA5OTtcbiAgd2lkdGg6IDQwMHB4O1xufVxuXG4uY2hpbGQtcGljIHtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICB3aWR0aDogMjRweDtcbiAgbWFyZ2luLXJpZ2h0OiA0cHg7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG59XG5cbi5jaGlsZC1waWMtbGFyZ2Uge1xuICB3aWR0aDogODBweDtcbiAgaGVpZ2h0OiAxMDBweDtcbiAgb2JqZWN0LWZpdDogY292ZXI7XG4gIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xufVxuXG4uaW5hY3RpdmUge1xuICBjb2xvcjogZ3JleTtcbn0iXX0= */"] });
    ChildBlockComponent = __decorate([
        Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_4__["UntilDestroy"])(),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _children_service__WEBPACK_IMPORTED_MODULE_2__["ChildrenService"]])
    ], ChildBlockComponent);
    return ChildBlockComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ChildBlockComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-child-block",
                templateUrl: "./child-block.component.html",
                styleUrls: ["./child-block.component.scss"],
            }]
    }], function () { return [{ type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] }, { type: _children_service__WEBPACK_IMPORTED_MODULE_2__["ChildrenService"] }]; }, { entity: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], entityId: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], linkDisabled: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], tooltipDisabled: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/children/child-details/basic-info/basic-info.component.ts":
/*!*********************************************************************************************!*\
  !*** ./src/app/child-dev-project/children/child-details/basic-info/basic-info.component.ts ***!
  \*********************************************************************************************/
/*! exports provided: BasicInfoComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BasicInfoComponent", function() { return BasicInfoComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _model_child__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../model/child */ "./src/app/child-dev-project/children/model/child.ts");
/* harmony import */ var _model_Gender__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../model/Gender */ "./src/app/child-dev-project/children/model/Gender.ts");
/* harmony import */ var _child_photo_service_child_photo_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../child-photo-service/child-photo.service */ "./src/app/child-dev-project/children/child-photo-service/child-photo.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/entity/entity-mapper.service */ "./src/app/core/entity/entity-mapper.service.ts");
/* harmony import */ var _core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/alerts/alert.service */ "./src/app/core/alerts/alert.service.ts");
/* harmony import */ var _core_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/session/session-service/session.service */ "./src/app/core/session/session-service/session.service.ts");
/* harmony import */ var _form_subcomponent__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../form-subcomponent */ "./src/app/child-dev-project/children/child-details/form-subcomponent.ts");
/* harmony import */ var _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/flex-layout/flex */ "./node_modules/@angular/flex-layout/esm5/flex.es5.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/datepicker */ "./node_modules/@angular/material/fesm5/datepicker.js");
/* harmony import */ var _angular_material_select__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/select */ "./node_modules/@angular/material/fesm5/select.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/tooltip */ "./node_modules/@angular/material/fesm5/tooltip.js");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/core */ "./node_modules/@angular/material/fesm5/core.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _core_entity_subrecord_keys_pipe_keys_pipe__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../core/entity-subrecord/keys-pipe/keys.pipe */ "./src/app/core/entity-subrecord/keys-pipe/keys.pipe.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




























function BasicInfoComponent_button_6_Template(rf, ctx) { if (rf & 1) {
    var _r17 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BasicInfoComponent_button_6_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r17); _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); var _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](5); return _r0.click(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-icon", 40);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function BasicInfoComponent_mat_form_field_7_Template(rf, ctx) { if (rf & 1) {
    var _r20 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-form-field", 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "input", 42, 43);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "span", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BasicInfoComponent_mat_form_field_7_Template_span_click_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r20); var _r18 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](2); return _r18.value = ""; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function BasicInfoComponent_mat_error_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-error");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Name is required ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function BasicInfoComponent_mat_error_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-error");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Center is required ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function BasicInfoComponent_mat_option_31_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var g_r21 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", g_r21.value);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](g_r21.key);
} }
function BasicInfoComponent_mat_option_47_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var s_r22 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", s_r22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](s_r22);
} }
function BasicInfoComponent_mat_option_52_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var s_r23 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", s_r23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](s_r23);
} }
function BasicInfoComponent_mat_option_57_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var s_r24 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", s_r24);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](s_r24);
} }
function BasicInfoComponent_mat_option_62_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var s_r25 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", s_r25);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](s_r25);
} }
function BasicInfoComponent_mat_option_67_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var s_r26 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", s_r26);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](s_r26);
} }
function BasicInfoComponent_button_78_Template(rf, ctx) { if (rf & 1) {
    var _r28 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 46);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BasicInfoComponent_button_78_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r28); var ctx_r27 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r27.save(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Save ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function BasicInfoComponent_button_79_Template(rf, ctx) { if (rf & 1) {
    var _r30 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 46);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BasicInfoComponent_button_79_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r30); var ctx_r29 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r29.switchEdit(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Cancel ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function BasicInfoComponent_button_80_Template(rf, ctx) { if (rf & 1) {
    var _r32 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 46);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BasicInfoComponent_button_80_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r32); var ctx_r31 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r31.switchEdit(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Edit ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
var _c0 = function () { return { standalone: true }; };
var BasicInfoComponent = /** @class */ (function (_super) {
    __extends(BasicInfoComponent, _super);
    function BasicInfoComponent(fb, entityMapperService, alertService, childPhotoService, router, sessionService) {
        var _this = _super.call(this, entityMapperService, fb, alertService) || this;
        _this.childPhotoService = childPhotoService;
        _this.router = router;
        _this.sessionService = sessionService;
        _this.documentStatus = [
            "OK (copy with us)",
            "OK (copy needed for us)",
            "needs correction",
            "applied",
            "doesn't have",
            "not eligible",
            "",
        ];
        _this.creatingNew = true;
        _this.gender = _model_Gender__WEBPACK_IMPORTED_MODULE_3__["Gender"];
        _this.genders = _model_Gender__WEBPACK_IMPORTED_MODULE_3__["Gender"];
        _this.isAdminUser = _this.sessionService.getCurrentUser().admin;
        return _this;
    }
    BasicInfoComponent.prototype.ngOnChanges = function (changes) {
        _super.prototype.ngOnChanges.call(this, changes);
        if (changes.hasOwnProperty("child")) {
            this.creatingNew = false;
        }
    };
    BasicInfoComponent.prototype.switchEdit = function () {
        _super.prototype.switchEdit.call(this);
        this.enablePhotoUpload = this.childPhotoService.canSetImage();
    };
    BasicInfoComponent.prototype.save = function () {
        var _this = this;
        return _super.prototype.save.call(this).then(function () {
            if (_this.creatingNew) {
                _this.router.navigate(["/child", _this.child.getId()]);
                _this.creatingNew = false;
            }
        });
    };
    /**
     * hands over the selected file to the cloudFileService together with the childId
     * @param event The event of the file upload dialog
     */
    BasicInfoComponent.prototype.uploadChildPhoto = function (event) {
        return __awaiter(this, void 0, void 0, function () {
            var _a, _b;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0: return [4 /*yield*/, this.childPhotoService.setImage(event.target.files[0], this.child.entityId)];
                    case 1:
                        _c.sent();
                        _b = (_a = this.child.photo).next;
                        return [4 /*yield*/, this.childPhotoService.getImage(this.child)];
                    case 2:
                        _b.apply(_a, [_c.sent()]);
                        return [2 /*return*/];
                }
            });
        });
    };
    BasicInfoComponent.prototype.getFormConfig = function () {
        return { controlsConfig: {
                name: [
                    { value: this.child.name, disabled: !this.editing },
                    _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required,
                ],
                // gender: [{value: this.child.gender}], // reactive forms seem broken for mat-select on enum, using ngModel instead
                projectNumber: [
                    { value: this.child.projectNumber, disabled: !this.editing },
                ],
                dateOfBirth: [{ value: this.child.dateOfBirth, disabled: !this.editing }],
                motherTongue: [
                    { value: this.child.motherTongue, disabled: !this.editing },
                ],
                religion: [{ value: this.child.religion, disabled: !this.editing }],
                center: [
                    { value: this.child.center, disabled: !this.editing },
                    _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required,
                ],
                status: [{ value: this.child.status, disabled: !this.editing }],
                admissionDate: [
                    { value: this.child.admissionDate, disabled: !this.editing },
                ],
                address: [{ value: this.child.address, disabled: !this.editing }],
                phone: [{ value: this.child.phone, disabled: !this.editing }],
                guardianName: [
                    { value: this.child.guardianName, disabled: !this.editing },
                ],
                preferredTimeForGuardianMeeting: [
                    {
                        value: this.child.preferredTimeForGuardianMeeting,
                        disabled: !this.editing,
                    },
                ],
                photoFile: [{ value: this.child.photoFile, disabled: !this.editing }],
                has_aadhar: [
                    { value: this.child.has_aadhar, disabled: !this.editing },
                ],
                has_kanyashree: [
                    { value: this.child.has_kanyashree, disabled: !this.editing },
                ],
                has_bankAccount: [
                    { value: this.child.has_bankAccount, disabled: !this.editing },
                ],
                has_rationCard: [
                    { value: this.child.has_rationCard, disabled: !this.editing },
                ],
                has_BplCard: [
                    { value: this.child.has_BplCard, disabled: !this.editing },
                ],
            } };
    };
    BasicInfoComponent.ɵfac = function BasicInfoComponent_Factory(t) { return new (t || BasicInfoComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_6__["EntityMapperService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_7__["AlertService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_child_photo_service_child_photo_service__WEBPACK_IMPORTED_MODULE_4__["ChildPhotoService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_8__["SessionService"])); };
    BasicInfoComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BasicInfoComponent, selectors: [["app-basic-info"]], inputs: { child: "child" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 81, vars: 34, consts: [[3, "formGroup"], ["fxLayout", "row", "fxLayout.xs", "column wrap", "fxLayout.md", "column wrap", "fxLayout.sm", "column wrap"], ["fxFlex", "160px", 1, "child-pic-container"], ["alt", "child's photo", 1, "child-pic", 3, "src"], ["type", "file", "accept", ".jpg, .jpeg, .png", 2, "display", "none", 3, "change"], ["fileUpload", ""], ["class", "child-pic-upload", 3, "click", 4, "ngIf"], ["class", "child-pic-photofile", 4, "ngIf"], ["fxFlex", ""], [2, "width", "300px"], ["matInput", "", "formControlName", "name", "placeholder", "Name", "title", "name", "type", "text"], [4, "ngIf"], [2, "width", "100px"], ["matInput", "", "formControlName", "projectNumber", "placeholder", "Project Number", "type", "text"], ["matInput", "", "formControlName", "center", "placeholder", "Center", "type", "text"], ["matInput", "", "formControlName", "status", "placeholder", "Project Status", "type", "text"], [2, "width", "50px"], ["matInput", "", "placeholder", "Age", "type", "number", 3, "value", "disabled"], [2, "width", "120px"], ["matInput", "", "formControlName", "dateOfBirth", "placeholder", "Date of Birth", 3, "matDatepicker", "disabled"], ["matSuffix", "", 3, "for"], ["dateOfBirthDatepicker", ""], [3, "disabled", "ngModel", "ngModelOptions", "ngModelChange"], [3, "value", 4, "ngFor", "ngForOf"], ["matInput", "", "formControlName", "motherTongue", "placeholder", "Mother Tongue", "type", "text"], ["matInput", "", "formControlName", "religion", "placeholder", "Religion", "title", "Religion", "type", "text"], [2, "width", "180px"], ["matInput", "", "formControlName", "admissionDate", "placeholder", "Admission Date", 3, "matDatepicker", "disabled"], ["admissionDatepicker", ""], ["formControlName", "has_aadhar", 3, "disabled"], ["formControlName", "has_kanyashree", 3, "disabled"], ["formControlName", "has_bankAccount", 3, "disabled"], ["formControlName", "has_rationCard", 3, "disabled"], ["formControlName", "has_BplCard", 3, "disabled"], ["matInput", "", "type", "text", "formControlName", "address", "placeholder", "Address"], ["matInput", "", "type", "text", "formControlName", "phone", "placeholder", "Phone No."], ["matInput", "", "type", "text", "formControlName", "guardianName", "placeholder", "Guardians"], ["matInput", "", "type", "text", "formControlName", "preferredTimeForGuardianMeeting", "placeholder", "Preferred time for guardians meeting"], ["mat-stroked-button", "", "class", "edit-button", 3, "click", 4, "ngIf"], [1, "child-pic-upload", 3, "click"], ["fontIcon", "fa-upload", 1, "upload-icon"], [1, "child-pic-photofile"], ["matTooltip", "filename for child photo uploaded by server administrator", "matInput", "", "formControlName", "photoFile", "placeholder", "Photo filename", "title", "photoFile", "type", "text"], ["photoFileInput", ""], ["matSuffix", "", 1, "fa", "fa-times", 3, "click"], [3, "value"], ["mat-stroked-button", "", 1, "edit-button", 3, "click"]], template: function BasicInfoComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "img", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "input", 4, 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function BasicInfoComponent_Template_input_change_4_listener($event) { return ctx.uploadChildPhoto($event); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, BasicInfoComponent_button_6_Template, 2, 0, "button", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, BasicInfoComponent_mat_form_field_7_Template, 4, 0, "mat-form-field", 7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "mat-form-field", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](10, "input", 10);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, BasicInfoComponent_mat_error_11_Template, 2, 0, "mat-error", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "mat-form-field", 12);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](13, "input", 13);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](15, "input", 14);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](16, BasicInfoComponent_mat_error_16_Template, 2, 0, "mat-error", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](18, "input", 15);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](19, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](20, "mat-form-field", 16);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](21, "input", 17);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](22, "mat-form-field", 18);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](23, "input", 19);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](24, "mat-datepicker-toggle", 20);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](25, "mat-datepicker", null, 21);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](27, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](28, "mat-label");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](29, " Gender ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](30, "mat-select", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function BasicInfoComponent_Template_mat_select_ngModelChange_30_listener($event) { return ctx.child.gender = $event; });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](31, BasicInfoComponent_mat_option_31_Template, 2, 2, "mat-option", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](32, "keys");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](33, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](34, "input", 24);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](35, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](36, "input", 25);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](37, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](38, "mat-form-field", 26);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](39, "input", 27);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](40, "mat-datepicker-toggle", 20);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](41, "mat-datepicker", null, 28);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](43, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](44, "mat-label");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](45, " Aadhar Status ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](46, "mat-select", 29);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](47, BasicInfoComponent_mat_option_47_Template, 2, 2, "mat-option", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](48, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](49, "mat-label");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](50, " Kanyashree Status ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](51, "mat-select", 30);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](52, BasicInfoComponent_mat_option_52_Template, 2, 2, "mat-option", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](53, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](54, "mat-label");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](55, " Bank Account Status ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](56, "mat-select", 31);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](57, BasicInfoComponent_mat_option_57_Template, 2, 2, "mat-option", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](58, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](59, "mat-label");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](60, " Ration Card Status ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](61, "mat-select", 32);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](62, BasicInfoComponent_mat_option_62_Template, 2, 2, "mat-option", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](63, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](64, "mat-label");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](65, " BPL Card Status ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](66, "mat-select", 33);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](67, BasicInfoComponent_mat_option_67_Template, 2, 2, "mat-option", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](68, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](69, "mat-form-field", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](70, "input", 34);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](71, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](72, "input", 35);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](73, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](74, "input", 36);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](75, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](76, "input", 37);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](77, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](78, BasicInfoComponent_button_78_Template, 2, 0, "button", 38);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](79, BasicInfoComponent_button_79_Template, 2, 0, "button", 38);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](80, BasicInfoComponent_button_80_Template, 2, 0, "button", 38);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            var _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](26);
            var _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](42);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("src", ctx.child == null ? null : ctx.child.photo == null ? null : ctx.child.photo.value, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.enablePhotoUpload && (ctx.creatingNew || ctx.editing));
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", (ctx.creatingNew || ctx.editing) && ctx.isAdminUser);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.form.get("name").invalid && ctx.validateForm);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.form.get("center").invalid && ctx.validateForm);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", ctx.child.age)("disabled", true);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matDatepicker", _r5)("disabled", !ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("for", _r5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", !ctx.editing)("ngModel", ctx.child.gender)("ngModelOptions", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](33, _c0));
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](32, 31, ctx.genders));
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matDatepicker", _r7)("disabled", !ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("for", _r7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", !ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.documentStatus);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", !ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.documentStatus);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", !ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.documentStatus);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", !ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.documentStatus);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", !ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.documentStatus);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.creatingNew || ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.creatingNew || ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.editing);
        } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroupDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_10__["DefaultLayoutDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_10__["DefaultFlexDirective"], _angular_common__WEBPACK_IMPORTED_MODULE_11__["NgIf"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_12__["MatFormField"], _angular_material_input__WEBPACK_IMPORTED_MODULE_13__["MatInput"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControlName"], _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_14__["MatDatepickerInput"], _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_14__["MatDatepickerToggle"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_12__["MatSuffix"], _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_14__["MatDatepicker"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_12__["MatLabel"], _angular_material_select__WEBPACK_IMPORTED_MODULE_15__["MatSelect"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgModel"], _angular_common__WEBPACK_IMPORTED_MODULE_11__["NgForOf"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_16__["MatIcon"], _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_17__["MatTooltip"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_12__["MatError"], _angular_material_core__WEBPACK_IMPORTED_MODULE_18__["MatOption"], _angular_material_button__WEBPACK_IMPORTED_MODULE_19__["MatButton"]], pipes: [_core_entity_subrecord_keys_pipe_keys_pipe__WEBPACK_IMPORTED_MODULE_20__["KeysPipe"]], styles: [".edit-button[_ngcontent-%COMP%] {\n  margin-left: 10px;\n}\n\n.mat-form-field[_ngcontent-%COMP%] {\n  margin-right: 10px;\n}\n\n.child-pic-container[_ngcontent-%COMP%] {\n  position: relative;\n}\n\n.child-pic[_ngcontent-%COMP%] {\n  width: 120px;\n  height: 150px;\n  -o-object-fit: contain;\n     object-fit: contain;\n  border: 1px solid black;\n}\n\n.child-pic-upload[_ngcontent-%COMP%] {\n  position: absolute;\n  left: 0;\n  width: 120px;\n  height: 150px;\n  border: none;\n  background: none;\n  cursor: pointer;\n}\n\n.upload-icon[_ngcontent-%COMP%] {\n  font-size: 2em;\n}\n\n.child-pic-photofile[_ngcontent-%COMP%] {\n  position: absolute;\n  left: 1px;\n  top: 115px;\n  width: 120px;\n  background: white;\n}\n\n.locked-icon[_ngcontent-%COMP%] {\n  line-height: 20px;\n  padding-left: 10px;\n  color: black;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvY2hpbGRyZW4vY2hpbGQtZGV0YWlscy9iYXNpYy1pbmZvL2Jhc2ljLWluZm8uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NoaWxkLWRldi1wcm9qZWN0L2NoaWxkcmVuL2NoaWxkLWRldGFpbHMvYmFzaWMtaW5mby9iYXNpYy1pbmZvLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtBQ0NGOztBREVBO0VBQ0UsWUFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtLQUFBLG1CQUFBO0VBQ0EsdUJBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0VBQ0EsT0FBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBRUEsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtBQ0FGOztBREdBO0VBQ0UsY0FBQTtBQ0FGOztBREdBO0VBQ0Usa0JBQUE7RUFDQSxTQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtBQ0FGOztBREdBO0VBQ0UsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7QUNBRiIsImZpbGUiOiJzcmMvYXBwL2NoaWxkLWRldi1wcm9qZWN0L2NoaWxkcmVuL2NoaWxkLWRldGFpbHMvYmFzaWMtaW5mby9iYXNpYy1pbmZvLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmVkaXQtYnV0dG9uIHtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG59XG5cbi5tYXQtZm9ybS1maWVsZCB7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbn1cblxuLmNoaWxkLXBpYy1jb250YWluZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbi5jaGlsZC1waWMge1xuICB3aWR0aDogMTIwcHg7XG4gIGhlaWdodDogMTUwcHg7XG4gIG9iamVjdC1maXQ6IGNvbnRhaW47XG4gIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xufVxuXG4uY2hpbGQtcGljLXVwbG9hZHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTIwcHg7XG4gIGhlaWdodDogMTUwcHg7XG5cbiAgYm9yZGVyOiBub25lO1xuICBiYWNrZ3JvdW5kOiBub25lO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi51cGxvYWQtaWNvbiB7XG4gIGZvbnQtc2l6ZTogMi4wZW07XG59XG5cbi5jaGlsZC1waWMtcGhvdG9maWxlIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAxcHg7XG4gIHRvcDogMTE1cHg7XG4gIHdpZHRoOiAxMjBweDtcbiAgYmFja2dyb3VuZDogd2hpdGU7XG59XG5cbi5sb2NrZWQtaWNvbiB7XG4gIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICBwYWRkaW5nLWxlZnQ6IDEwcHg7XG4gIGNvbG9yOiBibGFjaztcbn1cbiIsIi5lZGl0LWJ1dHRvbiB7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xufVxuXG4ubWF0LWZvcm0tZmllbGQge1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG59XG5cbi5jaGlsZC1waWMtY29udGFpbmVyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4uY2hpbGQtcGljIHtcbiAgd2lkdGg6IDEyMHB4O1xuICBoZWlnaHQ6IDE1MHB4O1xuICBvYmplY3QtZml0OiBjb250YWluO1xuICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcbn1cblxuLmNoaWxkLXBpYy11cGxvYWQge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMjBweDtcbiAgaGVpZ2h0OiAxNTBweDtcbiAgYm9yZGVyOiBub25lO1xuICBiYWNrZ3JvdW5kOiBub25lO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi51cGxvYWQtaWNvbiB7XG4gIGZvbnQtc2l6ZTogMmVtO1xufVxuXG4uY2hpbGQtcGljLXBob3RvZmlsZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogMXB4O1xuICB0b3A6IDExNXB4O1xuICB3aWR0aDogMTIwcHg7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xufVxuXG4ubG9ja2VkLWljb24ge1xuICBsaW5lLWhlaWdodDogMjBweDtcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xuICBjb2xvcjogYmxhY2s7XG59Il19 */"] });
    return BasicInfoComponent;
}(_form_subcomponent__WEBPACK_IMPORTED_MODULE_9__["FormSubcomponent"]));

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BasicInfoComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-basic-info",
                templateUrl: "./basic-info.component.html",
                styleUrls: ["./basic-info.component.scss"],
            }]
    }], function () { return [{ type: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"] }, { type: _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_6__["EntityMapperService"] }, { type: _core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_7__["AlertService"] }, { type: _child_photo_service_child_photo_service__WEBPACK_IMPORTED_MODULE_4__["ChildPhotoService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"] }, { type: _core_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_8__["SessionService"] }]; }, { child: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/children/child-details/child-details.component.ts":
/*!*************************************************************************************!*\
  !*** ./src/app/child-dev-project/children/child-details/child-details.component.ts ***!
  \*************************************************************************************/
/*! exports provided: ChildDetailsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChildDetailsComponent", function() { return ChildDetailsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _model_child__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/child */ "./src/app/child-dev-project/children/model/child.ts");
/* harmony import */ var _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/entity/entity-mapper.service */ "./src/app/core/entity/entity-mapper.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/snack-bar */ "./node_modules/@angular/material/fesm5/snack-bar.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _core_confirmation_dialog_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/confirmation-dialog/confirmation-dialog.service */ "./src/app/core/confirmation-dialog/confirmation-dialog.service.ts");
/* harmony import */ var uniqid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! uniqid */ "./node_modules/uniqid/index.js");
/* harmony import */ var uniqid__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(uniqid__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _children_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../children.service */ "./src/app/child-dev-project/children/children.service.ts");
/* harmony import */ var _ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ngneat/until-destroy */ "./node_modules/@ngneat/until-destroy/fesm5/ngneat-until-destroy.js");
/* harmony import */ var _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/flex-layout/flex */ "./node_modules/@angular/flex-layout/esm5/flex.es5.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/tooltip */ "./node_modules/@angular/material/fesm5/tooltip.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_material_expansion__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/expansion */ "./node_modules/@angular/material/fesm5/expansion.js");
/* harmony import */ var _basic_info_basic_info_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./basic-info/basic-info.component */ "./src/app/child-dev-project/children/child-details/basic-info/basic-info.component.ts");
/* harmony import */ var _previous_schools_previous_schools_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../previous-schools/previous-schools.component */ "./src/app/child-dev-project/previous-schools/previous-schools.component.ts");
/* harmony import */ var _aser_aser_component_aser_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../aser/aser-component/aser.component */ "./src/app/child-dev-project/aser/aser-component/aser.component.ts");
/* harmony import */ var _grouped_child_attendance_grouped_child_attendance_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./grouped-child-attendance/grouped-child-attendance.component */ "./src/app/child-dev-project/children/child-details/grouped-child-attendance/grouped-child-attendance.component.ts");
/* harmony import */ var _notes_notes_of_child_notes_of_child_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../notes/notes-of-child/notes-of-child.component */ "./src/app/child-dev-project/notes/notes-of-child/notes-of-child.component.ts");
/* harmony import */ var _health_form_health_form_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./health-form/health-form.component */ "./src/app/child-dev-project/children/child-details/health-form/health-form.component.ts");
/* harmony import */ var _health_checkup_health_checkup_component_health_checkup_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../health-checkup/health-checkup-component/health-checkup.component */ "./src/app/child-dev-project/health-checkup/health-checkup-component/health-checkup.component.ts");
/* harmony import */ var _educational_material_educational_material_component_educational_material_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../educational-material/educational-material-component/educational-material.component */ "./src/app/child-dev-project/educational-material/educational-material-component/educational-material.component.ts");
/* harmony import */ var _dropout_form_dropout_form_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./dropout-form/dropout-form.component */ "./src/app/child-dev-project/children/child-details/dropout-form/dropout-form.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */































function ChildDetailsComponent_span_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"]("", ctx_r0.child.name, " [", ctx_r0.child.projectNumber, "]");
} }
function ChildDetailsComponent_span_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Adding new Child");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildDetailsComponent_mat_icon_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "mat-icon", 16);
} if (rf & 2) {
    var ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matTooltipDisabled", !ctx_r2.creatingNew);
} }
function ChildDetailsComponent_mat_icon_27_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "mat-icon", 16);
} if (rf & 2) {
    var ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matTooltipDisabled", !ctx_r3.creatingNew);
} }
function ChildDetailsComponent_mat_icon_32_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "mat-icon", 16);
} if (rf & 2) {
    var ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matTooltipDisabled", !ctx_r4.creatingNew);
} }
function ChildDetailsComponent_mat_icon_37_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "mat-icon", 16);
} if (rf & 2) {
    var ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matTooltipDisabled", !ctx_r5.creatingNew);
} }
function ChildDetailsComponent_mat_icon_46_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "mat-icon", 16);
} if (rf & 2) {
    var ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matTooltipDisabled", !ctx_r6.creatingNew);
} }
function ChildDetailsComponent_mat_icon_51_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "mat-icon", 16);
} if (rf & 2) {
    var ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matTooltipDisabled", !ctx_r7.creatingNew);
} }
var ChildDetailsComponent = /** @class */ (function () {
    function ChildDetailsComponent(entityMapperService, childrenService, route, router, location, snackBar, confirmationDialog) {
        var _this = this;
        this.entityMapperService = entityMapperService;
        this.childrenService = childrenService;
        this.route = route;
        this.router = router;
        this.location = location;
        this.snackBar = snackBar;
        this.confirmationDialog = confirmationDialog;
        this.child = new _model_child__WEBPACK_IMPORTED_MODULE_1__["Child"]("");
        this.creatingNew = false;
        this.route.paramMap.subscribe(function (params) { return _this.loadChild(params.get("id")); });
    }
    ChildDetailsComponent.prototype.ngOnInit = function () { };
    ChildDetailsComponent.prototype.loadChild = function (id) {
        var _this = this;
        if (id === "new") {
            this.child = new _model_child__WEBPACK_IMPORTED_MODULE_1__["Child"](uniqid__WEBPACK_IMPORTED_MODULE_7__());
            this.creatingNew = true;
        }
        else {
            this.childrenService
                .getChild(id)
                .pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_9__["untilDestroyed"])(this))
                .subscribe(function (child) {
                _this.child = child;
            });
        }
    };
    ChildDetailsComponent.prototype.removeChild = function () {
        var _this = this;
        var dialogRef = this.confirmationDialog.openDialog("Delete?", "Are you sure you want to delete this Child?");
        dialogRef.afterClosed().subscribe(function (confirmed) {
            if (confirmed) {
                _this.entityMapperService
                    .remove(_this.child)
                    .then(function () { return _this.router.navigate(["/child"]); });
                var snackBarRef = _this.snackBar.open('Deleted Child "' + _this.child.name + '"', "Undo", { duration: 8000 });
                snackBarRef.onAction().subscribe(function () {
                    _this.entityMapperService.save(_this.child, true);
                    _this.router.navigate(["/child", _this.child.getId()]);
                });
            }
        });
    };
    ChildDetailsComponent.prototype.navigateBack = function () {
        this.location.back();
    };
    ChildDetailsComponent.ɵfac = function ChildDetailsComponent_Factory(t) { return new (t || ChildDetailsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__["EntityMapperService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_children_service__WEBPACK_IMPORTED_MODULE_8__["ChildrenService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_common__WEBPACK_IMPORTED_MODULE_5__["Location"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_4__["MatSnackBar"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_confirmation_dialog_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_6__["ConfirmationDialogService"])); };
    ChildDetailsComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ChildDetailsComponent, selectors: [["app-child-details"]], decls: 56, vars: 27, consts: [["fxLayout", "row", "fxLayoutAlign", "space-between"], [1, "page-header", "section-child"], ["mat-icon-button", "", "matTooltip", "Back", 2, "vertical-align", "middle", 3, "click"], ["fontIcon", "fa-backward"], [1, "fa", "fa-child", "fa-fw"], [4, "ngIf"], ["multi", "true"], ["hideToggle", "true", "title", "Basic Information", 3, "expanded"], [1, "section-header"], [3, "child"], ["expanded", "false", "title", "Education", 3, "disabled"], ["fontIcon", "fa-exclamation-triangle", "class", "locked-icon", "matTooltip", "Please save before entering further data", 3, "matTooltipDisabled", 4, "ngIf"], ["expanded", "false", "title", "Attendance", 3, "disabled"], ["expanded", "false", 3, "disabled"], [3, "expanded", "disabled"], ["mat-raised-button", "", "color", "warn", 1, "delete-button", 3, "click"], ["fontIcon", "fa-exclamation-triangle", "matTooltip", "Please save before entering further data", 1, "locked-icon", 3, "matTooltipDisabled"]], template: function ChildDetailsComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h1", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "button", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ChildDetailsComponent_Template_button_click_3_listener() { return ctx.navigateBack(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "mat-icon", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](5, "i", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, ChildDetailsComponent_span_6_Template, 2, 2, "span", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, ChildDetailsComponent_span_7_Template, 2, 0, "span", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "mat-accordion", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "mat-expansion-panel", 7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "mat-expansion-panel-header", 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "mat-panel-title");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](12, " Basic Information ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](13, "app-basic-info", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "mat-expansion-panel", 10);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "mat-expansion-panel-header", 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](16, ChildDetailsComponent_mat_icon_16_Template, 1, 1, "mat-icon", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](17, " Education ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](18, "h3");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](19, "School History");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](20, "app-previous-schools", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](21, "br");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](22, "h3");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](23, "ASER Results");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](24, "app-aser", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](25, "mat-expansion-panel", 12);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](26, "mat-expansion-panel-header", 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](27, ChildDetailsComponent_mat_icon_27_Template, 1, 1, "mat-icon", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](28, " Attendance ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](29, "app-grouped-child-attendance", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](30, "mat-expansion-panel", 13);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](31, "mat-expansion-panel-header", 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](32, ChildDetailsComponent_mat_icon_32_Template, 1, 1, "mat-icon", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](33, " Notes & Reports ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](34, "app-notes-of-child", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](35, "mat-expansion-panel", 14);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](36, "mat-expansion-panel-header", 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](37, ChildDetailsComponent_mat_icon_37_Template, 1, 1, "mat-icon", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](38, " Health ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](39, "app-health-form", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](40, "br");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](41, "h3");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](42, "Height & Weight Tracking");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](43, "app-health-checkup", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](44, "mat-expansion-panel", 14);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](45, "mat-expansion-panel-header", 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](46, ChildDetailsComponent_mat_icon_46_Template, 1, 1, "mat-icon", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](47, " Educational Materials ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](48, "app-educational-material", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](49, "mat-expansion-panel", 14);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](50, "mat-expansion-panel-header", 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](51, ChildDetailsComponent_mat_icon_51_Template, 1, 1, "mat-icon", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](52, " Dropout ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](53, "app-dropout-form", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](54, "button", 15);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ChildDetailsComponent_Template_button_click_54_listener() { return ctx.removeChild(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](55, " Delete\n");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.creatingNew);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.creatingNew);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("expanded", ctx.child.isActive());
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("child", ctx.child);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", ctx.creatingNew);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.creatingNew);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("child", ctx.child);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("child", ctx.child);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", ctx.creatingNew);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.creatingNew);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("child", ctx.child);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", ctx.creatingNew);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.creatingNew);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("child", ctx.child);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("expanded", false)("disabled", ctx.creatingNew);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.creatingNew);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("child", ctx.child);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("child", ctx.child);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("expanded", false)("disabled", ctx.creatingNew);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.creatingNew);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("child", ctx.child);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("expanded", !ctx.child.isActive())("disabled", ctx.creatingNew);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.creatingNew);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("child", ctx.child);
        } }, directives: [_angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_10__["DefaultLayoutDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_10__["DefaultLayoutAlignDirective"], _angular_material_button__WEBPACK_IMPORTED_MODULE_11__["MatButton"], _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_12__["MatTooltip"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_13__["MatIcon"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"], _angular_material_expansion__WEBPACK_IMPORTED_MODULE_14__["MatAccordion"], _angular_material_expansion__WEBPACK_IMPORTED_MODULE_14__["MatExpansionPanel"], _angular_material_expansion__WEBPACK_IMPORTED_MODULE_14__["MatExpansionPanelHeader"], _angular_material_expansion__WEBPACK_IMPORTED_MODULE_14__["MatExpansionPanelTitle"], _basic_info_basic_info_component__WEBPACK_IMPORTED_MODULE_15__["BasicInfoComponent"], _previous_schools_previous_schools_component__WEBPACK_IMPORTED_MODULE_16__["PreviousSchoolsComponent"], _aser_aser_component_aser_component__WEBPACK_IMPORTED_MODULE_17__["AserComponent"], _grouped_child_attendance_grouped_child_attendance_component__WEBPACK_IMPORTED_MODULE_18__["GroupedChildAttendanceComponent"], _notes_notes_of_child_notes_of_child_component__WEBPACK_IMPORTED_MODULE_19__["NotesOfChildComponent"], _health_form_health_form_component__WEBPACK_IMPORTED_MODULE_20__["HealthFormComponent"], _health_checkup_health_checkup_component_health_checkup_component__WEBPACK_IMPORTED_MODULE_21__["HealthCheckupComponent"], _educational_material_educational_material_component_educational_material_component__WEBPACK_IMPORTED_MODULE_22__["EducationalMaterialComponent"], _dropout_form_dropout_form_component__WEBPACK_IMPORTED_MODULE_23__["DropoutFormComponent"]], styles: [".section-header[_ngcontent-%COMP%] {\n  font-weight: bold;\n}\n.mat-expansion-panel[_ngcontent-%COMP%] {\n  padding: 0;\n  margin-top: 0;\n}\n.delete-button[_ngcontent-%COMP%] {\n  margin-top: 5px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvY2hpbGRyZW4vY2hpbGQtZGV0YWlscy9jaGlsZC1kZXRhaWxzLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jaGlsZC1kZXYtcHJvamVjdC9jaGlsZHJlbi9jaGlsZC1kZXRhaWxzL2NoaWxkLWRldGFpbHMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7OztFQUFBO0FBa0JBO0VBQ0UsaUJBQUE7QUNERjtBREdBO0VBQ0UsVUFBQTtFQUNBLGFBQUE7QUNBRjtBREdBO0VBQ0UsZUFBQTtBQ0FGIiwiZmlsZSI6InNyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvY2hpbGRyZW4vY2hpbGQtZGV0YWlscy9jaGlsZC1kZXRhaWxzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiBuZGItY29yZS5cbiAqXG4gKiAgICAgbmRiLWNvcmUgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiAgICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqICAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqICAgICBuZGItY29yZSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiAgICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiAgICAgYWxvbmcgd2l0aCBuZGItY29yZS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5cbi5zZWN0aW9uLWhlYWRlciB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuLm1hdC1leHBhbnNpb24tcGFuZWwge1xuICBwYWRkaW5nOiAwO1xuICBtYXJnaW4tdG9wOiAwO1xufVxuXG4uZGVsZXRlLWJ1dHRvbiB7XG4gIG1hcmdpbi10b3A6IDVweDtcbn1cblxuXG5cbiIsIi8qXG4gKiAgICAgVGhpcyBmaWxlIGlzIHBhcnQgb2YgbmRiLWNvcmUuXG4gKlxuICogICAgIG5kYi1jb3JlIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqICAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAgICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiAgICAgbmRiLWNvcmUgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqICAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqICAgICBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqICAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogICAgIGFsb25nIHdpdGggbmRiLWNvcmUuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cbi5zZWN0aW9uLWhlYWRlciB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4ubWF0LWV4cGFuc2lvbi1wYW5lbCB7XG4gIHBhZGRpbmc6IDA7XG4gIG1hcmdpbi10b3A6IDA7XG59XG5cbi5kZWxldGUtYnV0dG9uIHtcbiAgbWFyZ2luLXRvcDogNXB4O1xufSJdfQ== */"] });
    ChildDetailsComponent = __decorate([
        Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_9__["UntilDestroy"])(),
        __metadata("design:paramtypes", [_core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__["EntityMapperService"],
            _children_service__WEBPACK_IMPORTED_MODULE_8__["ChildrenService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _angular_common__WEBPACK_IMPORTED_MODULE_5__["Location"],
            _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_4__["MatSnackBar"],
            _core_confirmation_dialog_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_6__["ConfirmationDialogService"]])
    ], ChildDetailsComponent);
    return ChildDetailsComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ChildDetailsComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-child-details",
                templateUrl: "./child-details.component.html",
                styleUrls: ["./child-details.component.scss"],
            }]
    }], function () { return [{ type: _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__["EntityMapperService"] }, { type: _children_service__WEBPACK_IMPORTED_MODULE_8__["ChildrenService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"] }, { type: _angular_common__WEBPACK_IMPORTED_MODULE_5__["Location"] }, { type: _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_4__["MatSnackBar"] }, { type: _core_confirmation_dialog_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_6__["ConfirmationDialogService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/children/child-details/dropout-form/dropout-form.component.ts":
/*!*************************************************************************************************!*\
  !*** ./src/app/child-dev-project/children/child-details/dropout-form/dropout-form.component.ts ***!
  \*************************************************************************************************/
/*! exports provided: DropoutFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DropoutFormComponent", function() { return DropoutFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _model_child__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../model/child */ "./src/app/child-dev-project/children/model/child.ts");
/* harmony import */ var _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/entity/entity-mapper.service */ "./src/app/core/entity/entity-mapper.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/alerts/alert.service */ "./src/app/core/alerts/alert.service.ts");
/* harmony import */ var _form_subcomponent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../form-subcomponent */ "./src/app/child-dev-project/children/child-details/form-subcomponent.ts");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/datepicker */ "./node_modules/@angular/material/fesm5/datepicker.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();















function DropoutFormComponent_button_13_Template(rf, ctx) { if (rf & 1) {
    var _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function DropoutFormComponent_button_13_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); var ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r4.save(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Save ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function DropoutFormComponent_button_14_Template(rf, ctx) { if (rf & 1) {
    var _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function DropoutFormComponent_button_14_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r7); var ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r6.switchEdit(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Cancel ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function DropoutFormComponent_button_15_Template(rf, ctx) { if (rf & 1) {
    var _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function DropoutFormComponent_button_15_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r9); var ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r8.switchEdit(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Edit ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
var DropoutFormComponent = /** @class */ (function (_super) {
    __extends(DropoutFormComponent, _super);
    function DropoutFormComponent(entityMapperService, fb, alertService) {
        return _super.call(this, entityMapperService, fb, alertService) || this;
    }
    DropoutFormComponent.prototype.getFormConfig = function () {
        return {
            controlsConfig: {
                dropoutDate: [
                    { value: this.child.dropoutDate, disabled: !this.editing },
                ],
                dropoutType: [
                    { value: this.child.dropoutType, disabled: !this.editing },
                ],
                dropoutRemarks: [
                    { value: this.child.dropoutRemarks, disabled: !this.editing },
                ],
            },
        };
    };
    DropoutFormComponent.ɵfac = function DropoutFormComponent_Factory(t) { return new (t || DropoutFormComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__["EntityMapperService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"])); };
    DropoutFormComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: DropoutFormComponent, selectors: [["app-dropout-form"]], inputs: { child: "child" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 16, vars: 7, consts: [[3, "formGroup"], ["matInput", "", "formControlName", "dropoutDate", "placeholder", "Dropout Date", 3, "matDatepicker", "disabled"], ["matSuffix", "", 3, "for"], ["dropoutDatepicker", ""], ["matInput", "", "formControlName", "dropoutType", "placeholder", "Dropout Type", "type", "text"], ["matInput", "", "formControlName", "dropoutRemarks", "placeholder", "Dropout Remarks", "type", "text"], ["mat-stroked-button", "", "class", "edit-button", 3, "click", 4, "ngIf"], ["mat-stroked-button", "", 1, "edit-button", 3, "click"]], template: function DropoutFormComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "input", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "mat-datepicker-toggle", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](5, "mat-datepicker", null, 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](8, "input", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "textarea", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11, "            ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](13, DropoutFormComponent_button_13_Template, 2, 0, "button", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](14, DropoutFormComponent_button_14_Template, 2, 0, "button", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](15, DropoutFormComponent_button_15_Template, 2, 0, "button", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            var _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matDatepicker", _r0)("disabled", !ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("for", _r0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.editing);
        } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormGroupDirective"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_6__["MatFormField"], _angular_material_input__WEBPACK_IMPORTED_MODULE_7__["MatInput"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["DefaultValueAccessor"], _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_8__["MatDatepickerInput"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControlName"], _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_8__["MatDatepickerToggle"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_6__["MatSuffix"], _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_8__["MatDatepicker"], _angular_common__WEBPACK_IMPORTED_MODULE_9__["NgIf"], _angular_material_button__WEBPACK_IMPORTED_MODULE_10__["MatButton"]], styles: [".mat-form-field[_ngcontent-%COMP%] {\n  margin-right: 10px;\n}\n\n.edit-button[_ngcontent-%COMP%] {\n  margin-left: 10px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvY2hpbGRyZW4vY2hpbGQtZGV0YWlscy9kcm9wb3V0LWZvcm0vZHJvcG91dC1mb3JtLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jaGlsZC1kZXYtcHJvamVjdC9jaGlsZHJlbi9jaGlsZC1kZXRhaWxzL2Ryb3BvdXQtZm9ybS9kcm9wb3V0LWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL2NoaWxkLWRldi1wcm9qZWN0L2NoaWxkcmVuL2NoaWxkLWRldGFpbHMvZHJvcG91dC1mb3JtL2Ryb3BvdXQtZm9ybS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYXQtZm9ybS1maWVsZCB7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbn1cblxuLmVkaXQtYnV0dG9uIHtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG59XG4iLCIubWF0LWZvcm0tZmllbGQge1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG59XG5cbi5lZGl0LWJ1dHRvbiB7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xufSJdfQ== */"] });
    return DropoutFormComponent;
}(_form_subcomponent__WEBPACK_IMPORTED_MODULE_5__["FormSubcomponent"]));

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DropoutFormComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-dropout-form",
                templateUrl: "./dropout-form.component.html",
                styleUrls: ["./dropout-form.component.scss"],
            }]
    }], function () { return [{ type: _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__["EntityMapperService"] }, { type: _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"] }, { type: _core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"] }]; }, { child: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/children/child-details/form-subcomponent.ts":
/*!*******************************************************************************!*\
  !*** ./src/app/child-dev-project/children/child-details/form-subcomponent.ts ***!
  \*******************************************************************************/
/*! exports provided: FormSubcomponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormSubcomponent", function() { return FormSubcomponent; });
/* harmony import */ var _model_child__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/child */ "./src/app/child-dev-project/children/model/child.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/entity/entity-mapper.service */ "./src/app/core/entity/entity-mapper.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/alerts/alert.service */ "./src/app/core/alerts/alert.service.ts");





var FormSubcomponent = /** @class */ (function () {
    function FormSubcomponent(entityMapperService, fb, alertService) {
        this.entityMapperService = entityMapperService;
        this.fb = fb;
        this.alertService = alertService;
        this.child = new _model_child__WEBPACK_IMPORTED_MODULE_0__["Child"]("");
        this.editing = false;
        this.validateForm = false;
        this.initForm(this.getFormConfig());
    }
    FormSubcomponent.prototype.ngOnChanges = function (changes) {
        if (changes.hasOwnProperty("child")) {
            this.initForm(this.getFormConfig());
        }
    };
    FormSubcomponent.prototype.switchEdit = function () {
        this.editing = !this.editing;
        this.initForm(this.getFormConfig());
    };
    FormSubcomponent.prototype.save = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            // errors regarding invalid fields wont be displayed unless marked as touched
            _this.form.markAllAsTouched();
            _this.validateForm = true;
            if (_this.form.valid) {
                _this.assignFormValuesToChild(_this.child, _this.form);
                _this.entityMapperService
                    .save(_this.child)
                    .then(function () {
                    _this.alertService.addInfo("Saving Successful");
                    _this.switchEdit();
                    resolve();
                })
                    .catch(function (err) {
                    _this.alertService.addDanger('Could not save Child "' + _this.child.name + '": ' + err);
                    reject();
                });
            }
            else {
                var invalidFields = _this.getInvalidFields();
                _this.alertService.addDanger("Form invalid, required fields (" + invalidFields + ") missing");
                reject();
            }
        });
    };
    FormSubcomponent.prototype.assignFormValuesToChild = function (child, form) {
        Object.keys(form.controls).forEach(function (key) {
            var value = form.get(key).value;
            if (value !== null) {
                child[key] = value;
            }
        });
    };
    FormSubcomponent.prototype.getInvalidFields = function () {
        var invalid = [];
        var controls = this.form.controls;
        for (var field in controls) {
            if (controls[field].invalid) {
                invalid.push(field);
            }
        }
        return invalid;
    };
    FormSubcomponent.prototype.initForm = function (config) {
        this.form = this.fb.group(config.controlsConfig, config.options);
    };
    FormSubcomponent.ɵfac = function FormSubcomponent_Factory(t) { return new (t || FormSubcomponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__["EntityMapperService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"])); };
    FormSubcomponent.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({ type: FormSubcomponent, features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]] });
    return FormSubcomponent;
}());



/***/ }),

/***/ "./src/app/child-dev-project/children/child-details/grouped-child-attendance/grouped-child-attendance.component.ts":
/*!*************************************************************************************************************************!*\
  !*** ./src/app/child-dev-project/children/child-details/grouped-child-attendance/grouped-child-attendance.component.ts ***!
  \*************************************************************************************************************************/
/*! exports provided: GroupedChildAttendanceComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupedChildAttendanceComponent", function() { return GroupedChildAttendanceComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _model_child__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../model/child */ "./src/app/child-dev-project/children/model/child.ts");
/* harmony import */ var _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/flex-layout/flex */ "./node_modules/@angular/flex-layout/esm5/flex.es5.js");
/* harmony import */ var _attendance_child_attendance_child_attendance_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../attendance/child-attendance/child-attendance.component */ "./src/app/child-dev-project/attendance/child-attendance/child-attendance.component.ts");





var GroupedChildAttendanceComponent = /** @class */ (function () {
    function GroupedChildAttendanceComponent() {
    }
    GroupedChildAttendanceComponent.ɵfac = function GroupedChildAttendanceComponent_Factory(t) { return new (t || GroupedChildAttendanceComponent)(); };
    GroupedChildAttendanceComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: GroupedChildAttendanceComponent, selectors: [["app-grouped-child-attendance"]], inputs: { child: "child" }, decls: 9, vars: 4, consts: [["fxLayout", "row wrap", "fxLayout.lt-lg", "column", "fxLayoutGap", "2em"], ["fxFlex", "45"], ["institution", "school", 3, "child", "showDailyAttendanceOfLatest"], ["institution", "coaching", 3, "child", "showDailyAttendanceOfLatest"]], template: function GroupedChildAttendanceComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h3");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, "School Attendance");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "app-child-attendance", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "h3");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7, "Coaching Attendance");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](8, "app-child-attendance", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("child", ctx.child)("showDailyAttendanceOfLatest", true);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("child", ctx.child)("showDailyAttendanceOfLatest", true);
        } }, directives: [_angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_2__["DefaultLayoutDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_2__["DefaultLayoutGapDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_2__["DefaultFlexDirective"], _attendance_child_attendance_child_attendance_component__WEBPACK_IMPORTED_MODULE_3__["ChildAttendanceComponent"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NoaWxkLWRldi1wcm9qZWN0L2NoaWxkcmVuL2NoaWxkLWRldGFpbHMvZ3JvdXBlZC1jaGlsZC1hdHRlbmRhbmNlL2dyb3VwZWQtY2hpbGQtYXR0ZW5kYW5jZS5jb21wb25lbnQuc2NzcyJ9 */"] });
    return GroupedChildAttendanceComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](GroupedChildAttendanceComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-grouped-child-attendance",
                templateUrl: "./grouped-child-attendance.component.html",
                styleUrls: ["./grouped-child-attendance.component.scss"],
            }]
    }], function () { return []; }, { child: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/children/child-details/health-form/health-form.component.ts":
/*!***********************************************************************************************!*\
  !*** ./src/app/child-dev-project/children/child-details/health-form/health-form.component.ts ***!
  \***********************************************************************************************/
/*! exports provided: HealthFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HealthFormComponent", function() { return HealthFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _model_child__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../model/child */ "./src/app/child-dev-project/children/model/child.ts");
/* harmony import */ var _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/entity/entity-mapper.service */ "./src/app/core/entity/entity-mapper.service.ts");
/* harmony import */ var _form_subcomponent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../form-subcomponent */ "./src/app/child-dev-project/children/child-details/form-subcomponent.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/alerts/alert.service */ "./src/app/core/alerts/alert.service.ts");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_select__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/select */ "./node_modules/@angular/material/fesm5/select.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/datepicker */ "./node_modules/@angular/material/fesm5/datepicker.js");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/core */ "./node_modules/@angular/material/fesm5/core.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

















function HealthFormComponent_mat_option_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var value_r10 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", value_r10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](value_r10);
} }
function HealthFormComponent_mat_option_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var value_r11 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", value_r11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", value_r11, " ");
} }
function HealthFormComponent_button_41_Template(rf, ctx) { if (rf & 1) {
    var _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function HealthFormComponent_button_41_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r13); var ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r12.save(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Save ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function HealthFormComponent_button_42_Template(rf, ctx) { if (rf & 1) {
    var _r15 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function HealthFormComponent_button_42_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r15); var ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r14.switchEdit(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Cancel ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function HealthFormComponent_button_43_Template(rf, ctx) { if (rf & 1) {
    var _r17 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function HealthFormComponent_button_43_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r17); var ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r16.switchEdit(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Edit ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
var HealthFormComponent = /** @class */ (function (_super) {
    __extends(HealthFormComponent, _super);
    function HealthFormComponent(entityMapperService, fb, alertService) {
        var _this = _super.call(this, entityMapperService, fb, alertService) || this;
        _this.vaccinationStatusValues = [
            "Good",
            "Vaccination Due",
            "Needs Checking",
            "No Card/Information",
        ];
        _this.eyeStatusValues = ["Good", "Has Glasses", "Needs Glasses", "Needs Checkup"];
        _this.editing = false;
        return _this;
    }
    HealthFormComponent.prototype.getFormConfig = function () {
        return {
            controlsConfig: {
                health_vaccinationStatus: [
                    {
                        value: this.child.health_vaccinationStatus,
                        disabled: !this.editing,
                    },
                ],
                health_eyeHealthStatus: [
                    { value: this.child.health_eyeHealthStatus, disabled: !this.editing },
                ],
                health_bloodGroup: [
                    { value: this.child.health_bloodGroup, disabled: !this.editing },
                ],
                health_lastDentalCheckup: [
                    {
                        value: this.child.health_lastDentalCheckup,
                        disabled: !this.editing,
                    },
                ],
                health_lastEyeCheckup: [
                    { value: this.child.health_lastEyeCheckup, disabled: !this.editing },
                ],
                health_lastENTCheckup: [
                    { value: this.child.health_lastENTCheckup, disabled: !this.editing },
                ],
                health_lastVitaminD: [
                    { value: this.child.health_lastVitaminD, disabled: !this.editing },
                ],
                health_lastDeworming: [
                    { value: this.child.health_lastDeworming, disabled: !this.editing },
                ],
            },
        };
    };
    HealthFormComponent.ɵfac = function HealthFormComponent_Factory(t) { return new (t || HealthFormComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__["EntityMapperService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormBuilder"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_5__["AlertService"])); };
    HealthFormComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: HealthFormComponent, selectors: [["app-health-form"]], inputs: { child: "child" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 44, vars: 23, consts: [[3, "formGroup"], ["formControlName", "health_vaccinationStatus", 3, "disabled"], [3, "value", 4, "ngFor", "ngForOf"], ["formControlName", "health_eyeHealthStatus", 3, "disabled"], ["matInput", "", "formControlName", "health_bloodGroup", "placeholder", "Blood Group", "type", "text"], ["matInput", "", "formControlName", "health_lastDentalCheckup", "placeholder", "Last Dental Check-Up", 3, "matDatepicker", "disabled"], ["matSuffix", "", 3, "for"], ["lastDentalCheckupDatepicker", ""], ["matInput", "", "formControlName", "health_lastEyeCheckup", "placeholder", "Last Eye Check-Up", 3, "matDatepicker", "disabled"], ["lastEyeCheckupDatepicker", ""], ["matInput", "", "formControlName", "health_lastENTCheckup", "placeholder", "Last ENT Check-Up", 3, "matDatepicker", "disabled"], ["lastENTCheckupDatepicker", ""], ["matInput", "", "formControlName", "health_lastVitaminD", "placeholder", "Last Vitamin D", 3, "matDatepicker", "disabled"], ["lastVitaminDDatepicker", ""], ["matInput", "", "formControlName", "health_lastDeworming", "placeholder", "Last De-Worming", 3, "matDatepicker", "disabled"], ["lastDewormingDatepicker", ""], ["mat-stroked-button", "", "class", "edit-button", 3, "click", 4, "ngIf"], [3, "value"], ["mat-stroked-button", "", 1, "edit-button", 3, "click"]], template: function HealthFormComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "mat-label");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, " Vaccination Status ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "mat-select", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, HealthFormComponent_mat_option_6_Template, 2, 2, "mat-option", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "mat-label");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9, " Eye Status ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "mat-select", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, HealthFormComponent_mat_option_11_Template, 2, 2, "mat-option", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](13, "input", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](16, "input", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](17, "mat-datepicker-toggle", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](18, "mat-datepicker", null, 7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](20, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](21, "input", 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](22, "mat-datepicker-toggle", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](23, "mat-datepicker", null, 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](25, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](26, "input", 10);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](27, "mat-datepicker-toggle", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](28, "mat-datepicker", null, 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](30, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](31, "input", 12);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](32, "mat-datepicker-toggle", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](33, "mat-datepicker", null, 13);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](35, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](36, "input", 14);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](37, "mat-datepicker-toggle", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](38, "mat-datepicker", null, 15);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](40, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](41, HealthFormComponent_button_41_Template, 2, 0, "button", 16);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](42, HealthFormComponent_button_42_Template, 2, 0, "button", 16);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](43, HealthFormComponent_button_43_Template, 2, 0, "button", 16);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            var _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](19);
            var _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](24);
            var _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](29);
            var _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](34);
            var _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](39);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", !ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.vaccinationStatusValues);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", !ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.eyeStatusValues);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matDatepicker", _r2)("disabled", !ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("for", _r2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matDatepicker", _r3)("disabled", !ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("for", _r3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matDatepicker", _r4)("disabled", !ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("for", _r4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matDatepicker", _r5)("disabled", !ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("for", _r5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matDatepicker", _r6)("disabled", !ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("for", _r6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.editing);
        } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormGroupDirective"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_6__["MatFormField"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_6__["MatLabel"], _angular_material_select__WEBPACK_IMPORTED_MODULE_7__["MatSelect"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormControlName"], _angular_common__WEBPACK_IMPORTED_MODULE_8__["NgForOf"], _angular_material_input__WEBPACK_IMPORTED_MODULE_9__["MatInput"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["DefaultValueAccessor"], _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_10__["MatDatepickerInput"], _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_10__["MatDatepickerToggle"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_6__["MatSuffix"], _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_10__["MatDatepicker"], _angular_common__WEBPACK_IMPORTED_MODULE_8__["NgIf"], _angular_material_core__WEBPACK_IMPORTED_MODULE_11__["MatOption"], _angular_material_button__WEBPACK_IMPORTED_MODULE_12__["MatButton"]], styles: [".mat-form-field[_ngcontent-%COMP%] {\n  margin-right: 10px;\n}\n\n.edit-button[_ngcontent-%COMP%] {\n  margin-left: 10px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvY2hpbGRyZW4vY2hpbGQtZGV0YWlscy9oZWFsdGgtZm9ybS9oZWFsdGgtZm9ybS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvY2hpbGRyZW4vY2hpbGQtZGV0YWlscy9oZWFsdGgtZm9ybS9oZWFsdGgtZm9ybS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvY2hpbGRyZW4vY2hpbGQtZGV0YWlscy9oZWFsdGgtZm9ybS9oZWFsdGgtZm9ybS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYXQtZm9ybS1maWVsZCB7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbn1cblxuLmVkaXQtYnV0dG9uIHtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG59XG4iLCIubWF0LWZvcm0tZmllbGQge1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG59XG5cbi5lZGl0LWJ1dHRvbiB7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xufSJdfQ== */"] });
    return HealthFormComponent;
}(_form_subcomponent__WEBPACK_IMPORTED_MODULE_3__["FormSubcomponent"]));

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](HealthFormComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-health-form",
                templateUrl: "./health-form.component.html",
                styleUrls: ["./health-form.component.scss"],
            }]
    }], function () { return [{ type: _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__["EntityMapperService"] }, { type: _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormBuilder"] }, { type: _core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_5__["AlertService"] }]; }, { child: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/children/child-photo-service/child-photo.service.ts":
/*!***************************************************************************************!*\
  !*** ./src/app/child-dev-project/children/child-photo-service/child-photo.service.ts ***!
  \***************************************************************************************/
/*! exports provided: ChildPhotoService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChildPhotoService", function() { return ChildPhotoService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _core_webdav_cloud_file_service_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/webdav/cloud-file-service.service */ "./src/app/core/webdav/cloud-file-service.service.ts");
/* harmony import */ var _model_child__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/child */ "./src/app/child-dev-project/children/model/child.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};






var ChildPhotoService = /** @class */ (function () {
    function ChildPhotoService(cloudFileService) {
        this.cloudFileService = cloudFileService;
        this.basePath = "photos/";
    }
    /**
     * Creates an ArrayBuffer of the photo for that Child or the default image url.
     * @param child
     */
    ChildPhotoService.prototype.getImage = function (child) {
        return __awaiter(this, void 0, void 0, function () {
            var image;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.getImageFromCloudService(child)];
                    case 1:
                        image = _a.sent();
                        if (!image) {
                            image = this.getImageFromAssets(child);
                        }
                        return [2 /*return*/, image];
                }
            });
        });
    };
    ChildPhotoService.prototype.getImageFromCloudService = function (child) {
        return __awaiter(this, void 0, void 0, function () {
            var image, imageType, imageType_1, imageType_1_1, ext, filepath, err_1, e_1_1;
            var e_1, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (!this.cloudFileService.isConnected()) return [3 /*break*/, 10];
                        imageType = [".png", ".jpg", ".jpeg", ""];
                        _b.label = 1;
                    case 1:
                        _b.trys.push([1, 8, 9, 10]);
                        imageType_1 = __values(imageType), imageType_1_1 = imageType_1.next();
                        _b.label = 2;
                    case 2:
                        if (!!imageType_1_1.done) return [3 /*break*/, 7];
                        ext = imageType_1_1.value;
                        filepath = this.basePath + child.entityId + ext;
                        _b.label = 3;
                    case 3:
                        _b.trys.push([3, 5, , 6]);
                        return [4 /*yield*/, this.cloudFileService.getFile(filepath)];
                    case 4:
                        image = _b.sent();
                        return [3 /*break*/, 7];
                    case 5:
                        err_1 = _b.sent();
                        if (err_1 === "File not found") {
                            // ignore and try next file extension
                        }
                        else {
                            console.warn("Error loading image: ", err_1);
                        }
                        return [3 /*break*/, 6];
                    case 6:
                        imageType_1_1 = imageType_1.next();
                        return [3 /*break*/, 2];
                    case 7: return [3 /*break*/, 10];
                    case 8:
                        e_1_1 = _b.sent();
                        e_1 = { error: e_1_1 };
                        return [3 /*break*/, 10];
                    case 9:
                        try {
                            if (imageType_1_1 && !imageType_1_1.done && (_a = imageType_1.return)) _a.call(imageType_1);
                        }
                        finally { if (e_1) throw e_1.error; }
                        return [7 /*endfinally*/];
                    case 10: return [2 /*return*/, image];
                }
            });
        });
    };
    ChildPhotoService.prototype.getImageFromAssets = function (child) {
        if (!child.photoFile || child.photoFile.trim() === "") {
            return this.getDefaultImage();
        }
        return _model_child__WEBPACK_IMPORTED_MODULE_2__["Child"].generatePhotoPath(child.photoFile);
    };
    ChildPhotoService.prototype.getDefaultImage = function () {
        return "assets/child.png";
    };
    /**
     * Load the image for the given child asynchronously, immediately returning an Observable
     * that initially emits the static image and later resolves to the image from the cloud service if one exists.
     * This allows to immediately display a proper placeholder while the loading may take some time.
     * @param child The Child instance for which the photo should be loaded.
     */
    ChildPhotoService.prototype.getImageAsyncObservable = function (child) {
        var resultSubject = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"](this.getImageFromAssets(child));
        this.getImageFromCloudService(child).then(function (photo) {
            if (photo && photo !== resultSubject.value) {
                resultSubject.next(photo);
            }
            resultSubject.complete();
        });
        return resultSubject;
    };
    /**
     * Check if saving/uploading images is supported in the current state.
     */
    ChildPhotoService.prototype.canSetImage = function () {
        return this.cloudFileService.isConnected();
    };
    /**
     * Uploads a given image through the CloudFileService if connected.
     * @param imageFile Image to be stored
     * @param childId Id of child for which one wants to store the image
     */
    ChildPhotoService.prototype.setImage = function (imageFile, childId) {
        return __awaiter(this, void 0, void 0, function () {
            var fileExt;
            return __generator(this, function (_a) {
                if (!this.canSetImage()) {
                    return [2 /*return*/, Promise.reject("CloudFileService not connected.")];
                }
                fileExt = imageFile.name.substr(imageFile.name.lastIndexOf("."));
                return [2 /*return*/, this.cloudFileService.uploadFile(imageFile, this.basePath + childId + fileExt)];
            });
        });
    };
    ChildPhotoService.ɵfac = function ChildPhotoService_Factory(t) { return new (t || ChildPhotoService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_core_webdav_cloud_file_service_service__WEBPACK_IMPORTED_MODULE_1__["CloudFileService"])); };
    ChildPhotoService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: ChildPhotoService, factory: ChildPhotoService.ɵfac, providedIn: "root" });
    return ChildPhotoService;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ChildPhotoService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root",
            }]
    }], function () { return [{ type: _core_webdav_cloud_file_service_service__WEBPACK_IMPORTED_MODULE_1__["CloudFileService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/children/child-photo-service/datatype-load-child-photo.ts":
/*!*********************************************************************************************!*\
  !*** ./src/app/child-dev-project/children/child-photo-service/datatype-load-child-photo.ts ***!
  \*********************************************************************************************/
/*! exports provided: LoadChildPhotoEntitySchemaDatatype */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoadChildPhotoEntitySchemaDatatype", function() { return LoadChildPhotoEntitySchemaDatatype; });
/* harmony import */ var _core_entity_entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/entity/entity */ "./src/app/core/entity/entity.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */

/**
 * Dynamically load the child's photo through the ChildPhotoService during Entity loading process.
 */
var LoadChildPhotoEntitySchemaDatatype = /** @class */ (function () {
    function LoadChildPhotoEntitySchemaDatatype(childPhotoService) {
        this.childPhotoService = childPhotoService;
        this.name = "load-child-photo";
    }
    LoadChildPhotoEntitySchemaDatatype.prototype.transformToDatabaseFormat = function (value) {
        return undefined;
    };
    LoadChildPhotoEntitySchemaDatatype.prototype.transformToObjectFormat = function (value, schemaField, schemaService, parent) {
        var childDummy = Object.assign({}, parent);
        if (!childDummy.entityId) {
            childDummy.entityId = _core_entity_entity__WEBPACK_IMPORTED_MODULE_0__["Entity"].extractEntityIdFromId(childDummy._id);
        }
        return this.childPhotoService.getImageAsyncObservable(childDummy);
    };
    return LoadChildPhotoEntitySchemaDatatype;
}());



/***/ }),

/***/ "./src/app/child-dev-project/children/child-select/child-select.component.ts":
/*!***********************************************************************************!*\
  !*** ./src/app/child-dev-project/children/child-select/child-select.component.ts ***!
  \***********************************************************************************/
/*! exports provided: ChildSelectComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChildSelectComponent", function() { return ChildSelectComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _children_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../children.service */ "./src/app/child-dev-project/children/children.service.ts");
/* harmony import */ var _ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngneat/until-destroy */ "./node_modules/@ngneat/until-destroy/fesm5/ngneat-until-destroy.js");
/* harmony import */ var _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/autocomplete */ "./node_modules/@angular/material/fesm5/autocomplete.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _child_block_child_block_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../child-block/child-block.component */ "./src/app/child-dev-project/children/child-block/child-block.component.ts");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/core */ "./node_modules/@angular/material/fesm5/core.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/tooltip */ "./node_modules/@angular/material/fesm5/tooltip.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};















var _c0 = ["inputField"];
function ChildSelectComponent_span_4_Template(rf, ctx) { if (rf & 1) {
    var _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ChildSelectComponent_span_4_Template_span_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r7); var child_r5 = ctx.$implicit; var ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r6.unselectChild(child_r5); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "app-child-block", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, " \u00A0 ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r5 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entity", child_r5)("linkDisabled", true)("tooltipDisabled", true);
} }
function ChildSelectComponent_mat_option_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "app-child-block", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var res_r8 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", res_r8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entity", res_r8)("linkDisabled", true)("tooltipDisabled", true);
} }
function ChildSelectComponent_button_8_Template(rf, ctx) { if (rf & 1) {
    var _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ChildSelectComponent_button_8_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r10); var ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r9.showAll(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Show Dropouts ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
var ChildSelectComponent = /** @class */ (function () {
    function ChildSelectComponent(childrenService) {
        this.childrenService = childrenService;
        this.searchText = "";
        this.showOnlyActiveChildren = true;
        this.suggestions = new Array();
        this.allChildren = new Array();
        this.selectedChildren = new Array();
        this.valueAsIdsChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.newIdAdded = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.idRemoved = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    ChildSelectComponent.prototype.ngOnChanges = function (changes) {
        if (changes.hasOwnProperty("valueAsIds")) {
            this.loadInitial();
        }
    };
    ChildSelectComponent.prototype.loadInitial = function () {
        var _this = this;
        this.childrenService
            .getChildren()
            .pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_2__["untilDestroyed"])(this))
            .subscribe(function (children) {
            _this.allChildren = __spread(children); // clone array
            _this.search();
            _this.selectInitialSelectedChildren();
        });
    };
    ChildSelectComponent.prototype.selectInitialSelectedChildren = function () {
        var _this = this;
        if (this.valueAsIds === undefined) {
            return;
        }
        this.selectedChildren = [];
        this.valueAsIds.forEach(function (selectedId) {
            var selectedChild = _this.allChildren.find(function (c) { return c.getId() === selectedId; });
            if (selectedChild) {
                _this.selectChild(selectedChild, true);
            }
        });
    };
    ChildSelectComponent.prototype.search = function () {
        var _this = this;
        this.searchText = this.searchText.toLowerCase();
        this.suggestions = this.allChildren.filter(function (child) {
            var key = "" + child.name + " " + child.projectNumber;
            if (_this.showOnlyActiveChildren && !child.isActive()) {
                return false;
            }
            return key.toLowerCase().includes(_this.searchText);
        });
    };
    ChildSelectComponent.prototype.showAll = function () {
        var _this = this;
        this.showOnlyActiveChildren = false;
        this.search();
        setTimeout(function () { return _this.autocomplete.openPanel(); });
    };
    ChildSelectComponent.prototype.selectChild = function (child, suppressChangeEvent) {
        if (suppressChangeEvent === void 0) { suppressChangeEvent = false; }
        if (this.selectedChildren.findIndex(function (c) { return c.getId() === child.getId(); }) !== -1) {
            // skip if already selected
            return;
        }
        this.selectedChildren.push(child);
        if (!suppressChangeEvent) {
            this.newIdAdded.emit(child.getId());
            this.valueAsIdsChange.emit(this.selectedChildren.map(function (c) { return c.getId(); }));
        }
        var i = this.allChildren.findIndex(function (e) { return e.getId() === child.getId(); });
        this.allChildren.splice(i, 1);
        this.searchText = "";
        this.inputField.nativeElement.value = "";
    };
    ChildSelectComponent.prototype.unselectChild = function (child) {
        var i = this.selectedChildren.findIndex(function (e) { return e.getId() === child.getId(); });
        this.selectedChildren.splice(i, 1);
        this.allChildren.unshift(child);
        this.idRemoved.emit(child.getId());
        this.valueAsIdsChange.emit(this.selectedChildren.map(function (c) { return c.getId(); }));
    };
    ChildSelectComponent.prototype.unselectChildId = function (childId) {
        var child = this.selectedChildren.find(function (c) { return c.getId() === childId; });
        if (child) {
            this.unselectChild(child);
        }
    };
    ChildSelectComponent.ɵfac = function ChildSelectComponent_Factory(t) { return new (t || ChildSelectComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_children_service__WEBPACK_IMPORTED_MODULE_1__["ChildrenService"])); };
    ChildSelectComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ChildSelectComponent, selectors: [["app-child-select"]], viewQuery: function ChildSelectComponent_Query(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstaticViewQuery"](_c0, true);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_3__["MatAutocompleteTrigger"], true);
        } if (rf & 2) {
            var _t;
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.inputField = _t.first);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.autocomplete = _t.first);
        } }, inputs: { valueAsIds: "valueAsIds" }, outputs: { valueAsIdsChange: "valueAsIdsChange", newIdAdded: "newIdAdded", idRemoved: "idRemoved" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 9, vars: 5, consts: [[2, "width", "100%"], ["matInput", "", "placeholder", "Children", 3, "matAutocomplete", "ngModel", "input", "ngModelChange"], ["inputField", ""], ["class", "selected-entity-block", 4, "ngFor", "ngForOf"], [3, "optionSelected"], ["autoSuggestions", "matAutocomplete"], [3, "value", 4, "ngFor", "ngForOf"], ["mat-button", "", "matTooltip", "extend the list to also show inactive records", 3, "click", 4, "ngIf"], [1, "selected-entity-block"], [1, "fa", "fa-minus-square-o", 3, "click"], [3, "entity", "linkDisabled", "tooltipDisabled"], [3, "value"], ["mat-button", "", "matTooltip", "extend the list to also show inactive records", 3, "click"]], template: function ChildSelectComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-form-field", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "input", 1, 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("input", function ChildSelectComponent_Template_input_input_2_listener() { return ctx.search(); })("ngModelChange", function ChildSelectComponent_Template_input_ngModelChange_2_listener($event) { return ctx.searchText = $event; });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, ChildSelectComponent_span_4_Template, 4, 3, "span", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "mat-autocomplete", 4, 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("optionSelected", function ChildSelectComponent_Template_mat_autocomplete_optionSelected_5_listener($event) { return ctx.selectChild($event.option.value); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, ChildSelectComponent_mat_option_7_Template, 2, 4, "mat-option", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, ChildSelectComponent_button_8_Template, 2, 0, "button", 7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            var _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matAutocomplete", _r2)("ngModel", ctx.searchText);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.selectedChildren);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.suggestions);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showOnlyActiveChildren);
        } }, directives: [_angular_material_form_field__WEBPACK_IMPORTED_MODULE_4__["MatFormField"], _angular_material_input__WEBPACK_IMPORTED_MODULE_5__["MatInput"], _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_3__["MatAutocompleteTrigger"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["NgModel"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgForOf"], _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_3__["MatAutocomplete"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgIf"], _child_block_child_block_component__WEBPACK_IMPORTED_MODULE_8__["ChildBlockComponent"], _angular_material_core__WEBPACK_IMPORTED_MODULE_9__["MatOption"], _angular_material_button__WEBPACK_IMPORTED_MODULE_10__["MatButton"], _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_11__["MatTooltip"]], styles: [".selected-entity-block[_ngcontent-%COMP%] {\n  display: inline-block;\n}\n\nbutton[_ngcontent-%COMP%] {\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  width: 100%;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvY2hpbGRyZW4vY2hpbGQtc2VsZWN0L2NoaWxkLXNlbGVjdC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvY2hpbGRyZW4vY2hpbGQtc2VsZWN0L2NoaWxkLXNlbGVjdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNFLHFCQUFBO0FDQUY7O0FER0E7RUFDRSxjQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7QUNBRiIsImZpbGUiOiJzcmMvYXBwL2NoaWxkLWRldi1wcm9qZWN0L2NoaWxkcmVuL2NoaWxkLXNlbGVjdC9jaGlsZC1zZWxlY3QuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbi5zZWxlY3RlZC1lbnRpdHktYmxvY2sge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG59XG5cbmJ1dHRvbntcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gIHdpZHRoOjEwMCU7XG59XG4iLCIuc2VsZWN0ZWQtZW50aXR5LWJsb2NrIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuXG5idXR0b24ge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbiAgd2lkdGg6IDEwMCU7XG59Il19 */"] });
    ChildSelectComponent = __decorate([
        Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_2__["UntilDestroy"])(),
        __metadata("design:paramtypes", [_children_service__WEBPACK_IMPORTED_MODULE_1__["ChildrenService"]])
    ], ChildSelectComponent);
    return ChildSelectComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ChildSelectComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-child-select",
                templateUrl: "./child-select.component.html",
                styleUrls: ["./child-select.component.scss"],
            }]
    }], function () { return [{ type: _children_service__WEBPACK_IMPORTED_MODULE_1__["ChildrenService"] }]; }, { valueAsIds: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], valueAsIdsChange: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], newIdAdded: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], idRemoved: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], inputField: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["inputField", { static: true }]
        }], autocomplete: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: [_angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_3__["MatAutocompleteTrigger"]]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/children/children-count-dashboard/children-count-dashboard.component.ts":
/*!***********************************************************************************************************!*\
  !*** ./src/app/child-dev-project/children/children-count-dashboard/children-count-dashboard.component.ts ***!
  \***********************************************************************************************************/
/*! exports provided: ChildrenCountDashboardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChildrenCountDashboardComponent", function() { return ChildrenCountDashboardComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _children_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../children.service */ "./src/app/child-dev-project/children/children.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngneat/until-destroy */ "./node_modules/@ngneat/until-destroy/fesm5/ngneat-until-destroy.js");
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/card */ "./node_modules/@angular/material/fesm5/card.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm2015/angulartics2.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











function ChildrenCountDashboardComponent_tr_10_Template(rf, ctx) { if (rf & 1) {
    var _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "tr", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ChildrenCountDashboardComponent_tr_10_Template_tr_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); var entry_r1 = ctx.$implicit; var ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r3.goToChildrenList(entry_r1[0]); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "td", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "td", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "td", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var entry_r1 = ctx.$implicit;
    var i_r2 = ctx.index;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("angularticsLabel", "list-entry-" + i_r2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("", entry_r1[0], ":");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](entry_r1[1]);
} }
var ChildrenCountDashboardComponent = /** @class */ (function () {
    function ChildrenCountDashboardComponent(childrenService, router) {
        this.childrenService = childrenService;
        this.router = router;
        this.childrenByCenter = [];
    }
    ChildrenCountDashboardComponent.prototype.onInitFromDynamicConfig = function (config) { };
    ChildrenCountDashboardComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.childrenService
            .getChildren()
            .pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_3__["untilDestroyed"])(this))
            .subscribe(function (results) {
            _this.totalChildren = 0;
            var countMap = new Map();
            results.forEach(function (child) {
                if (child.isActive()) {
                    var count = countMap.get(child.center);
                    if (count === undefined) {
                        count = 0;
                    }
                    count++;
                    _this.totalChildren++;
                    countMap.set(child.center, count);
                }
            });
            _this.childrenByCenter = Array.from(countMap.entries()); // direct use of Map creates change detection problems
        });
    };
    ChildrenCountDashboardComponent.prototype.goToChildrenList = function (filterString) {
        this.router.navigate(["/child"], {
            queryParams: { center: filterString.toLocaleLowerCase() },
        });
    };
    ChildrenCountDashboardComponent.ɵfac = function ChildrenCountDashboardComponent_Factory(t) { return new (t || ChildrenCountDashboardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_children_service__WEBPACK_IMPORTED_MODULE_1__["ChildrenService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"])); };
    ChildrenCountDashboardComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ChildrenCountDashboardComponent, selectors: [["app-children-count-dashboard"]], decls: 11, vars: 2, consts: [[1, "dashboard-widget"], [1, "app-child"], ["mat-card-avatar", ""], ["fontIcon", "fa-child"], [1, "dashboard-table"], ["class", "dashboard-table-row", "style", "cursor: pointer;", "angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "dashboard_children_count_school_link", 3, "angularticsLabel", "click", 4, "ngFor", "ngForOf"], ["angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "dashboard_children_count_school_link", 1, "dashboard-table-row", 2, "cursor", "pointer", 3, "angularticsLabel", "click"], [1, "dashboard-table-cell"], [1, "fa", "fa-external-link-square"]], template: function ChildrenCountDashboardComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-card", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-card-header", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "mat-icon", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "mat-card-title");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "mat-card-subtitle");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7, "Children");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "mat-card-content");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "table", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, ChildrenCountDashboardComponent_tr_10_Template, 7, 3, "tr", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.totalChildren);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.childrenByCenter);
        } }, directives: [_angular_material_card__WEBPACK_IMPORTED_MODULE_4__["MatCard"], _angular_material_card__WEBPACK_IMPORTED_MODULE_4__["MatCardHeader"], _angular_material_card__WEBPACK_IMPORTED_MODULE_4__["MatCardAvatar"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_5__["MatIcon"], _angular_material_card__WEBPACK_IMPORTED_MODULE_4__["MatCardTitle"], _angular_material_card__WEBPACK_IMPORTED_MODULE_4__["MatCardSubtitle"], _angular_material_card__WEBPACK_IMPORTED_MODULE_4__["MatCardContent"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgForOf"], angulartics2__WEBPACK_IMPORTED_MODULE_7__["Angulartics2On"]], styles: [".dashboard-table-row[_ngcontent-%COMP%] {\n  border-top: 1px solid black;\n}\n\n.dashboard-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child {\n  border-top: none;\n}\n\n.dashboard-table[_ngcontent-%COMP%] {\n  width: 100%;\n  border-collapse: collapse;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvY2hpbGRyZW4vY2hpbGRyZW4tY291bnQtZGFzaGJvYXJkL2NoaWxkcmVuLWNvdW50LWRhc2hib2FyZC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvY2hpbGRyZW4vY2hpbGRyZW4tY291bnQtZGFzaGJvYXJkL2NoaWxkcmVuLWNvdW50LWRhc2hib2FyZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLDJCQUFBO0FDQ0Y7O0FEQ0E7RUFDRSxnQkFBQTtBQ0VGOztBRENBO0VBQ0UsV0FBQTtFQUNBLHlCQUFBO0FDRUYiLCJmaWxlIjoic3JjL2FwcC9jaGlsZC1kZXYtcHJvamVjdC9jaGlsZHJlbi9jaGlsZHJlbi1jb3VudC1kYXNoYm9hcmQvY2hpbGRyZW4tY291bnQtZGFzaGJvYXJkLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmRhc2hib2FyZC10YWJsZS1yb3cge1xuICBib3JkZXItdG9wOiAxcHggc29saWQgYmxhY2s7XG59XG4uZGFzaGJvYXJkLXRhYmxlIHRyOmZpcnN0LWNoaWxkIHtcbiAgYm9yZGVyLXRvcDogbm9uZTtcbn1cblxuLmRhc2hib2FyZC10YWJsZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xufVxuIiwiLmRhc2hib2FyZC10YWJsZS1yb3cge1xuICBib3JkZXItdG9wOiAxcHggc29saWQgYmxhY2s7XG59XG5cbi5kYXNoYm9hcmQtdGFibGUgdHI6Zmlyc3QtY2hpbGQge1xuICBib3JkZXItdG9wOiBub25lO1xufVxuXG4uZGFzaGJvYXJkLXRhYmxlIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG59Il19 */"] });
    ChildrenCountDashboardComponent = __decorate([
        Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_3__["UntilDestroy"])(),
        __metadata("design:paramtypes", [_children_service__WEBPACK_IMPORTED_MODULE_1__["ChildrenService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]])
    ], ChildrenCountDashboardComponent);
    return ChildrenCountDashboardComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ChildrenCountDashboardComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-children-count-dashboard",
                templateUrl: "./children-count-dashboard.component.html",
                styleUrls: ["./children-count-dashboard.component.scss"],
            }]
    }], function () { return [{ type: _children_service__WEBPACK_IMPORTED_MODULE_1__["ChildrenService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] }]; }, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/children/children-list/children-list.component.ts":
/*!*************************************************************************************!*\
  !*** ./src/app/child-dev-project/children/children-list/children-list.component.ts ***!
  \*************************************************************************************/
/*! exports provided: ChildrenListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChildrenListComponent", function() { return ChildrenListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material_sort__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material/sort */ "./node_modules/@angular/material/fesm5/sort.js");
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/table */ "./node_modules/@angular/material/fesm5/table.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _children_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../children.service */ "./src/app/child-dev-project/children/children.service.ts");
/* harmony import */ var _core_filter_filter_selection_filter_selection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/filter/filter-selection/filter-selection */ "./src/app/core/filter/filter-selection/filter-selection.ts");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var _angular_material_paginator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/paginator */ "./node_modules/@angular/material/fesm5/paginator.js");
/* harmony import */ var _ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ngneat/until-destroy */ "./node_modules/@ngneat/until-destroy/fesm5/ngneat-until-destroy.js");
/* harmony import */ var _core_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/session/session-service/session.service */ "./src/app/core/session/session-service/session.service.ts");
/* harmony import */ var _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/entity/entity-mapper.service */ "./src/app/core/entity/entity-mapper.service.ts");
/* harmony import */ var _angular_material_expansion__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/expansion */ "./node_modules/@angular/material/fesm5/expansion.js");
/* harmony import */ var _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/flex-layout/flex */ "./node_modules/@angular/flex-layout/esm5/flex.es5.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/flex-layout/extended */ "./node_modules/@angular/flex-layout/esm5/extended.es5.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm2015/angulartics2.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _core_admin_export_data_export_data_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../core/admin/export-data/export-data.component */ "./src/app/core/admin/export-data/export-data.component.ts");
/* harmony import */ var _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @angular/material/button-toggle */ "./node_modules/@angular/material/fesm5/button-toggle.js");
/* harmony import */ var _angular_material_select__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @angular/material/select */ "./node_modules/@angular/material/fesm5/select.js");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @angular/material/core */ "./node_modules/@angular/material/fesm5/core.js");
/* harmony import */ var _child_block_child_block_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../child-block/child-block.component */ "./src/app/child-dev-project/children/child-block/child-block.component.ts");
/* harmony import */ var _schools_school_block_school_block_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../schools/school-block/school-block.component */ "./src/app/child-dev-project/schools/school-block/school-block.component.ts");
/* harmony import */ var _attendance_attendance_block_attendance_block_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../attendance/attendance-block/attendance-block.component */ "./src/app/child-dev-project/attendance/attendance-block/attendance-block.component.ts");
/* harmony import */ var ngx_filter_pipe__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ngx-filter-pipe */ "./node_modules/ngx-filter-pipe/esm5/ngx-filter-pipe.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






































var _c0 = ["attendanceSchoolCell"];
var _c1 = ["attendanceCoachingCell"];
function ChildrenListComponent_button_7_Template(rf, ctx) { if (rf & 1) {
    var _r59 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 54);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ChildrenListComponent_button_7_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r59); var ctx_r58 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); ctx_r58.filterString = ""; return ctx_r58.applyFilter(""); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-icon", 55);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_mat_button_toggle_21_Template(rf, ctx) { if (rf & 1) {
    var _r62 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-button-toggle", 56);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ChildrenListComponent_mat_button_toggle_21_Template_mat_button_toggle_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r62); var item_r60 = ctx.$implicit; var ctx_r61 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r61.displayColumnGroup(item_r60.name); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var item_r60 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", item_r60.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", item_r60.name, " ");
} }
function ChildrenListComponent_mat_button_toggle_group_22_mat_button_toggle_1_Template(rf, ctx) { if (rf & 1) {
    var _r68 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-button-toggle", 56);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ChildrenListComponent_mat_button_toggle_group_22_mat_button_toggle_1_Template_mat_button_toggle_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r68); var option_r65 = ctx.$implicit; var filterSelection_r63 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; var ctx_r66 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); filterSelection_r63.selectedOption = option_r65.key; return ctx_r66.applyFilterSelections(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var option_r65 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", option_r65.key);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", option_r65.label, " ");
} }
function ChildrenListComponent_mat_button_toggle_group_22_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-button-toggle-group", 57);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, ChildrenListComponent_mat_button_toggle_group_22_mat_button_toggle_1_Template, 2, 2, "mat-button-toggle", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var filterSelection_r63 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("name", filterSelection_r63.name)("value", filterSelection_r63.selectedOption);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", filterSelection_r63.options);
} }
function ChildrenListComponent_mat_form_field_24_mat_option_4_Template(rf, ctx) { if (rf & 1) {
    var _r74 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 56);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ChildrenListComponent_mat_form_field_24_mat_option_4_Template_mat_option_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r74); var option_r71 = ctx.$implicit; var filterSelection_r69 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; var ctx_r72 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); filterSelection_r69.selectedOption = option_r71.key; return ctx_r72.applyFilterSelections(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var option_r71 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", option_r71.key);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", option_r71.label, " ");
} }
function ChildrenListComponent_mat_form_field_24_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-form-field", 58);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "mat-select", 59);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, ChildrenListComponent_mat_form_field_24_mat_option_4_Template, 2, 2, "mat-option", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var filterSelection_r69 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](filterSelection_r69.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("id", filterSelection_r69.name)("value", filterSelection_r69.selectedOption);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", filterSelection_r69.options);
} }
function ChildrenListComponent_th_28_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "PN");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_29_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r75 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](child_r75.projectNumber);
} }
function ChildrenListComponent_th_31_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Name");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_32_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "app-child-block", 62);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r76 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entity", child_r76);
} }
function ChildrenListComponent_th_34_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Age");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_35_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r77 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](child_r77.age);
} }
function ChildrenListComponent_th_37_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "DoB");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_38_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r78 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 1, child_r78.dateOfBirth, "longDate"), " ");
} }
function ChildrenListComponent_th_40_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Gender");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_41_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r79 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](child_r79.gender);
} }
function ChildrenListComponent_th_43_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Class");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_44_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r80 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](child_r80.schoolClass);
} }
function ChildrenListComponent_th_46_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "School");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_47_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "app-school-block", 63);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r81 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entityId", child_r81.schoolId);
} }
function ChildrenListComponent_th_49_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 64, 65);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, " Attendance (School)");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_50_app_attendance_block_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-attendance-block", 68);
} if (rf & 2) {
    var att_r85 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("attendanceData", att_r85);
} }
var _c2 = function () { return { "institution": "school" }; };
function ChildrenListComponent_td_50_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 66);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, ChildrenListComponent_td_50_app_attendance_block_1_Template, 1, 1, "app-attendance-block", 67);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "slice");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "filterBy");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r83 = ctx.$implicit;
    var ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind3"](2, 1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](3, 5, ctx_r19.attendanceList.get(child_r83.getId()), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](8, _c2)), 0, ctx_r19.maxAttendanceBlocks));
} }
function ChildrenListComponent_th_52_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 64, 69);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, " Attendance (Coaching)");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_53_app_attendance_block_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-attendance-block", 68);
} if (rf & 2) {
    var att_r89 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("attendanceData", att_r89);
} }
var _c3 = function () { return { "institution": "coaching" }; };
function ChildrenListComponent_td_53_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 66);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, ChildrenListComponent_td_53_app_attendance_block_1_Template, 1, 1, "app-attendance-block", 67);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "slice");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "filterBy");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r87 = ctx.$implicit;
    var ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind3"](2, 1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](3, 5, ctx_r21.attendanceList.get(child_r87.getId()), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](8, _c3)), 0, ctx_r21.maxAttendanceBlocks));
} }
function ChildrenListComponent_th_55_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Center");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_56_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r90 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](child_r90.center);
} }
function ChildrenListComponent_th_58_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Status");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_59_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r91 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](child_r91.status);
} }
function ChildrenListComponent_th_61_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Admission");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_62_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r92 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](child_r92.admissionDate);
} }
function ChildrenListComponent_th_64_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Mother Tongue");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_65_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r93 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](child_r93.motherTongue);
} }
function ChildrenListComponent_th_67_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Aadhar");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_68_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r94 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](child_r94.has_aadhar);
} }
function ChildrenListComponent_th_70_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Bank Account");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_71_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r95 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](child_r95.has_bankAccount);
} }
function ChildrenListComponent_th_73_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Kanyashree");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_74_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r96 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](child_r96.has_kanyashree);
} }
function ChildrenListComponent_th_76_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Ration Card");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_77_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r97 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](child_r97.has_rationCard);
} }
function ChildrenListComponent_th_79_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "BPL Card");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_80_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r98 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](child_r98.has_BplCard);
} }
function ChildrenListComponent_th_82_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Vaccination Status ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_83_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r99 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", child_r99.health_vaccinationStatus, " ");
} }
function ChildrenListComponent_th_85_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Blood Group");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_86_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r100 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](child_r100.health_bloodGroup);
} }
function ChildrenListComponent_th_88_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Eye Status");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_89_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r101 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", child_r101.health_eyeHealthStatus, " ");
} }
function ChildrenListComponent_th_91_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Last Eye Check-Up ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_92_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r102 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", child_r102.health_lastEyeCheckup, " ");
} }
function ChildrenListComponent_th_94_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Last Dental Check-Ups ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_95_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r103 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", child_r103.health_lastDentalCheckup, " ");
} }
function ChildrenListComponent_th_97_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Last ENT Check-Up ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_98_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r104 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", child_r104.health_lastENTCheckup, " ");
} }
function ChildrenListComponent_th_100_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Last Vitamin D");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_101_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r105 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](child_r105.health_lastVitaminD);
} }
function ChildrenListComponent_th_103_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Last De-Worming");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ChildrenListComponent_td_104_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r106 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](child_r106.health_lastDeworming);
} }
function ChildrenListComponent_tr_105_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "tr", 70);
} }
var _c4 = function (a1) { return ["/child", a1]; };
function ChildrenListComponent_tr_106_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "tr", 71);
} if (rf & 2) {
    var child_r107 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](1, _c4, child_r107.getId()));
} }
var _c5 = function () { return ["/child", "new"]; };
var _c6 = function () { return [3, 10, 20, 50]; };
var ChildrenListComponent = /** @class */ (function () {
    function ChildrenListComponent(childrenService, router, route, media, sessionService, entityMapperService) {
        this.childrenService = childrenService;
        this.router = router;
        this.route = route;
        this.media = media;
        this.sessionService = sessionService;
        this.entityMapperService = entityMapperService;
        this.childrenList = [];
        this.attendanceList = new Map();
        this.childrenDataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatTableDataSource"]();
        this.centerFS = new _core_filter_filter_selection_filter_selection__WEBPACK_IMPORTED_MODULE_5__["FilterSelection"]("center", []);
        this.dropoutFS = new _core_filter_filter_selection_filter_selection__WEBPACK_IMPORTED_MODULE_5__["FilterSelection"]("status", [
            {
                key: "active",
                label: "Current Project Children",
                filterFun: function (c) { return c.isActive(); },
            },
            {
                key: "dropout",
                label: "Dropouts",
                filterFun: function (c) { return !c.isActive(); },
            },
            { key: "", label: "All", filterFun: function () { return true; } },
        ]);
        this.filterSelections = [this.dropoutFS, this.centerFS];
        this.columnGroupSelection = "School Info";
        this.columnGroups = [
            {
                name: "Basic Info",
                columns: [
                    "projectNumber",
                    "name",
                    "age",
                    "gender",
                    "schoolClass",
                    "schoolId",
                    "center",
                    "status",
                ],
            },
            {
                name: "School Info",
                columns: [
                    "projectNumber",
                    "name",
                    "age",
                    "schoolClass",
                    "schoolId",
                    "attendance-school",
                    "attendance-coaching",
                    "motherTongue",
                ],
            },
            {
                name: "Status",
                columns: [
                    "projectNumber",
                    "name",
                    "center",
                    "status",
                    "admissionDate",
                    "has_aadhar",
                    "has_kanyashree",
                    "has_bankAccount",
                    "has_rationCard",
                    "has_bplCard",
                ],
            },
            {
                name: "Health",
                columns: [
                    "projectNumber",
                    "name",
                    "center",
                    "health_vaccinationStatus",
                    "health_bloodGroup",
                    "health_eyeHealthStatus",
                    "health_LastEyeCheckup",
                    "health_LastDentalCheckup",
                    "health_LastENTCheckup",
                    "health_LastVitaminD",
                    "health_LastDeworming",
                    "gender",
                    "age",
                    "dateOfBirth",
                ],
            },
            {
                name: "Mobile",
                columns: ["projectNumber", "name", "age", "schoolId"],
            },
        ];
        this.columnsToDisplay = ["projectNumber", "name"];
        this.filterString = "";
        /** dynamically calculated number of attendance blocks displayed in a column to avoid overlap */
        this.maxAttendanceBlocks = 3;
    }
    ChildrenListComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.loadData();
        this.loadUrlParams();
        this.user = this.sessionService.getCurrentUser();
        this.paginatorPageSize = this.user.paginatorSettingsPageSize.childrenList;
        this.paginatorPageIndex = this.user.paginatorSettingsPageIndex.childrenList;
        this.media.media$
            .pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_8__["untilDestroyed"])(this))
            .subscribe(function (change) {
            switch (change.mqAlias) {
                case "xs":
                case "sm": {
                    _this.displayColumnGroup("Mobile");
                    _this.maxAttendanceBlocks = 1;
                    break;
                }
                case "md": {
                    _this.displayColumnGroup("School Info");
                    _this.maxAttendanceBlocks = 2;
                    break;
                }
                case "lg": {
                    _this.maxAttendanceBlocks = 3;
                    break;
                }
                case "xl": {
                    _this.maxAttendanceBlocks = 6;
                    break;
                }
            }
        });
    };
    ChildrenListComponent.prototype.loadUrlParams = function (replaceUrl) {
        var _this = this;
        if (replaceUrl === void 0) { replaceUrl = false; }
        this.route.queryParams.subscribe(function (params) {
            _this.columnGroupSelection = params["view"]
                ? params["view"]
                : _this.columnGroupSelection;
            _this.displayColumnGroup(_this.columnGroupSelection);
            _this.filterSelections.forEach(function (f) {
                f.selectedOption = params[f.name];
                if (f.selectedOption === undefined && f.options.length > 0) {
                    f.selectedOption = f.options[0].key;
                }
            });
            _this.applyFilterSelections(replaceUrl);
        });
    };
    ChildrenListComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        this.childrenDataSource.sort = this.sort;
        this.childrenDataSource.paginator = this.paginator;
        setTimeout(function () {
            _this.paginator.pageIndex = _this.paginatorPageIndex;
            _this.paginator.page.next({
                pageIndex: _this.paginator.pageIndex,
                pageSize: _this.paginator.pageSize,
                length: _this.paginator.length,
            });
        });
    };
    ChildrenListComponent.prototype.onPaginateChange = function (event) {
        this.paginatorPageSize = event.pageSize;
        this.paginatorPageIndex = event.pageIndex;
        this.updateUserPaginationSettings();
    };
    ChildrenListComponent.prototype.updateUserPaginationSettings = function () {
        var hasChangesToBeSaved = this.paginatorPageSize !==
            this.user.paginatorSettingsPageSize.childrenList;
        this.user.paginatorSettingsPageIndex.childrenList = this.paginatorPageIndex;
        this.user.paginatorSettingsPageSize.childrenList = this.paginatorPageSize;
        if (hasChangesToBeSaved) {
            this.entityMapperService.save(this.user);
        }
    };
    ChildrenListComponent.prototype.loadData = function (replaceUrl) {
        var _this = this;
        if (replaceUrl === void 0) { replaceUrl = false; }
        this.childrenService
            .getChildren()
            .pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_8__["untilDestroyed"])(this))
            .subscribe(function (children) {
            _this.childrenList = children;
            var centers = children
                .map(function (c) { return c.center; })
                .filter(function (value, index, arr) { return value && arr.indexOf(value) === index; });
            _this.centerFS.initOptions(centers, "center");
            _this.applyFilterSelections(replaceUrl);
        });
        this.childrenService
            .getAttendances()
            .pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_8__["untilDestroyed"])(this))
            .subscribe(function (results) { return _this.prepareAttendanceData(results); });
    };
    /*
    private initCenterFilterOptions(centersWithProbability: string[]) {
      const options = [{key: '', label: 'All', filterFun: (c: Child) => true}];
  
      centersWithProbability.forEach(center => {
        options.push({key: center.toLowerCase(), label: center, filterFun: (c: Child) => c.center === center});
      });
  
      this.centerFS.options = options;
    } */
    ChildrenListComponent.prototype.prepareAttendanceData = function (loadedEntities) {
        var _this = this;
        this.attendanceList = new Map();
        loadedEntities.forEach(function (x) {
            if (!_this.attendanceList.has(x.student)) {
                _this.attendanceList.set(x.student, new Array());
            }
            _this.attendanceList.get(x.student).push(x);
        });
        this.attendanceList.forEach(function (studentsAttendance) {
            studentsAttendance.sort(function (a, b) {
                // descending by date
                if (a.month > b.month) {
                    return -1;
                }
                if (a.month < b.month) {
                    return 1;
                }
                return 0;
            });
        });
    };
    ChildrenListComponent.prototype.applyFilter = function (filterValue) {
        filterValue = filterValue.trim();
        filterValue = filterValue.toLowerCase(); // MatTableDataSource defaults to lowercase matches
        this.childrenDataSource.filter = filterValue;
    };
    ChildrenListComponent.prototype.displayColumnGroup = function (columnGroupName) {
        this.columnGroupSelection = columnGroupName;
        var found = false;
        var group;
        var i = 0;
        while (!found && i < this.columnGroups.length) {
            if (this.columnGroups[i].name === columnGroupName) {
                found = true;
                group = this.columnGroups[i];
            }
            i++;
        }
        this.columnsToDisplay = group.columns;
        this.updateUrl();
    };
    ChildrenListComponent.prototype.updateUrl = function (replaceUrl) {
        if (replaceUrl === void 0) { replaceUrl = false; }
        var params = {};
        this.filterSelections.forEach(function (f) {
            params[f.name] = f.selectedOption;
        });
        params["view"] = this.columnGroupSelection;
        this.router.navigate(["child"], {
            queryParams: params,
            replaceUrl: replaceUrl,
        });
    };
    ChildrenListComponent.prototype.applyFilterSelections = function (replaceUrl) {
        if (replaceUrl === void 0) { replaceUrl = false; }
        var filteredData = this.childrenList;
        this.filterSelections.forEach(function (f) {
            filteredData = filteredData.filter(f.getSelectedFilterFunction());
        });
        this.childrenDataSource.data = filteredData;
        this.updateUrl(replaceUrl);
    };
    ChildrenListComponent.ɵfac = function ChildrenListComponent_Factory(t) { return new (t || ChildrenListComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_children_service__WEBPACK_IMPORTED_MODULE_4__["ChildrenService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_flex_layout__WEBPACK_IMPORTED_MODULE_6__["MediaObserver"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_9__["SessionService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_10__["EntityMapperService"])); };
    ChildrenListComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ChildrenListComponent, selectors: [["app-children-list"]], viewQuery: function ChildrenListComponent_Query(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_angular_material_sort__WEBPACK_IMPORTED_MODULE_1__["MatSort"], true);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_angular_material_paginator__WEBPACK_IMPORTED_MODULE_7__["MatPaginator"], true);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c1, true);
        } if (rf & 2) {
            var _t;
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.sort = _t.first);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.paginator = _t.first);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.schoolCell = _t.first);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.coachingCell = _t.first);
        } }, decls: 108, vars: 18, consts: [["expanded", "true", "fxLayout", "column wrap", "fxLayoutGap", "10px", 1, "filter-panel"], ["fxLayout", "row", "fxLayoutGap", "10px", "fxLayoutAlign", "none end"], ["fxFlex", "50"], [2, "width", "100%"], ["matInput", "", "placeholder", "Filter", 3, "ngModel", "ngModelChange"], ["mat-icon-button", "", "matSuffix", "", "aria-label", "Clear", 3, "click", 4, "ngIf"], ["fxFlex", "25", "fxHide.xs", "true", 1, "align-form-field"], ["fxFlex", "25", 1, "align-form-field"], ["mat-stroked-button", "", "color", "accent", "angulartics2On", "click", "angularticsCategory", "UserAction", "angularticsAction", "children_list_add_new", 3, "routerLink"], ["aria-label", "add child", "fontIcon", "fa-plus-circle", 1, "button-icon"], ["fxHide.lt-md", "true"], ["format", "csv", "filename", "ChildrenList", "angulartics2On", "click", "angularticsCategory", "UserAction", "angularticsAction", "children_list_csv_export", 3, "data"], ["aria-label", "download csv", "fontIcon", "fa-download", 1, "button-icon"], ["fxLayout", "row wrap", "fxLayoutGap", "10px", "fxHide.lt-sm", "", 1, "filter-button"], ["name", "columnSelection", "fxLayout", "row wrap", 3, "value", "valueChange"], [3, "value", "click", 4, "ngFor", "ngForOf"], [3, "name", "value", 4, "ngFor", "ngForOf"], ["fxLayout", "row wrap", "fxHide.gt-xs", ""], ["style", "padding-right: 1%;", 4, "ngFor", "ngForOf"], [1, "mat-elevation-z8", "table-list"], ["mat-table", "", "matSort", "", 2, "width", "100%", 3, "dataSource"], ["matColumnDef", "projectNumber"], ["mat-header-cell", "", "mat-sort-header", "", 4, "matHeaderCellDef"], ["mat-cell", "", 4, "matCellDef"], ["matColumnDef", "name"], ["matColumnDef", "age"], ["matColumnDef", "dateOfBirth"], ["matColumnDef", "gender"], ["matColumnDef", "schoolClass"], ["matColumnDef", "schoolId"], ["matColumnDef", "attendance-school"], ["mat-header-cell", "", 4, "matHeaderCellDef"], ["mat-cell", "", "class", "cell-with-blocks", 4, "matCellDef"], ["matColumnDef", "attendance-coaching"], ["matColumnDef", "center"], ["matColumnDef", "status"], ["matColumnDef", "admissionDate"], ["matColumnDef", "motherTongue"], ["matColumnDef", "has_aadhar"], ["matColumnDef", "has_bankAccount"], ["matColumnDef", "has_kanyashree"], ["matColumnDef", "has_rationCard"], ["matColumnDef", "has_bplCard"], ["matColumnDef", "health_vaccinationStatus"], ["matColumnDef", "health_bloodGroup"], ["matColumnDef", "health_eyeHealthStatus"], ["matColumnDef", "health_LastEyeCheckup"], ["matColumnDef", "health_LastDentalCheckup"], ["matColumnDef", "health_LastENTCheckup"], ["matColumnDef", "health_LastVitaminD"], ["matColumnDef", "health_LastDeworming"], ["mat-header-row", "", 4, "matHeaderRowDef"], ["mat-row", "", "style", "cursor: pointer;", "class", "table-list-item", 3, "routerLink", 4, "matRowDef", "matRowDefColumns"], [3, "pageSize", "pageIndex", "pageSizeOptions", "showFirstLastButtons", "page"], ["mat-icon-button", "", "matSuffix", "", "aria-label", "Clear", 3, "click"], ["fontIcon", "fa-times"], [3, "value", "click"], [3, "name", "value"], [2, "padding-right", "1%"], ["placeholder", "filterSelection.name", 3, "id", "value"], ["mat-header-cell", "", "mat-sort-header", ""], ["mat-cell", ""], [3, "entity"], [3, "entityId"], ["mat-header-cell", ""], ["attendanceSchoolCell", ""], ["mat-cell", "", 1, "cell-with-blocks"], [3, "attendanceData", 4, "ngFor", "ngForOf"], [3, "attendanceData"], ["attendanceCoachingCell", ""], ["mat-header-row", ""], ["mat-row", "", 1, "table-list-item", 2, "cursor", "pointer", 3, "routerLink"]], template: function ChildrenListComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "h1");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Children List");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "mat-expansion-panel", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "mat-form-field", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "input", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function ChildrenListComponent_Template_input_ngModelChange_6_listener($event) { return ctx.applyFilter($event); })("ngModelChange", function ChildrenListComponent_Template_input_ngModelChange_6_listener($event) { return ctx.filterString = $event; });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, ChildrenListComponent_button_7_Template, 2, 0, "button", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "div", 7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "button", 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](12, "mat-icon", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "span", 10);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](14, " Add New ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "app-export-data", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](16, "mat-icon", 12);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "span", 10);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](18, " Download CSV ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](19, "div", 13);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](20, "mat-button-toggle-group", 14);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("valueChange", function ChildrenListComponent_Template_mat_button_toggle_group_valueChange_20_listener($event) { return ctx.columnGroupSelection = $event; });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](21, ChildrenListComponent_mat_button_toggle_21_Template, 2, 2, "mat-button-toggle", 15);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](22, ChildrenListComponent_mat_button_toggle_group_22_Template, 2, 3, "mat-button-toggle-group", 16);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](23, "div", 17);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](24, ChildrenListComponent_mat_form_field_24_Template, 5, 4, "mat-form-field", 18);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](25, "div", 19);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](26, "table", 20);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](27, 21);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](28, ChildrenListComponent_th_28_Template, 2, 0, "th", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](29, ChildrenListComponent_td_29_Template, 2, 1, "td", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](30, 24);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](31, ChildrenListComponent_th_31_Template, 2, 0, "th", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](32, ChildrenListComponent_td_32_Template, 2, 1, "td", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](33, 25);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](34, ChildrenListComponent_th_34_Template, 2, 0, "th", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](35, ChildrenListComponent_td_35_Template, 2, 1, "td", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](36, 26);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](37, ChildrenListComponent_th_37_Template, 2, 0, "th", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](38, ChildrenListComponent_td_38_Template, 3, 4, "td", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](39, 27);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](40, ChildrenListComponent_th_40_Template, 2, 0, "th", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](41, ChildrenListComponent_td_41_Template, 2, 1, "td", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](42, 28);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](43, ChildrenListComponent_th_43_Template, 2, 0, "th", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](44, ChildrenListComponent_td_44_Template, 2, 1, "td", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](45, 29);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](46, ChildrenListComponent_th_46_Template, 2, 0, "th", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](47, ChildrenListComponent_td_47_Template, 2, 1, "td", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](48, 30);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](49, ChildrenListComponent_th_49_Template, 3, 0, "th", 31);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](50, ChildrenListComponent_td_50_Template, 4, 9, "td", 32);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](51, 33);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](52, ChildrenListComponent_th_52_Template, 3, 0, "th", 31);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](53, ChildrenListComponent_td_53_Template, 4, 9, "td", 32);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](54, 34);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](55, ChildrenListComponent_th_55_Template, 2, 0, "th", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](56, ChildrenListComponent_td_56_Template, 2, 1, "td", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](57, 35);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](58, ChildrenListComponent_th_58_Template, 2, 0, "th", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](59, ChildrenListComponent_td_59_Template, 2, 1, "td", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](60, 36);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](61, ChildrenListComponent_th_61_Template, 2, 0, "th", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](62, ChildrenListComponent_td_62_Template, 2, 1, "td", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](63, 37);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](64, ChildrenListComponent_th_64_Template, 2, 0, "th", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](65, ChildrenListComponent_td_65_Template, 2, 1, "td", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](66, 38);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](67, ChildrenListComponent_th_67_Template, 2, 0, "th", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](68, ChildrenListComponent_td_68_Template, 2, 1, "td", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](69, 39);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](70, ChildrenListComponent_th_70_Template, 2, 0, "th", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](71, ChildrenListComponent_td_71_Template, 2, 1, "td", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](72, 40);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](73, ChildrenListComponent_th_73_Template, 2, 0, "th", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](74, ChildrenListComponent_td_74_Template, 2, 1, "td", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](75, 41);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](76, ChildrenListComponent_th_76_Template, 2, 0, "th", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](77, ChildrenListComponent_td_77_Template, 2, 1, "td", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](78, 42);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](79, ChildrenListComponent_th_79_Template, 2, 0, "th", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](80, ChildrenListComponent_td_80_Template, 2, 1, "td", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](81, 43);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](82, ChildrenListComponent_th_82_Template, 2, 0, "th", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](83, ChildrenListComponent_td_83_Template, 2, 1, "td", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](84, 44);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](85, ChildrenListComponent_th_85_Template, 2, 0, "th", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](86, ChildrenListComponent_td_86_Template, 2, 1, "td", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](87, 45);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](88, ChildrenListComponent_th_88_Template, 2, 0, "th", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](89, ChildrenListComponent_td_89_Template, 2, 1, "td", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](90, 46);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](91, ChildrenListComponent_th_91_Template, 2, 0, "th", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](92, ChildrenListComponent_td_92_Template, 2, 1, "td", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](93, 47);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](94, ChildrenListComponent_th_94_Template, 2, 0, "th", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](95, ChildrenListComponent_td_95_Template, 2, 1, "td", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](96, 48);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](97, ChildrenListComponent_th_97_Template, 2, 0, "th", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](98, ChildrenListComponent_td_98_Template, 2, 1, "td", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](99, 49);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](100, ChildrenListComponent_th_100_Template, 2, 0, "th", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](101, ChildrenListComponent_td_101_Template, 2, 1, "td", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](102, 50);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](103, ChildrenListComponent_th_103_Template, 2, 0, "th", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](104, ChildrenListComponent_td_104_Template, 2, 1, "td", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](105, ChildrenListComponent_tr_105_Template, 1, 0, "tr", 51);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](106, ChildrenListComponent_tr_106_Template, 1, 3, "tr", 52);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](107, "mat-paginator", 53);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("page", function ChildrenListComponent_Template_mat_paginator_page_107_listener($event) { return ctx.onPaginateChange($event); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx.filterString);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.filterString);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" (Showing ", ctx.childrenDataSource.filteredData.length, " children) ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](16, _c5));
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("data", ctx.childrenList);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", ctx.columnGroupSelection);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.columnGroups);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.filterSelections);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.filterSelections);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("dataSource", ctx.childrenDataSource);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](79);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matHeaderRowDef", ctx.columnsToDisplay);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matRowDefColumns", ctx.columnsToDisplay);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("pageSize", ctx.paginatorPageSize)("pageIndex", ctx.paginatorPageIndex)("pageSizeOptions", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](17, _c6))("showFirstLastButtons", true);
        } }, directives: [_angular_material_expansion__WEBPACK_IMPORTED_MODULE_11__["MatExpansionPanel"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_12__["DefaultLayoutDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_12__["DefaultLayoutGapDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_12__["DefaultLayoutAlignDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_12__["DefaultFlexDirective"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_13__["MatFormField"], _angular_material_input__WEBPACK_IMPORTED_MODULE_14__["MatInput"], _angular_forms__WEBPACK_IMPORTED_MODULE_15__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_15__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_15__["NgModel"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["NgIf"], _angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_17__["DefaultShowHideDirective"], _angular_material_button__WEBPACK_IMPORTED_MODULE_18__["MatButton"], angulartics2__WEBPACK_IMPORTED_MODULE_19__["Angulartics2On"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterLink"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_20__["MatIcon"], _core_admin_export_data_export_data_component__WEBPACK_IMPORTED_MODULE_21__["ExportDataComponent"], _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_22__["MatButtonToggleGroup"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["NgForOf"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatTable"], _angular_material_sort__WEBPACK_IMPORTED_MODULE_1__["MatSort"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatColumnDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatHeaderCellDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatCellDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatHeaderRowDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatRowDef"], _angular_material_paginator__WEBPACK_IMPORTED_MODULE_7__["MatPaginator"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_13__["MatSuffix"], _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_22__["MatButtonToggle"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_13__["MatLabel"], _angular_material_select__WEBPACK_IMPORTED_MODULE_23__["MatSelect"], _angular_material_core__WEBPACK_IMPORTED_MODULE_24__["MatOption"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatHeaderCell"], _angular_material_sort__WEBPACK_IMPORTED_MODULE_1__["MatSortHeader"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatCell"], _child_block_child_block_component__WEBPACK_IMPORTED_MODULE_25__["ChildBlockComponent"], _schools_school_block_school_block_component__WEBPACK_IMPORTED_MODULE_26__["SchoolBlockComponent"], _attendance_attendance_block_attendance_block_component__WEBPACK_IMPORTED_MODULE_27__["AttendanceBlockComponent"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatHeaderRow"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatRow"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_16__["DatePipe"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["SlicePipe"], ngx_filter_pipe__WEBPACK_IMPORTED_MODULE_28__["FilterPipe"]], styles: [".table-list[_ngcontent-%COMP%] {\n  margin-top: 10px;\n}\n\n.table-list[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n  padding-left: 8px;\n}\n\n.table-list-item[_ngcontent-%COMP%]:hover {\n  background: #f5f5f5;\n}\n\n.button-icon[_ngcontent-%COMP%] {\n  font-size: 1.5em;\n  margin-right: 5px;\n}\n\n.filter-panel[_ngcontent-%COMP%] {\n  padding-top: 10px;\n}\n\n.align-form-field[_ngcontent-%COMP%] {\n  padding-bottom: 1.25em;\n}\n\n.cell-with-blocks[_ngcontent-%COMP%] {\n  white-space: nowrap;\n  overflow: hidden;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvY2hpbGRyZW4vY2hpbGRyZW4tbGlzdC9jaGlsZHJlbi1saXN0LmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jaGlsZC1kZXYtcHJvamVjdC9jaGlsZHJlbi9jaGlsZHJlbi1saXN0L2NoaWxkcmVuLWxpc3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7QUNDRjs7QURFQTtFQUNFLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQkFBQTtFQUNBLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtBQ0NGOztBREVBO0VBQ0Usc0JBQUE7QUNDRjs7QURFQTtFQUNFLG1CQUFBO0VBQ0EsZ0JBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL2NoaWxkLWRldi1wcm9qZWN0L2NoaWxkcmVuL2NoaWxkcmVuLWxpc3QvY2hpbGRyZW4tbGlzdC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi50YWJsZS1saXN0IHtcbiAgbWFyZ2luLXRvcDogMTBweDtcbn1cblxuLnRhYmxlLWxpc3QgdGQge1xuICBwYWRkaW5nLWxlZnQ6IDhweDtcbn1cblxuLnRhYmxlLWxpc3QtaXRlbTpob3ZlcntcbiAgYmFja2dyb3VuZDogI2Y1ZjVmNTtcbn1cblxuLmJ1dHRvbi1pY29uIHtcbiAgZm9udC1zaXplOiAxLjVlbTtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG59XG5cbi5maWx0ZXItcGFuZWwge1xuICBwYWRkaW5nLXRvcDogMTBweDtcbn1cblxuLmFsaWduLWZvcm0tZmllbGQge1xuICBwYWRkaW5nLWJvdHRvbTogMS4yNWVtO1xufVxuXG4uY2VsbC13aXRoLWJsb2NrcyB7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG4iLCIudGFibGUtbGlzdCB7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG59XG5cbi50YWJsZS1saXN0IHRkIHtcbiAgcGFkZGluZy1sZWZ0OiA4cHg7XG59XG5cbi50YWJsZS1saXN0LWl0ZW06aG92ZXIge1xuICBiYWNrZ3JvdW5kOiAjZjVmNWY1O1xufVxuXG4uYnV0dG9uLWljb24ge1xuICBmb250LXNpemU6IDEuNWVtO1xuICBtYXJnaW4tcmlnaHQ6IDVweDtcbn1cblxuLmZpbHRlci1wYW5lbCB7XG4gIHBhZGRpbmctdG9wOiAxMHB4O1xufVxuXG4uYWxpZ24tZm9ybS1maWVsZCB7XG4gIHBhZGRpbmctYm90dG9tOiAxLjI1ZW07XG59XG5cbi5jZWxsLXdpdGgtYmxvY2tzIHtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn0iXX0= */"] });
    ChildrenListComponent = __decorate([
        Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_8__["UntilDestroy"])(),
        __metadata("design:paramtypes", [_children_service__WEBPACK_IMPORTED_MODULE_4__["ChildrenService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"],
            _angular_flex_layout__WEBPACK_IMPORTED_MODULE_6__["MediaObserver"],
            _core_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_9__["SessionService"],
            _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_10__["EntityMapperService"]])
    ], ChildrenListComponent);
    return ChildrenListComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ChildrenListComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-children-list",
                templateUrl: "./children-list.component.html",
                styleUrls: ["./children-list.component.scss"],
            }]
    }], function () { return [{ type: _children_service__WEBPACK_IMPORTED_MODULE_4__["ChildrenService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"] }, { type: _angular_flex_layout__WEBPACK_IMPORTED_MODULE_6__["MediaObserver"] }, { type: _core_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_9__["SessionService"] }, { type: _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_10__["EntityMapperService"] }]; }, { sort: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: [_angular_material_sort__WEBPACK_IMPORTED_MODULE_1__["MatSort"]]
        }], paginator: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: [_angular_material_paginator__WEBPACK_IMPORTED_MODULE_7__["MatPaginator"]]
        }], schoolCell: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["attendanceSchoolCell"]
        }], coachingCell: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["attendanceCoachingCell"]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/children/children.module.ts":
/*!***************************************************************!*\
  !*** ./src/app/child-dev-project/children/children.module.ts ***!
  \***************************************************************/
/*! exports provided: ChildrenModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChildrenModule", function() { return ChildrenModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _child_details_child_details_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./child-details/child-details.component */ "./src/app/child-dev-project/children/child-details/child-details.component.ts");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_select__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/select */ "./node_modules/@angular/material/fesm5/select.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_material_expansion__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/expansion */ "./node_modules/@angular/material/fesm5/expansion.js");
/* harmony import */ var _children_list_children_list_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./children-list/children-list.component */ "./src/app/child-dev-project/children/children-list/children-list.component.ts");
/* harmony import */ var _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/autocomplete */ "./node_modules/@angular/material/fesm5/autocomplete.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/button-toggle */ "./node_modules/@angular/material/fesm5/button-toggle.js");
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/card */ "./node_modules/@angular/material/fesm5/card.js");
/* harmony import */ var _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/checkbox */ "./node_modules/@angular/material/fesm5/checkbox.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/fesm5/dialog.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_material_list__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/list */ "./node_modules/@angular/material/fesm5/list.js");
/* harmony import */ var _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/progress-bar */ "./node_modules/@angular/material/fesm5/progress-bar.js");
/* harmony import */ var _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/sidenav */ "./node_modules/@angular/material/fesm5/sidenav.js");
/* harmony import */ var _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/snack-bar */ "./node_modules/@angular/material/fesm5/snack-bar.js");
/* harmony import */ var _angular_material_sort__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/material/sort */ "./node_modules/@angular/material/fesm5/sort.js");
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/material/table */ "./node_modules/@angular/material/fesm5/table.js");
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/material/tooltip */ "./node_modules/@angular/material/fesm5/tooltip.js");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var _children_service__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./children.service */ "./src/app/child-dev-project/children/children.service.ts");
/* harmony import */ var _attendance_attendance_block_attendance_block_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../attendance/attendance-block/attendance-block.component */ "./src/app/child-dev-project/attendance/attendance-block/attendance-block.component.ts");
/* harmony import */ var _attendance_child_attendance_child_attendance_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../attendance/child-attendance/child-attendance.component */ "./src/app/child-dev-project/attendance/child-attendance/child-attendance.component.ts");
/* harmony import */ var _core_entity_subrecord_entity_subrecord_module__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../core/entity-subrecord/entity-subrecord.module */ "./src/app/core/entity-subrecord/entity-subrecord.module.ts");
/* harmony import */ var _child_block_child_block_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./child-block/child-block.component */ "./src/app/child-dev-project/children/child-block/child-block.component.ts");
/* harmony import */ var _children_count_dashboard_children_count_dashboard_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./children-count-dashboard/children-count-dashboard.component */ "./src/app/child-dev-project/children/children-count-dashboard/children-count-dashboard.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _attendance_dashboard_widgets_attendance_average_dashboard_attendance_average_dashboard_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../attendance/dashboard-widgets/attendance-average-dashboard/attendance-average-dashboard.component */ "./src/app/child-dev-project/attendance/dashboard-widgets/attendance-average-dashboard/attendance-average-dashboard.component.ts");
/* harmony import */ var _attendance_dashboard_widgets_attendance_warnings_dashboard_attendance_warnings_dashboard_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../attendance/dashboard-widgets/attendance-warnings-dashboard/attendance-warnings-dashboard.component */ "./src/app/child-dev-project/attendance/dashboard-widgets/attendance-warnings-dashboard/attendance-warnings-dashboard.component.ts");
/* harmony import */ var _notes_notes_of_child_notes_of_child_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../notes/notes-of-child/notes-of-child.component */ "./src/app/child-dev-project/notes/notes-of-child/notes-of-child.component.ts");
/* harmony import */ var _child_select_child_select_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./child-select/child-select.component */ "./src/app/child-dev-project/children/child-select/child-select.component.ts");
/* harmony import */ var _schools_schools_module__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../schools/schools.module */ "./src/app/child-dev-project/schools/schools.module.ts");
/* harmony import */ var _educational_material_educational_material_component_educational_material_component__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../educational-material/educational-material-component/educational-material.component */ "./src/app/child-dev-project/educational-material/educational-material-component/educational-material.component.ts");
/* harmony import */ var _aser_aser_component_aser_component__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../aser/aser-component/aser.component */ "./src/app/child-dev-project/aser/aser-component/aser.component.ts");
/* harmony import */ var ngx_filter_pipe__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ngx-filter-pipe */ "./node_modules/ngx-filter-pipe/esm5/ngx-filter-pipe.js");
/* harmony import */ var _attendance_add_month_attendance_add_month_attendance_component__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../attendance/add-month-attendance/add-month-attendance.component */ "./src/app/child-dev-project/attendance/add-month-attendance/add-month-attendance.component.ts");
/* harmony import */ var _attendance_attendance_days_attendance_days_component__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../attendance/attendance-days/attendance-days.component */ "./src/app/child-dev-project/attendance/attendance-days/attendance-days.component.ts");
/* harmony import */ var _attendance_attendance_details_attendance_details_component__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../attendance/attendance-details/attendance-details.component */ "./src/app/child-dev-project/attendance/attendance-details/attendance-details.component.ts");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _attendance_add_day_attendance_add_day_attendance_component__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../attendance/add-day-attendance/add-day-attendance.component */ "./src/app/child-dev-project/attendance/add-day-attendance/add-day-attendance.component.ts");
/* harmony import */ var _attendance_dashboard_widgets_attendance_week_dashboard_attendance_week_dashboard_component__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../attendance/dashboard-widgets/attendance-week-dashboard/attendance-week-dashboard.component */ "./src/app/child-dev-project/attendance/dashboard-widgets/attendance-week-dashboard/attendance-week-dashboard.component.ts");
/* harmony import */ var _notes_dashboard_widgets_no_recent_notes_dashboard_no_recent_notes_dashboard_component__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../notes/dashboard-widgets/no-recent-notes-dashboard/no-recent-notes-dashboard.component */ "./src/app/child-dev-project/notes/dashboard-widgets/no-recent-notes-dashboard/no-recent-notes-dashboard.component.ts");
/* harmony import */ var _attendance_attendance_days_attendance_day_block_component__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../attendance/attendance-days/attendance-day-block.component */ "./src/app/child-dev-project/attendance/attendance-days/attendance-day-block.component.ts");
/* harmony import */ var _attendance_attendance_manager_attendance_manager_component__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../attendance/attendance-manager/attendance-manager.component */ "./src/app/child-dev-project/attendance/attendance-manager/attendance-manager.component.ts");
/* harmony import */ var _health_checkup_health_checkup_component_health_checkup_component__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../health-checkup/health-checkup-component/health-checkup.component */ "./src/app/child-dev-project/health-checkup/health-checkup-component/health-checkup.component.ts");
/* harmony import */ var _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! @angular/material/datepicker */ "./node_modules/@angular/material/fesm5/datepicker.js");
/* harmony import */ var _previous_schools_previous_schools_component__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ../previous-schools/previous-schools.component */ "./src/app/child-dev-project/previous-schools/previous-schools.component.ts");
/* harmony import */ var app_core_webdav_webdav_module__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! app/core/webdav/webdav.module */ "./src/app/core/webdav/webdav.module.ts");
/* harmony import */ var _core_admin_admin_module__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ../../core/admin/admin.module */ "./src/app/core/admin/admin.module.ts");
/* harmony import */ var _select_group_children_select_group_children_component__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./select-group-children/select-group-children.component */ "./src/app/child-dev-project/children/select-group-children/select-group-children.component.ts");
/* harmony import */ var _attendance_add_day_attendance_roll_call_roll_call_component__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ../attendance/add-day-attendance/roll-call/roll-call.component */ "./src/app/child-dev-project/attendance/add-day-attendance/roll-call/roll-call.component.ts");
/* harmony import */ var _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! @angular/material/progress-spinner */ "./node_modules/@angular/material/fesm5/progress-spinner.js");
/* harmony import */ var _notes_dashboard_widgets_recent_notes_dashboard_recent_notes_dashboard_component__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ../notes/dashboard-widgets/recent-notes-dashboard/recent-notes-dashboard.component */ "./src/app/child-dev-project/notes/dashboard-widgets/recent-notes-dashboard/recent-notes-dashboard.component.ts");
/* harmony import */ var _core_form_dialog_form_dialog_module__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ../../core/form-dialog/form-dialog.module */ "./src/app/core/form-dialog/form-dialog.module.ts");
/* harmony import */ var _core_confirmation_dialog_confirmation_dialog_module__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ../../core/confirmation-dialog/confirmation-dialog.module */ "./src/app/core/confirmation-dialog/confirmation-dialog.module.ts");
/* harmony import */ var _conflict_resolution_auto_resolution_conflict_resolution_strategy__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ../../conflict-resolution/auto-resolution/conflict-resolution-strategy */ "./src/app/conflict-resolution/auto-resolution/conflict-resolution-strategy.ts");
/* harmony import */ var _attendance_attendance_month_conflict_resolution_strategy__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ../attendance/attendance-month-conflict-resolution-strategy */ "./src/app/child-dev-project/attendance/attendance-month-conflict-resolution-strategy.ts");
/* harmony import */ var _angular_material_paginator__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! @angular/material/paginator */ "./node_modules/@angular/material/fesm5/paginator.js");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm2015/angulartics2.js");
/* harmony import */ var _attendance_attendance_analysis_attendance_analysis_component__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ../attendance/attendance-analysis/attendance-analysis.component */ "./src/app/child-dev-project/attendance/attendance-analysis/attendance-analysis.component.ts");
/* harmony import */ var _child_details_grouped_child_attendance_grouped_child_attendance_component__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ./child-details/grouped-child-attendance/grouped-child-attendance.component */ "./src/app/child-dev-project/children/child-details/grouped-child-attendance/grouped-child-attendance.component.ts");
/* harmony import */ var _child_details_health_form_health_form_component__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ./child-details/health-form/health-form.component */ "./src/app/child-dev-project/children/child-details/health-form/health-form.component.ts");
/* harmony import */ var _child_details_dropout_form_dropout_form_component__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ./child-details/dropout-form/dropout-form.component */ "./src/app/child-dev-project/children/child-details/dropout-form/dropout-form.component.ts");
/* harmony import */ var _child_details_basic_info_basic_info_component__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ./child-details/basic-info/basic-info.component */ "./src/app/child-dev-project/children/child-details/basic-info/basic-info.component.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */





































































var ChildrenModule = /** @class */ (function () {
    function ChildrenModule() {
    }
    ChildrenModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: ChildrenModule });
    ChildrenModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function ChildrenModule_Factory(t) { return new (t || ChildrenModule)(); }, providers: [
            _children_service__WEBPACK_IMPORTED_MODULE_23__["ChildrenService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["DatePipe"],
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["PercentPipe"],
            {
                provide: _conflict_resolution_auto_resolution_conflict_resolution_strategy__WEBPACK_IMPORTED_MODULE_59__["CONFLICT_RESOLUTION_STRATEGY"],
                useClass: _attendance_attendance_month_conflict_resolution_strategy__WEBPACK_IMPORTED_MODULE_60__["AttendanceMonthConflictResolutionStrategy"],
                multi: true,
            },
        ], imports: [[
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_29__["FormsModule"],
                _angular_flex_layout__WEBPACK_IMPORTED_MODULE_22__["FlexLayoutModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_30__["RouterModule"],
                _angular_material_form_field__WEBPACK_IMPORTED_MODULE_3__["MatFormFieldModule"],
                _angular_material_input__WEBPACK_IMPORTED_MODULE_5__["MatInputModule"],
                _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_12__["MatCheckboxModule"],
                _angular_material_select__WEBPACK_IMPORTED_MODULE_4__["MatSelectModule"],
                _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_49__["MatDatepickerModule"],
                _angular_material_expansion__WEBPACK_IMPORTED_MODULE_6__["MatExpansionModule"],
                _angular_material_table__WEBPACK_IMPORTED_MODULE_20__["MatTableModule"],
                _angular_material_paginator__WEBPACK_IMPORTED_MODULE_61__["MatPaginatorModule"],
                _angular_material_sort__WEBPACK_IMPORTED_MODULE_19__["MatSortModule"],
                _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_17__["MatSidenavModule"],
                _angular_material_button__WEBPACK_IMPORTED_MODULE_9__["MatButtonModule"],
                _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_10__["MatButtonToggleModule"],
                _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__["MatIconModule"],
                _angular_material_card__WEBPACK_IMPORTED_MODULE_11__["MatCardModule"],
                _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_18__["MatSnackBarModule"],
                _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_16__["MatProgressBarModule"],
                _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_8__["MatAutocompleteModule"],
                _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_21__["MatTooltipModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_42__["BrowserAnimationsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_29__["ReactiveFormsModule"],
                ngx_filter_pipe__WEBPACK_IMPORTED_MODULE_38__["FilterPipeModule"],
                _core_entity_subrecord_entity_subrecord_module__WEBPACK_IMPORTED_MODULE_26__["EntitySubrecordModule"],
                _schools_schools_module__WEBPACK_IMPORTED_MODULE_35__["SchoolsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_29__["ReactiveFormsModule"],
                _angular_material_dialog__WEBPACK_IMPORTED_MODULE_13__["MatDialogModule"],
                _core_admin_admin_module__WEBPACK_IMPORTED_MODULE_52__["AdminModule"],
                _angular_material_list__WEBPACK_IMPORTED_MODULE_15__["MatListModule"],
                app_core_webdav_webdav_module__WEBPACK_IMPORTED_MODULE_51__["WebdavModule"],
                _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_55__["MatProgressSpinnerModule"],
                _core_confirmation_dialog_confirmation_dialog_module__WEBPACK_IMPORTED_MODULE_58__["ConfirmationDialogModule"],
                _core_form_dialog_form_dialog_module__WEBPACK_IMPORTED_MODULE_57__["FormDialogModule"],
                angulartics2__WEBPACK_IMPORTED_MODULE_62__["Angulartics2Module"],
            ]] });
    return ChildrenModule;
}());

(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](ChildrenModule, { declarations: [_attendance_attendance_block_attendance_block_component__WEBPACK_IMPORTED_MODULE_24__["AttendanceBlockComponent"],
        _child_block_child_block_component__WEBPACK_IMPORTED_MODULE_27__["ChildBlockComponent"],
        _attendance_child_attendance_child_attendance_component__WEBPACK_IMPORTED_MODULE_25__["ChildAttendanceComponent"],
        _notes_notes_of_child_notes_of_child_component__WEBPACK_IMPORTED_MODULE_33__["NotesOfChildComponent"],
        _child_details_child_details_component__WEBPACK_IMPORTED_MODULE_2__["ChildDetailsComponent"],
        _children_list_children_list_component__WEBPACK_IMPORTED_MODULE_7__["ChildrenListComponent"],
        _children_count_dashboard_children_count_dashboard_component__WEBPACK_IMPORTED_MODULE_28__["ChildrenCountDashboardComponent"],
        _attendance_dashboard_widgets_attendance_average_dashboard_attendance_average_dashboard_component__WEBPACK_IMPORTED_MODULE_31__["AttendanceAverageDashboardComponent"],
        _attendance_dashboard_widgets_attendance_warnings_dashboard_attendance_warnings_dashboard_component__WEBPACK_IMPORTED_MODULE_32__["AttendanceWarningsDashboardComponent"],
        _child_select_child_select_component__WEBPACK_IMPORTED_MODULE_34__["ChildSelectComponent"],
        _educational_material_educational_material_component_educational_material_component__WEBPACK_IMPORTED_MODULE_36__["EducationalMaterialComponent"],
        _aser_aser_component_aser_component__WEBPACK_IMPORTED_MODULE_37__["AserComponent"],
        _attendance_add_month_attendance_add_month_attendance_component__WEBPACK_IMPORTED_MODULE_39__["AddMonthAttendanceComponent"],
        _attendance_attendance_days_attendance_day_block_component__WEBPACK_IMPORTED_MODULE_46__["AttendanceDayBlockComponent"],
        _attendance_attendance_days_attendance_days_component__WEBPACK_IMPORTED_MODULE_40__["AttendanceDaysComponent"],
        _attendance_attendance_details_attendance_details_component__WEBPACK_IMPORTED_MODULE_41__["AttendanceDetailsComponent"],
        _attendance_add_day_attendance_add_day_attendance_component__WEBPACK_IMPORTED_MODULE_43__["AddDayAttendanceComponent"],
        _attendance_add_day_attendance_roll_call_roll_call_component__WEBPACK_IMPORTED_MODULE_54__["RollCallComponent"],
        _select_group_children_select_group_children_component__WEBPACK_IMPORTED_MODULE_53__["SelectGroupChildrenComponent"],
        _attendance_dashboard_widgets_attendance_week_dashboard_attendance_week_dashboard_component__WEBPACK_IMPORTED_MODULE_44__["AttendanceWeekDashboardComponent"],
        _notes_dashboard_widgets_no_recent_notes_dashboard_no_recent_notes_dashboard_component__WEBPACK_IMPORTED_MODULE_45__["NoRecentNotesDashboardComponent"],
        _notes_dashboard_widgets_recent_notes_dashboard_recent_notes_dashboard_component__WEBPACK_IMPORTED_MODULE_56__["RecentNotesDashboardComponent"],
        _attendance_attendance_manager_attendance_manager_component__WEBPACK_IMPORTED_MODULE_47__["AttendanceManagerComponent"],
        _attendance_attendance_analysis_attendance_analysis_component__WEBPACK_IMPORTED_MODULE_63__["AttendanceAnalysisComponent"],
        _health_checkup_health_checkup_component_health_checkup_component__WEBPACK_IMPORTED_MODULE_48__["HealthCheckupComponent"],
        _previous_schools_previous_schools_component__WEBPACK_IMPORTED_MODULE_50__["PreviousSchoolsComponent"],
        _child_details_grouped_child_attendance_grouped_child_attendance_component__WEBPACK_IMPORTED_MODULE_64__["GroupedChildAttendanceComponent"],
        _child_details_health_form_health_form_component__WEBPACK_IMPORTED_MODULE_65__["HealthFormComponent"],
        _child_details_dropout_form_dropout_form_component__WEBPACK_IMPORTED_MODULE_66__["DropoutFormComponent"],
        _child_details_basic_info_basic_info_component__WEBPACK_IMPORTED_MODULE_67__["BasicInfoComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_29__["FormsModule"],
        _angular_flex_layout__WEBPACK_IMPORTED_MODULE_22__["FlexLayoutModule"],
        _angular_router__WEBPACK_IMPORTED_MODULE_30__["RouterModule"],
        _angular_material_form_field__WEBPACK_IMPORTED_MODULE_3__["MatFormFieldModule"],
        _angular_material_input__WEBPACK_IMPORTED_MODULE_5__["MatInputModule"],
        _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_12__["MatCheckboxModule"],
        _angular_material_select__WEBPACK_IMPORTED_MODULE_4__["MatSelectModule"],
        _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_49__["MatDatepickerModule"],
        _angular_material_expansion__WEBPACK_IMPORTED_MODULE_6__["MatExpansionModule"],
        _angular_material_table__WEBPACK_IMPORTED_MODULE_20__["MatTableModule"],
        _angular_material_paginator__WEBPACK_IMPORTED_MODULE_61__["MatPaginatorModule"],
        _angular_material_sort__WEBPACK_IMPORTED_MODULE_19__["MatSortModule"],
        _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_17__["MatSidenavModule"],
        _angular_material_button__WEBPACK_IMPORTED_MODULE_9__["MatButtonModule"],
        _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_10__["MatButtonToggleModule"],
        _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__["MatIconModule"],
        _angular_material_card__WEBPACK_IMPORTED_MODULE_11__["MatCardModule"],
        _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_18__["MatSnackBarModule"],
        _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_16__["MatProgressBarModule"],
        _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_8__["MatAutocompleteModule"],
        _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_21__["MatTooltipModule"],
        _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_42__["BrowserAnimationsModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_29__["ReactiveFormsModule"],
        ngx_filter_pipe__WEBPACK_IMPORTED_MODULE_38__["FilterPipeModule"],
        _core_entity_subrecord_entity_subrecord_module__WEBPACK_IMPORTED_MODULE_26__["EntitySubrecordModule"],
        _schools_schools_module__WEBPACK_IMPORTED_MODULE_35__["SchoolsModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_29__["ReactiveFormsModule"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_13__["MatDialogModule"],
        _core_admin_admin_module__WEBPACK_IMPORTED_MODULE_52__["AdminModule"],
        _angular_material_list__WEBPACK_IMPORTED_MODULE_15__["MatListModule"],
        app_core_webdav_webdav_module__WEBPACK_IMPORTED_MODULE_51__["WebdavModule"],
        _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_55__["MatProgressSpinnerModule"],
        _core_confirmation_dialog_confirmation_dialog_module__WEBPACK_IMPORTED_MODULE_58__["ConfirmationDialogModule"],
        _core_form_dialog_form_dialog_module__WEBPACK_IMPORTED_MODULE_57__["FormDialogModule"],
        angulartics2__WEBPACK_IMPORTED_MODULE_62__["Angulartics2Module"]], exports: [_child_block_child_block_component__WEBPACK_IMPORTED_MODULE_27__["ChildBlockComponent"],
        _child_select_child_select_component__WEBPACK_IMPORTED_MODULE_34__["ChildSelectComponent"],
        _children_count_dashboard_children_count_dashboard_component__WEBPACK_IMPORTED_MODULE_28__["ChildrenCountDashboardComponent"],
        _attendance_dashboard_widgets_attendance_average_dashboard_attendance_average_dashboard_component__WEBPACK_IMPORTED_MODULE_31__["AttendanceAverageDashboardComponent"],
        _attendance_dashboard_widgets_attendance_warnings_dashboard_attendance_warnings_dashboard_component__WEBPACK_IMPORTED_MODULE_32__["AttendanceWarningsDashboardComponent"],
        _attendance_dashboard_widgets_attendance_warnings_dashboard_attendance_warnings_dashboard_component__WEBPACK_IMPORTED_MODULE_32__["AttendanceWarningsDashboardComponent"],
        _attendance_dashboard_widgets_attendance_week_dashboard_attendance_week_dashboard_component__WEBPACK_IMPORTED_MODULE_44__["AttendanceWeekDashboardComponent"],
        _notes_dashboard_widgets_no_recent_notes_dashboard_no_recent_notes_dashboard_component__WEBPACK_IMPORTED_MODULE_45__["NoRecentNotesDashboardComponent"],
        _notes_dashboard_widgets_recent_notes_dashboard_recent_notes_dashboard_component__WEBPACK_IMPORTED_MODULE_56__["RecentNotesDashboardComponent"],
        _attendance_attendance_days_attendance_days_component__WEBPACK_IMPORTED_MODULE_40__["AttendanceDaysComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ChildrenModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_29__["FormsModule"],
                    _angular_flex_layout__WEBPACK_IMPORTED_MODULE_22__["FlexLayoutModule"],
                    _angular_router__WEBPACK_IMPORTED_MODULE_30__["RouterModule"],
                    _angular_material_form_field__WEBPACK_IMPORTED_MODULE_3__["MatFormFieldModule"],
                    _angular_material_input__WEBPACK_IMPORTED_MODULE_5__["MatInputModule"],
                    _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_12__["MatCheckboxModule"],
                    _angular_material_select__WEBPACK_IMPORTED_MODULE_4__["MatSelectModule"],
                    _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_49__["MatDatepickerModule"],
                    _angular_material_expansion__WEBPACK_IMPORTED_MODULE_6__["MatExpansionModule"],
                    _angular_material_table__WEBPACK_IMPORTED_MODULE_20__["MatTableModule"],
                    _angular_material_paginator__WEBPACK_IMPORTED_MODULE_61__["MatPaginatorModule"],
                    _angular_material_sort__WEBPACK_IMPORTED_MODULE_19__["MatSortModule"],
                    _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_17__["MatSidenavModule"],
                    _angular_material_button__WEBPACK_IMPORTED_MODULE_9__["MatButtonModule"],
                    _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_10__["MatButtonToggleModule"],
                    _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__["MatIconModule"],
                    _angular_material_card__WEBPACK_IMPORTED_MODULE_11__["MatCardModule"],
                    _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_18__["MatSnackBarModule"],
                    _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_16__["MatProgressBarModule"],
                    _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_8__["MatAutocompleteModule"],
                    _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_21__["MatTooltipModule"],
                    _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_42__["BrowserAnimationsModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_29__["ReactiveFormsModule"],
                    ngx_filter_pipe__WEBPACK_IMPORTED_MODULE_38__["FilterPipeModule"],
                    _core_entity_subrecord_entity_subrecord_module__WEBPACK_IMPORTED_MODULE_26__["EntitySubrecordModule"],
                    _schools_schools_module__WEBPACK_IMPORTED_MODULE_35__["SchoolsModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_29__["ReactiveFormsModule"],
                    _angular_material_dialog__WEBPACK_IMPORTED_MODULE_13__["MatDialogModule"],
                    _core_admin_admin_module__WEBPACK_IMPORTED_MODULE_52__["AdminModule"],
                    _angular_material_list__WEBPACK_IMPORTED_MODULE_15__["MatListModule"],
                    app_core_webdav_webdav_module__WEBPACK_IMPORTED_MODULE_51__["WebdavModule"],
                    _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_55__["MatProgressSpinnerModule"],
                    _core_confirmation_dialog_confirmation_dialog_module__WEBPACK_IMPORTED_MODULE_58__["ConfirmationDialogModule"],
                    _core_form_dialog_form_dialog_module__WEBPACK_IMPORTED_MODULE_57__["FormDialogModule"],
                    angulartics2__WEBPACK_IMPORTED_MODULE_62__["Angulartics2Module"],
                ],
                declarations: [
                    _attendance_attendance_block_attendance_block_component__WEBPACK_IMPORTED_MODULE_24__["AttendanceBlockComponent"],
                    _child_block_child_block_component__WEBPACK_IMPORTED_MODULE_27__["ChildBlockComponent"],
                    _attendance_child_attendance_child_attendance_component__WEBPACK_IMPORTED_MODULE_25__["ChildAttendanceComponent"],
                    _notes_notes_of_child_notes_of_child_component__WEBPACK_IMPORTED_MODULE_33__["NotesOfChildComponent"],
                    _child_details_child_details_component__WEBPACK_IMPORTED_MODULE_2__["ChildDetailsComponent"],
                    _children_list_children_list_component__WEBPACK_IMPORTED_MODULE_7__["ChildrenListComponent"],
                    _children_count_dashboard_children_count_dashboard_component__WEBPACK_IMPORTED_MODULE_28__["ChildrenCountDashboardComponent"],
                    _attendance_dashboard_widgets_attendance_average_dashboard_attendance_average_dashboard_component__WEBPACK_IMPORTED_MODULE_31__["AttendanceAverageDashboardComponent"],
                    _attendance_dashboard_widgets_attendance_warnings_dashboard_attendance_warnings_dashboard_component__WEBPACK_IMPORTED_MODULE_32__["AttendanceWarningsDashboardComponent"],
                    _child_select_child_select_component__WEBPACK_IMPORTED_MODULE_34__["ChildSelectComponent"],
                    _educational_material_educational_material_component_educational_material_component__WEBPACK_IMPORTED_MODULE_36__["EducationalMaterialComponent"],
                    _aser_aser_component_aser_component__WEBPACK_IMPORTED_MODULE_37__["AserComponent"],
                    _attendance_add_month_attendance_add_month_attendance_component__WEBPACK_IMPORTED_MODULE_39__["AddMonthAttendanceComponent"],
                    _attendance_attendance_days_attendance_day_block_component__WEBPACK_IMPORTED_MODULE_46__["AttendanceDayBlockComponent"],
                    _attendance_attendance_days_attendance_days_component__WEBPACK_IMPORTED_MODULE_40__["AttendanceDaysComponent"],
                    _attendance_attendance_details_attendance_details_component__WEBPACK_IMPORTED_MODULE_41__["AttendanceDetailsComponent"],
                    _attendance_add_day_attendance_add_day_attendance_component__WEBPACK_IMPORTED_MODULE_43__["AddDayAttendanceComponent"],
                    _attendance_add_day_attendance_roll_call_roll_call_component__WEBPACK_IMPORTED_MODULE_54__["RollCallComponent"],
                    _select_group_children_select_group_children_component__WEBPACK_IMPORTED_MODULE_53__["SelectGroupChildrenComponent"],
                    _attendance_dashboard_widgets_attendance_week_dashboard_attendance_week_dashboard_component__WEBPACK_IMPORTED_MODULE_44__["AttendanceWeekDashboardComponent"],
                    _notes_dashboard_widgets_no_recent_notes_dashboard_no_recent_notes_dashboard_component__WEBPACK_IMPORTED_MODULE_45__["NoRecentNotesDashboardComponent"],
                    _notes_dashboard_widgets_recent_notes_dashboard_recent_notes_dashboard_component__WEBPACK_IMPORTED_MODULE_56__["RecentNotesDashboardComponent"],
                    _attendance_attendance_manager_attendance_manager_component__WEBPACK_IMPORTED_MODULE_47__["AttendanceManagerComponent"],
                    _attendance_attendance_analysis_attendance_analysis_component__WEBPACK_IMPORTED_MODULE_63__["AttendanceAnalysisComponent"],
                    _health_checkup_health_checkup_component_health_checkup_component__WEBPACK_IMPORTED_MODULE_48__["HealthCheckupComponent"],
                    _previous_schools_previous_schools_component__WEBPACK_IMPORTED_MODULE_50__["PreviousSchoolsComponent"],
                    _child_details_grouped_child_attendance_grouped_child_attendance_component__WEBPACK_IMPORTED_MODULE_64__["GroupedChildAttendanceComponent"],
                    _child_details_health_form_health_form_component__WEBPACK_IMPORTED_MODULE_65__["HealthFormComponent"],
                    _child_details_dropout_form_dropout_form_component__WEBPACK_IMPORTED_MODULE_66__["DropoutFormComponent"],
                    _child_details_basic_info_basic_info_component__WEBPACK_IMPORTED_MODULE_67__["BasicInfoComponent"],
                ],
                providers: [
                    _children_service__WEBPACK_IMPORTED_MODULE_23__["ChildrenService"],
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["DatePipe"],
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["PercentPipe"],
                    {
                        provide: _conflict_resolution_auto_resolution_conflict_resolution_strategy__WEBPACK_IMPORTED_MODULE_59__["CONFLICT_RESOLUTION_STRATEGY"],
                        useClass: _attendance_attendance_month_conflict_resolution_strategy__WEBPACK_IMPORTED_MODULE_60__["AttendanceMonthConflictResolutionStrategy"],
                        multi: true,
                    },
                ],
                exports: [
                    _child_block_child_block_component__WEBPACK_IMPORTED_MODULE_27__["ChildBlockComponent"],
                    _child_select_child_select_component__WEBPACK_IMPORTED_MODULE_34__["ChildSelectComponent"],
                    _children_count_dashboard_children_count_dashboard_component__WEBPACK_IMPORTED_MODULE_28__["ChildrenCountDashboardComponent"],
                    _attendance_dashboard_widgets_attendance_average_dashboard_attendance_average_dashboard_component__WEBPACK_IMPORTED_MODULE_31__["AttendanceAverageDashboardComponent"],
                    _attendance_dashboard_widgets_attendance_warnings_dashboard_attendance_warnings_dashboard_component__WEBPACK_IMPORTED_MODULE_32__["AttendanceWarningsDashboardComponent"],
                    _attendance_dashboard_widgets_attendance_warnings_dashboard_attendance_warnings_dashboard_component__WEBPACK_IMPORTED_MODULE_32__["AttendanceWarningsDashboardComponent"],
                    _attendance_dashboard_widgets_attendance_week_dashboard_attendance_week_dashboard_component__WEBPACK_IMPORTED_MODULE_44__["AttendanceWeekDashboardComponent"],
                    _notes_dashboard_widgets_no_recent_notes_dashboard_no_recent_notes_dashboard_component__WEBPACK_IMPORTED_MODULE_45__["NoRecentNotesDashboardComponent"],
                    _notes_dashboard_widgets_recent_notes_dashboard_recent_notes_dashboard_component__WEBPACK_IMPORTED_MODULE_56__["RecentNotesDashboardComponent"],
                    _attendance_attendance_days_attendance_days_component__WEBPACK_IMPORTED_MODULE_40__["AttendanceDaysComponent"],
                ],
            }]
    }], null, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/children/children.service.ts":
/*!****************************************************************!*\
  !*** ./src/app/child-dev-project/children/children.service.ts ***!
  \****************************************************************/
/*! exports provided: ChildrenService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChildrenService", function() { return ChildrenService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _model_child__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./model/child */ "./src/app/child-dev-project/children/model/child.ts");
/* harmony import */ var _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/entity/entity-mapper.service */ "./src/app/core/entity/entity-mapper.service.ts");
/* harmony import */ var _attendance_model_attendance_month__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../attendance/model/attendance-month */ "./src/app/child-dev-project/attendance/model/attendance-month.ts");
/* harmony import */ var _notes_model_note__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../notes/model/note */ "./src/app/child-dev-project/notes/model/note.ts");
/* harmony import */ var _educational_material_model_educational_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../educational-material/model/educational-material */ "./src/app/child-dev-project/educational-material/model/educational-material.ts");
/* harmony import */ var _aser_model_aser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../aser/model/aser */ "./src/app/child-dev-project/aser/model/aser.ts");
/* harmony import */ var _model_childSchoolRelation__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./model/childSchoolRelation */ "./src/app/child-dev-project/children/model/childSchoolRelation.ts");
/* harmony import */ var _health_checkup_model_health_check__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../health-checkup/model/health-check */ "./src/app/child-dev-project/health-checkup/model/health-check.ts");
/* harmony import */ var _core_entity_schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/entity/schema/entity-schema.service */ "./src/app/core/entity/schema/entity-schema.service.ts");
/* harmony import */ var _child_photo_service_child_photo_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./child-photo-service/child-photo.service */ "./src/app/child-dev-project/children/child-photo-service/child-photo.service.ts");
/* harmony import */ var _child_photo_service_datatype_load_child_photo__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./child-photo-service/datatype-load-child-photo */ "./src/app/child-dev-project/children/child-photo-service/datatype-load-child-photo.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var uniqid__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! uniqid */ "./node_modules/uniqid/index.js");
/* harmony import */ var uniqid__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(uniqid__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var _core_logging_logging_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../core/logging/logging.service */ "./src/app/core/logging/logging.service.ts");
/* harmony import */ var _core_entity_database_indexing_database_indexing_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../core/entity/database-indexing/database-indexing.service */ "./src/app/core/entity/database-indexing/database-indexing.service.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};























var ChildrenService = /** @class */ (function () {
    function ChildrenService(entityMapper, entitySchemaService, dbIndexing, childPhotoService, logger) {
        this.entityMapper = entityMapper;
        this.entitySchemaService = entitySchemaService;
        this.dbIndexing = dbIndexing;
        this.logger = logger;
        this.entitySchemaService.registerSchemaDatatype(new _child_photo_service_datatype_load_child_photo__WEBPACK_IMPORTED_MODULE_12__["LoadChildPhotoEntitySchemaDatatype"](childPhotoService));
        this.createDatabaseIndices();
    }
    ChildrenService.prototype.createDatabaseIndices = function () {
        this.createAttendanceAnalysisIndex();
        this.createNotesIndex();
        this.createAttendancesIndex();
        this.createChildSchoolRelationIndex();
    };
    /**
     * returns an observable which retrieves children from the database and loads their pictures
     */
    ChildrenService.prototype.getChildren = function () {
        var _this = this;
        var results = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.entityMapper.loadType(_model_child__WEBPACK_IMPORTED_MODULE_2__["Child"]).then(function (loadedChildren) { return __awaiter(_this, void 0, void 0, function () {
            var loadedChildren_1, loadedChildren_1_1, loadedChild, childCurrentSchoolInfo, e_1_1;
            var e_1, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        results.next(loadedChildren);
                        _b.label = 1;
                    case 1:
                        _b.trys.push([1, 7, 8, 9]);
                        loadedChildren_1 = __values(loadedChildren), loadedChildren_1_1 = loadedChildren_1.next();
                        _b.label = 2;
                    case 2:
                        if (!!loadedChildren_1_1.done) return [3 /*break*/, 6];
                        loadedChild = loadedChildren_1_1.value;
                        return [4 /*yield*/, this.getCurrentSchoolInfoForChild(loadedChild.getId())];
                    case 3:
                        childCurrentSchoolInfo = _b.sent();
                        return [4 /*yield*/, this.migrateToNewChildSchoolRelationModel(loadedChild, childCurrentSchoolInfo)];
                    case 4:
                        _b.sent();
                        loadedChild.schoolClass = childCurrentSchoolInfo.schoolClass;
                        loadedChild.schoolId = childCurrentSchoolInfo.schoolId;
                        _b.label = 5;
                    case 5:
                        loadedChildren_1_1 = loadedChildren_1.next();
                        return [3 /*break*/, 2];
                    case 6: return [3 /*break*/, 9];
                    case 7:
                        e_1_1 = _b.sent();
                        e_1 = { error: e_1_1 };
                        return [3 /*break*/, 9];
                    case 8:
                        try {
                            if (loadedChildren_1_1 && !loadedChildren_1_1.done && (_a = loadedChildren_1.return)) _a.call(loadedChildren_1);
                        }
                        finally { if (e_1) throw e_1.error; }
                        return [7 /*endfinally*/];
                    case 9:
                        results.next(loadedChildren);
                        results.complete();
                        return [2 /*return*/];
                }
            });
        }); });
        return results;
    };
    /**
     * DATA MODEL UPGRADE
     * Check if the Child Entity still contains direct links to schoolId and schoolClass
     * and create a new ChildSchoolRelation if necessary.
     * @param loadedChild Child entity to be checked and migrated
     * @param childCurrentSchoolInfo Currently available school information according to new data model from ChildSchoolRelation entities
     */
    ChildrenService.prototype.migrateToNewChildSchoolRelationModel = function (loadedChild, childCurrentSchoolInfo) {
        return __awaiter(this, void 0, void 0, function () {
            var autoMigratedChildSchoolRelation;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!loadedChild.schoolClass && !loadedChild.schoolId) {
                            // no data from old model -> skip migration
                            return [2 /*return*/];
                        }
                        if (!(loadedChild.schoolId !== childCurrentSchoolInfo.schoolId ||
                            loadedChild.schoolClass !== childCurrentSchoolInfo.schoolClass)) return [3 /*break*/, 2];
                        autoMigratedChildSchoolRelation = new _model_childSchoolRelation__WEBPACK_IMPORTED_MODULE_8__["ChildSchoolRelation"](uniqid__WEBPACK_IMPORTED_MODULE_14__());
                        autoMigratedChildSchoolRelation.childId = loadedChild.getId();
                        autoMigratedChildSchoolRelation.schoolId = loadedChild.schoolId;
                        autoMigratedChildSchoolRelation.schoolClass = loadedChild.schoolClass;
                        return [4 /*yield*/, this.entityMapper.save(autoMigratedChildSchoolRelation)];
                    case 1:
                        _a.sent();
                        this.logger.debug("migrated Child entity to new ChildSchoolRelation model " +
                            loadedChild._id);
                        console.log(autoMigratedChildSchoolRelation);
                        _a.label = 2;
                    case 2: 
                    // save the Child entity to remove the deprecated attributes from the doc in the database
                    return [4 /*yield*/, this.entityMapper.save(loadedChild)];
                    case 3:
                        // save the Child entity to remove the deprecated attributes from the doc in the database
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * returns an observable which retrieves a single child and loads its photo
     * @param id id of child
     */
    ChildrenService.prototype.getChild = function (id) {
        var _this = this;
        var promise = this.entityMapper
            .load(_model_child__WEBPACK_IMPORTED_MODULE_2__["Child"], id)
            .then(function (loadedChild) {
            return _this.getCurrentSchoolInfoForChild(id).then(function (currentSchoolInfo) {
                loadedChild.schoolClass = currentSchoolInfo.schoolClass;
                loadedChild.schoolId = currentSchoolInfo.schoolId;
                return loadedChild;
            });
        });
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["from"])(promise);
    };
    ChildrenService.prototype.getAttendances = function () {
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["from"])(this.entityMapper.loadType(_attendance_model_attendance_month__WEBPACK_IMPORTED_MODULE_4__["AttendanceMonth"]));
    };
    ChildrenService.prototype.getAttendancesOfChild = function (childId) {
        var _this = this;
        var promise = this.dbIndexing
            .queryIndex("attendances_index/by_child", {
            key: childId,
            include_docs: true,
        })
            .then(function (loadedEntities) {
            return loadedEntities.rows.map(function (loadedRecord) {
                var entity = new _attendance_model_attendance_month__WEBPACK_IMPORTED_MODULE_4__["AttendanceMonth"]("");
                _this.entitySchemaService.loadDataIntoEntity(entity, loadedRecord.doc);
                return entity;
            });
        });
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["from"])(promise);
    };
    ChildrenService.prototype.getAttendancesOfMonth = function (month) {
        var _this = this;
        var monthString = month.getFullYear().toString() + "-" + (month.getMonth() + 1).toString();
        var promise = this.dbIndexing
            .queryIndex("attendances_index/by_month", {
            key: monthString,
            include_docs: true,
        })
            .then(function (loadedEntities) {
            return loadedEntities.rows.map(function (loadedRecord) {
                var entity = new _attendance_model_attendance_month__WEBPACK_IMPORTED_MODULE_4__["AttendanceMonth"]("");
                _this.entitySchemaService.loadDataIntoEntity(entity, loadedRecord.doc);
                return entity;
            });
        });
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["from"])(promise);
    };
    ChildrenService.prototype.createAttendancesIndex = function () {
        var designDoc = {
            _id: "_design/attendances_index",
            views: {
                by_child: {
                    map: "(doc) => { " +
                        'if (!doc._id.startsWith("' +
                        _attendance_model_attendance_month__WEBPACK_IMPORTED_MODULE_4__["AttendanceMonth"].ENTITY_TYPE +
                        '")) return;' +
                        "emit(doc.student); " +
                        "}",
                },
                by_month: {
                    map: "(doc) => { " +
                        'if (!doc._id.startsWith("' +
                        _attendance_model_attendance_month__WEBPACK_IMPORTED_MODULE_4__["AttendanceMonth"].ENTITY_TYPE +
                        '")) return;' +
                        "emit(doc.month); " +
                        "}",
                },
            },
        };
        return this.dbIndexing.createIndex(designDoc);
    };
    ChildrenService.prototype.createChildSchoolRelationIndex = function () {
        var designDoc = {
            _id: "_design/childSchoolRelations_index",
            views: {
                by_child: {
                    map: "(doc) => {\n            if (!doc._id.startsWith(\"" + _model_childSchoolRelation__WEBPACK_IMPORTED_MODULE_8__["ChildSchoolRelation"].ENTITY_TYPE + "\")) return;\n            emit(doc.childId);\n            }",
                },
                by_school: {
                    map: "(doc) => {\n            if ( (!doc._id.startsWith(\"" + _model_childSchoolRelation__WEBPACK_IMPORTED_MODULE_8__["ChildSchoolRelation"].ENTITY_TYPE + "\")) ||\n                (doc.start && (new Date(doc.start) > new Date().setHours(0, 0, 0, 0))) ||\n                (doc.end && (new Date(doc.end) < new Date().setHours(0, 0, 0, 0))) ) {\n              return;\n            }\n            emit(doc.schoolId);\n            }",
                },
                by_date: {
                    map: "(doc) => {\n            if (!doc._id.startsWith(\"" + _model_childSchoolRelation__WEBPACK_IMPORTED_MODULE_8__["ChildSchoolRelation"].ENTITY_TYPE + "\")) return;\n            let timestamp = (new Date(doc.start || '3000-01-01')).getTime().toString().padStart(14, \"0\");\n            emit(doc.childId + '_' + timestamp);\n            }",
                },
            },
        };
        return this.dbIndexing.createIndex(designDoc);
    };
    ChildrenService.prototype.queryLatestRelation = function (childId) {
        return this.querySortedRelations(childId, 1).then(function (children) { return children[0]; });
    };
    ChildrenService.prototype.querySortedRelations = function (childId, limit) {
        var _this = this;
        var options = {
            startkey: childId + "_\uffff",
            endkey: childId + "_",
            descending: true,
            include_docs: true,
            limit: limit,
        };
        return this.dbIndexing
            .queryIndex("childSchoolRelations_index/by_date", options)
            .then(function (loadedEntities) {
            return loadedEntities.rows.map(function (loadedRecord) {
                var entity = new _model_childSchoolRelation__WEBPACK_IMPORTED_MODULE_8__["ChildSchoolRelation"]("");
                _this.entitySchemaService.loadDataIntoEntity(entity, loadedRecord.doc);
                return entity;
            });
        });
    };
    ChildrenService.prototype.queryRelationsOf = function (queryType, id) {
        var _this = this;
        return this.dbIndexing
            .queryIndex("childSchoolRelations_index/by_" + queryType, {
            key: id,
            include_docs: true,
        })
            .then(function (loadedEntities) {
            return loadedEntities.rows.map(function (loadedRecord) {
                var entity = new _model_childSchoolRelation__WEBPACK_IMPORTED_MODULE_8__["ChildSchoolRelation"]("");
                _this.entitySchemaService.loadDataIntoEntity(entity, loadedRecord.doc);
                return entity;
            });
        });
    };
    ChildrenService.prototype.queryAttendanceLast3Months = function () {
        return this.dbIndexing.queryIndex("avg_attendance_index/three_months", {
            reduce: true,
            group: true,
        });
    };
    ChildrenService.prototype.queryAttendanceLastMonth = function () {
        return this.dbIndexing.queryIndex("avg_attendance_index/last_month", {
            reduce: true,
            group: true,
        });
    };
    ChildrenService.prototype.createAttendanceAnalysisIndex = function () {
        var designDoc = {
            _id: "_design/avg_attendance_index",
            views: {
                three_months: {
                    map: this.getAverageAttendanceMapFunction(),
                    reduce: "_stats",
                },
                last_month: {
                    map: this.getLastAverageAttendanceMapFunction(),
                    reduce: "_stats",
                },
            },
        };
        return this.dbIndexing.createIndex(designDoc);
    };
    ChildrenService.prototype.getAverageAttendanceMapFunction = function () {
        return ("(doc) => {" +
            'if (!doc._id.startsWith("AttendanceMonth:") ) { return; }' +
            "if (!isWithinLast3Months(new Date(doc.month), new Date())) { return; }" +
            "var attendance = (doc.daysAttended / (doc.daysWorking - doc.daysExcused));" +
            "if (!Number.isNaN(attendance)) { emit(doc.student, attendance); }" +
            "function isWithinLast3Months(date, now) {" +
            "  let months;" +
            "  months = (now.getFullYear() - date.getFullYear()) * 12;" +
            "  months -= date.getMonth();" +
            "  months += now.getMonth();" +
            "  if (months < 0) { return false; }" +
            "  return months <= 3;" +
            "}" +
            "}");
    };
    ChildrenService.prototype.getLastAverageAttendanceMapFunction = function () {
        return ("(doc) => {" +
            'if (!doc._id.startsWith("AttendanceMonth:")) { return; }' +
            "if (!isWithinLastMonth(new Date(doc.month), new Date())) { return; }" +
            "var attendance = (doc.daysAttended / (doc.daysWorking - doc.daysExcused));" +
            "if (!Number.isNaN(attendance)) { emit(doc.student, attendance); }" +
            "function isWithinLastMonth(date, now) {" +
            "  let months;" +
            "  months = (now.getFullYear() - date.getFullYear()) * 12;" +
            "  months -= date.getMonth();" +
            "  months += now.getMonth();" +
            "  return months === 1;" +
            "}" +
            "}");
    };
    ChildrenService.prototype.getNotesOfChild = function (childId) {
        var _this = this;
        var promise = this.dbIndexing
            .queryIndex("notes_index/by_child", { key: childId, include_docs: true })
            .then(function (loadedEntities) {
            return loadedEntities.rows.map(function (loadedRecord) {
                var entity = new _notes_model_note__WEBPACK_IMPORTED_MODULE_5__["Note"]("");
                _this.entitySchemaService.loadDataIntoEntity(entity, loadedRecord.doc);
                return entity;
            });
        });
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["from"])(promise);
    };
    /**
     * Query how many days ago the last note for each child was added.
     *
     * Warning: Children without any notes will be missing from this map.
     *
     * @return A map of childIds as key and days since last note as value
     */
    ChildrenService.prototype.getDaysSinceLastNoteOfEachChild = function () {
        return __awaiter(this, void 0, void 0, function () {
            var stats, results, _a, _b, childStats, dateOfLatestNoteInDays, todayInDays, daysSinceLastNote;
            var e_2, _c;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0: return [4 /*yield*/, this.dbIndexing.queryIndex("notes_index/note_date_in_days_for_child", { reduce: true, group: true })];
                    case 1:
                        stats = _d.sent();
                        results = new Map();
                        try {
                            for (_a = __values(stats.rows), _b = _a.next(); !_b.done; _b = _a.next()) {
                                childStats = _b.value;
                                dateOfLatestNoteInDays = childStats.value.max;
                                todayInDays = new Date().getTime() / 86400000;
                                daysSinceLastNote = todayInDays - dateOfLatestNoteInDays;
                                results.set(childStats.key, daysSinceLastNote);
                            }
                        }
                        catch (e_2_1) { e_2 = { error: e_2_1 }; }
                        finally {
                            try {
                                if (_b && !_b.done && (_c = _a.return)) _c.call(_a);
                            }
                            finally { if (e_2) throw e_2.error; }
                        }
                        return [2 /*return*/, results];
                }
            });
        });
    };
    ChildrenService.prototype.createNotesIndex = function () {
        var designDoc = {
            _id: "_design/notes_index",
            views: {
                by_child: {
                    map: "(doc) => { " +
                        'if (!doc._id.startsWith("' +
                        _notes_model_note__WEBPACK_IMPORTED_MODULE_5__["Note"].ENTITY_TYPE +
                        '")) return;' +
                        "if (!Array.isArray(doc.children)) return;" +
                        "doc.children.forEach(childId => emit(childId)); " +
                        "}",
                },
                note_date_in_days_for_child: {
                    map: "(doc) => { " +
                        'if (!doc._id.startsWith("' +
                        _notes_model_note__WEBPACK_IMPORTED_MODULE_5__["Note"].ENTITY_TYPE +
                        '")) return;' +
                        "if (!Array.isArray(doc.children) || !doc.date) return;" +
                        "doc.children.forEach(childId => emit(childId, (new Date(doc.date)).getTime()/86400000)); " + // ms/day: 1000*60*60*24 = 86400000
                        "}",
                    reduce: "_stats",
                },
            },
        };
        return this.dbIndexing.createIndex(designDoc);
    };
    ChildrenService.prototype.getEducationalMaterialsOfChild = function (childId) {
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["from"])(this.entityMapper
            .loadType(_educational_material_model_educational_material__WEBPACK_IMPORTED_MODULE_6__["EducationalMaterial"])
            .then(function (loadedEntities) {
            return loadedEntities.filter(function (o) { return o.child === childId; });
        }));
    };
    /**
     *
     * @param childId should be set in the specific components and is passed by the URL as a parameter
     * This function should be considered refactored and should use a index, once they're made generic
     */
    ChildrenService.prototype.getHealthChecksOfChild = function (childId) {
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["from"])(this.entityMapper
            .loadType(_health_checkup_model_health_check__WEBPACK_IMPORTED_MODULE_9__["HealthCheck"])
            .then(function (loadedEntities) {
            return loadedEntities.filter(function (h) { return h.child === childId; });
        }));
    };
    ChildrenService.prototype.getAserResultsOfChild = function (childId) {
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["from"])(this.entityMapper.loadType(_aser_model_aser__WEBPACK_IMPORTED_MODULE_7__["Aser"]).then(function (loadedEntities) {
            return loadedEntities.filter(function (o) { return o.child === childId; });
        }));
    };
    ChildrenService.prototype.getCurrentSchoolInfoForChild = function (childId) {
        return __awaiter(this, void 0, void 0, function () {
            var relations, relations_1, relations_1_1, rel;
            var e_3, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0: return [4 /*yield*/, this.querySortedRelations(childId)];
                    case 1:
                        relations = (_b.sent()) || [];
                        try {
                            for (relations_1 = __values(relations), relations_1_1 = relations_1.next(); !relations_1_1.done; relations_1_1 = relations_1.next()) {
                                rel = relations_1_1.value;
                                if (moment__WEBPACK_IMPORTED_MODULE_13___default()(rel.start).isSameOrBefore(moment__WEBPACK_IMPORTED_MODULE_13___default()(), "days") &&
                                    moment__WEBPACK_IMPORTED_MODULE_13___default()(rel.end).isSameOrAfter(moment__WEBPACK_IMPORTED_MODULE_13___default()(), "days")) {
                                    return [2 /*return*/, {
                                            schoolId: rel.schoolId,
                                            schoolClass: rel.schoolClass,
                                        }];
                                }
                            }
                        }
                        catch (e_3_1) { e_3 = { error: e_3_1 }; }
                        finally {
                            try {
                                if (relations_1_1 && !relations_1_1.done && (_a = relations_1.return)) _a.call(relations_1);
                            }
                            finally { if (e_3) throw e_3.error; }
                        }
                        return [2 /*return*/, {
                                schoolId: null,
                                schoolClass: null,
                            }];
                }
            });
        });
    };
    ChildrenService.prototype.getSchoolsWithRelations = function (childId) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.querySortedRelations(childId)];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    ChildrenService.ɵfac = function ChildrenService_Factory(t) { return new (t || ChildrenService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_3__["EntityMapperService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_core_entity_schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_10__["EntitySchemaService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_core_entity_database_indexing_database_indexing_service__WEBPACK_IMPORTED_MODULE_16__["DatabaseIndexingService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_child_photo_service_child_photo_service__WEBPACK_IMPORTED_MODULE_11__["ChildPhotoService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_core_logging_logging_service__WEBPACK_IMPORTED_MODULE_15__["LoggingService"])); };
    ChildrenService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: ChildrenService, factory: ChildrenService.ɵfac });
    return ChildrenService;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ChildrenService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_3__["EntityMapperService"] }, { type: _core_entity_schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_10__["EntitySchemaService"] }, { type: _core_entity_database_indexing_database_indexing_service__WEBPACK_IMPORTED_MODULE_16__["DatabaseIndexingService"] }, { type: _child_photo_service_child_photo_service__WEBPACK_IMPORTED_MODULE_11__["ChildPhotoService"] }, { type: _core_logging_logging_service__WEBPACK_IMPORTED_MODULE_15__["LoggingService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/children/demo-data-generators/demo-child-generator.service.ts":
/*!*************************************************************************************************!*\
  !*** ./src/app/child-dev-project/children/demo-data-generators/demo-child-generator.service.ts ***!
  \*************************************************************************************************/
/*! exports provided: DemoChildConfig, DemoChildGenerator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DemoChildConfig", function() { return DemoChildConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DemoChildGenerator", function() { return DemoChildGenerator; });
/* harmony import */ var _model_child__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/child */ "./src/app/child-dev-project/children/model/child.ts");
/* harmony import */ var _model_Gender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/Gender */ "./src/app/child-dev-project/children/model/Gender.ts");
/* harmony import */ var _fixtures_religions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fixtures/religions */ "./src/app/child-dev-project/children/demo-data-generators/fixtures/religions.ts");
/* harmony import */ var _fixtures_languages__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fixtures/languages */ "./src/app/child-dev-project/children/demo-data-generators/fixtures/languages.ts");
/* harmony import */ var _fixtures_dropout_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./fixtures/dropout-types */ "./src/app/child-dev-project/children/demo-data-generators/fixtures/dropout-types.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _core_demo_data_demo_data_generator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/demo-data/demo-data-generator */ "./src/app/core/demo-data/demo-data-generator.ts");
/* harmony import */ var _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/demo-data/faker */ "./src/app/core/demo-data/faker.ts");
/* harmony import */ var _fixtures_centers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./fixtures/centers */ "./src/app/child-dev-project/children/demo-data-generators/fixtures/centers.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();










var DemoChildConfig = /** @class */ (function () {
    function DemoChildConfig() {
    }
    return DemoChildConfig;
}());

var DemoChildGenerator = /** @class */ (function (_super) {
    __extends(DemoChildGenerator, _super);
    function DemoChildGenerator(config) {
        var _this = _super.call(this) || this;
        _this.config = config;
        return _this;
    }
    /**
     * This function returns a provider object to be used in an Angular Module configuration:
     *   `providers: [DemoUserProvider.provider({count: 150})]`
     * @param config The configuration specifying the number of entities the service should generate.
     */
    DemoChildGenerator.provider = function (config) {
        return [
            { provide: DemoChildGenerator, useClass: DemoChildGenerator },
            { provide: DemoChildConfig, useValue: config },
        ];
    };
    DemoChildGenerator.prototype.generateEntities = function () {
        var data = [];
        for (var i = 1; i <= this.config.count; i++) {
            var child = new _model_child__WEBPACK_IMPORTED_MODULE_0__["Child"](String(i));
            child.name = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_7__["faker"].name.firstName() + " " + _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_7__["faker"].name.lastName();
            child.projectNumber = String(i);
            child.religion = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_7__["faker"].random.arrayElement(_fixtures_religions__WEBPACK_IMPORTED_MODULE_2__["religions"]);
            child.gender = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_7__["faker"].random.arrayElement([_model_Gender__WEBPACK_IMPORTED_MODULE_1__["Gender"].MALE, _model_Gender__WEBPACK_IMPORTED_MODULE_1__["Gender"].FEMALE]);
            child.dateOfBirth = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_7__["faker"].dateOfBirth(5, 20);
            child.motherTongue = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_7__["faker"].random.arrayElement(_fixtures_languages__WEBPACK_IMPORTED_MODULE_3__["languages"]);
            child.center = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_7__["faker"].random.arrayElement(_fixtures_centers__WEBPACK_IMPORTED_MODULE_8__["centersWithProbability"]);
            child.admissionDate = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_7__["faker"].date.past(child.age - 4);
            if (_core_demo_data_faker__WEBPACK_IMPORTED_MODULE_7__["faker"].random.number(100) > 80) {
                this.makeChildDropout(child);
            }
            data.push(child);
        }
        return data;
    };
    DemoChildGenerator.prototype.makeChildDropout = function (child) {
        child.dropoutDate = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_7__["faker"].date.between(child.admissionDate, new Date());
        child.dropoutRemarks = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_7__["faker"].lorem.sentence();
        child.dropoutType = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_7__["faker"].random.arrayElement(_fixtures_dropout_types__WEBPACK_IMPORTED_MODULE_4__["dropoutTypes"]);
        child.status = "Dropout";
    };
    DemoChildGenerator.ɵfac = function DemoChildGenerator_Factory(t) { return new (t || DemoChildGenerator)(_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵinject"](DemoChildConfig)); };
    DemoChildGenerator.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineInjectable"]({ token: DemoChildGenerator, factory: DemoChildGenerator.ɵfac });
    return DemoChildGenerator;
}(_core_demo_data_demo_data_generator__WEBPACK_IMPORTED_MODULE_6__["DemoDataGenerator"]));

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵsetClassMetadata"](DemoChildGenerator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_5__["Injectable"]
    }], function () { return [{ type: DemoChildConfig }]; }, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/children/demo-data-generators/demo-child-school-relation-generator.service.ts":
/*!*****************************************************************************************************************!*\
  !*** ./src/app/child-dev-project/children/demo-data-generators/demo-child-school-relation-generator.service.ts ***!
  \*****************************************************************************************************************/
/*! exports provided: DemoChildSchoolRelationGenerator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DemoChildSchoolRelationGenerator", function() { return DemoChildSchoolRelationGenerator; });
/* harmony import */ var _demo_child_generator_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./demo-child-generator.service */ "./src/app/child-dev-project/children/demo-data-generators/demo-child-generator.service.ts");
/* harmony import */ var _schools_demo_school_generator_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../schools/demo-school-generator.service */ "./src/app/child-dev-project/schools/demo-school-generator.service.ts");
/* harmony import */ var _core_demo_data_demo_data_generator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/demo-data/demo-data-generator */ "./src/app/core/demo-data/demo-data-generator.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _model_childSchoolRelation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../model/childSchoolRelation */ "./src/app/child-dev-project/children/model/childSchoolRelation.ts");
/* harmony import */ var _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/demo-data/faker */ "./src/app/core/demo-data/faker.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};









/**
 * Generate ChildSchoolRelation entities linking a child to a school for a specific year.
 * Builds upon the generated demo Child and demo School entities,
 * generating relations for each Child from the date of admission till dropout or today.
 */
var DemoChildSchoolRelationGenerator = /** @class */ (function (_super) {
    __extends(DemoChildSchoolRelationGenerator, _super);
    function DemoChildSchoolRelationGenerator(demoChildren, demoSchools) {
        var _this = _super.call(this) || this;
        _this.demoChildren = demoChildren;
        _this.demoSchools = demoSchools;
        return _this;
    }
    /**
     * This function returns a provider object to be used in an Angular Module configuration:
     *   `providers: [DemoChildSchoolRelationGenerator.provider()]`
     */
    DemoChildSchoolRelationGenerator.provider = function () {
        return [
            {
                provide: DemoChildSchoolRelationGenerator,
                useClass: DemoChildSchoolRelationGenerator,
            },
        ];
    };
    DemoChildSchoolRelationGenerator.prototype.generateEntities = function () {
        var e_1, _a;
        var data = [];
        try {
            for (var _b = __values(this.demoChildren.entities), _c = _b.next(); !_c.done; _c = _b.next()) {
                var child = _c.value;
                data.push.apply(data, __spread(this.generateChildSchoolRecordsForChild(child)));
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
        return data;
    };
    DemoChildSchoolRelationGenerator.prototype.generateChildSchoolRecordsForChild = function (child) {
        var data = [];
        var firstYear = child.admissionDate.getFullYear();
        var finalYear = new Date().getFullYear();
        if (child.dropoutDate) {
            finalYear = child.dropoutDate.getFullYear();
        }
        var currentSchool = undefined;
        var offset = 0;
        while (firstYear + offset <= finalYear && offset <= 12) {
            currentSchool = this.selectNextSchool(currentSchool);
            data.push(this.generateRecord(child, firstYear + offset, offset + 1, currentSchool));
            offset++;
        }
        if (Math.random() < 0.8) {
            // 80% of the latest records for each child don't have an end date, which means the child currently attends this school.
            data[data.length - 1].end = null;
        }
        this.setChildSchoolAndClassForLegacyUse(child, data[data.length - 1]);
        return data;
    };
    DemoChildSchoolRelationGenerator.prototype.generateRecord = function (child, year, schoolClass, school) {
        var schoolRelation = new _model_childSchoolRelation__WEBPACK_IMPORTED_MODULE_4__["ChildSchoolRelation"](_core_demo_data_faker__WEBPACK_IMPORTED_MODULE_5__["faker"].random.uuid());
        schoolRelation.childId = child.getId();
        schoolRelation.start = new Date(year + "-01-01");
        schoolRelation.end = new Date(year + "-12-31");
        schoolRelation.schoolClass = String(schoolClass);
        schoolRelation.schoolId = school.getId();
        schoolRelation.result = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_5__["faker"].random.number(100);
        return schoolRelation;
    };
    /**
     * Select a different school randomly in a certain percentages of cases keeping the currentSchool otherwise.
     * @param currentSchool
     */
    DemoChildSchoolRelationGenerator.prototype.selectNextSchool = function (currentSchool) {
        if (!currentSchool) {
            return _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_5__["faker"].random.arrayElement(this.demoSchools.entities);
        }
        if (_core_demo_data_faker__WEBPACK_IMPORTED_MODULE_5__["faker"].random.number(100) > 75) {
            return _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_5__["faker"].random.arrayElement(this.demoSchools.entities);
        }
        else {
            return currentSchool;
        }
    };
    DemoChildSchoolRelationGenerator.prototype.setChildSchoolAndClassForLegacyUse = function (child, latestChildSchoolRelation) {
        child.schoolId = latestChildSchoolRelation.schoolId;
        child.schoolClass = latestChildSchoolRelation.schoolClass;
    };
    DemoChildSchoolRelationGenerator.ɵfac = function DemoChildSchoolRelationGenerator_Factory(t) { return new (t || DemoChildSchoolRelationGenerator)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵinject"](_demo_child_generator_service__WEBPACK_IMPORTED_MODULE_0__["DemoChildGenerator"]), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵinject"](_schools_demo_school_generator_service__WEBPACK_IMPORTED_MODULE_1__["DemoSchoolGenerator"])); };
    DemoChildSchoolRelationGenerator.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineInjectable"]({ token: DemoChildSchoolRelationGenerator, factory: DemoChildSchoolRelationGenerator.ɵfac });
    return DemoChildSchoolRelationGenerator;
}(_core_demo_data_demo_data_generator__WEBPACK_IMPORTED_MODULE_2__["DemoDataGenerator"]));

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵsetClassMetadata"](DemoChildSchoolRelationGenerator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"]
    }], function () { return [{ type: _demo_child_generator_service__WEBPACK_IMPORTED_MODULE_0__["DemoChildGenerator"] }, { type: _schools_demo_school_generator_service__WEBPACK_IMPORTED_MODULE_1__["DemoSchoolGenerator"] }]; }, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/children/demo-data-generators/fixtures/centers.ts":
/*!*************************************************************************************!*\
  !*** ./src/app/child-dev-project/children/demo-data-generators/fixtures/centers.ts ***!
  \*************************************************************************************/
/*! exports provided: centersWithProbability, centersUnique */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "centersWithProbability", function() { return centersWithProbability; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "centersUnique", function() { return centersUnique; });
var centersWithProbability = [
    // multiple entries for the same value increase its probability
    "Alipore",
    "Alipore",
    "Tollygunge",
    "Barabazar",
];
var centersUnique = centersWithProbability.filter(function (value, index, self) { return self.indexOf(value) === index; });


/***/ }),

/***/ "./src/app/child-dev-project/children/demo-data-generators/fixtures/dropout-types.ts":
/*!*******************************************************************************************!*\
  !*** ./src/app/child-dev-project/children/demo-data-generators/fixtures/dropout-types.ts ***!
  \*******************************************************************************************/
/*! exports provided: dropoutTypes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dropoutTypes", function() { return dropoutTypes; });
var dropoutTypes = [
    // multiple entries for the same value increase its probability
    "Finished School or Training",
    "Dropout",
    "Continues Education without project",
    "Moved away",
];


/***/ }),

/***/ "./src/app/child-dev-project/children/demo-data-generators/fixtures/languages.ts":
/*!***************************************************************************************!*\
  !*** ./src/app/child-dev-project/children/demo-data-generators/fixtures/languages.ts ***!
  \***************************************************************************************/
/*! exports provided: languages */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "languages", function() { return languages; });
var languages = [
    // multiple entries for the same value increase its probability
    "Hindi",
    "Hindi",
    "Hindi",
    "Urdu",
    "Bengali",
    "Bengali",
    "",
];


/***/ }),

/***/ "./src/app/child-dev-project/children/demo-data-generators/fixtures/religions.ts":
/*!***************************************************************************************!*\
  !*** ./src/app/child-dev-project/children/demo-data-generators/fixtures/religions.ts ***!
  \***************************************************************************************/
/*! exports provided: religions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "religions", function() { return religions; });
var religions = [
    // multiple entries for the same value increase its probability
    "Hindu",
    "Hindu",
    "Hindu",
    "Muslim",
    "Muslim",
    "Christian",
    "Sikh",
    "",
    "",
];


/***/ }),

/***/ "./src/app/child-dev-project/children/model/Gender.ts":
/*!************************************************************!*\
  !*** ./src/app/child-dev-project/children/model/Gender.ts ***!
  \************************************************************/
/*! exports provided: Gender */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Gender", function() { return Gender; });
var Gender;
(function (Gender) {
    Gender["MALE"] = "M";
    Gender["FEMALE"] = "F";
})(Gender || (Gender = {}));


/***/ }),

/***/ "./src/app/child-dev-project/children/model/child.ts":
/*!***********************************************************!*\
  !*** ./src/app/child-dev-project/children/model/child.ts ***!
  \***********************************************************/
/*! exports provided: Child */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Child", function() { return Child; });
/* harmony import */ var _core_entity_entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/entity/entity */ "./src/app/core/entity/entity.ts");
/* harmony import */ var _Gender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Gender */ "./src/app/child-dev-project/children/model/Gender.ts");
/* harmony import */ var _core_entity_database_entity_decorator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/entity/database-entity.decorator */ "./src/app/core/entity/database-entity.decorator.ts");
/* harmony import */ var _core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/entity/database-field.decorator */ "./src/app/core/entity/database-field.decorator.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var Child = /** @class */ (function (_super) {
    __extends(Child, _super);
    function Child() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.motherTongue = "";
        _this.religion = "";
        _this.center = "";
        _this.status = "";
        /** current school (as determined through the ChildSchoolRelation docs) set during loading through ChildrenService */
        _this.schoolId = "";
        /** current class (as determined through the ChildSchoolRelation docs) set during loading through ChildrenService */
        _this.schoolClass = "";
        _this.address = "";
        _this.phone = "";
        _this.guardianName = "";
        _this.preferredTimeForGuardianMeeting = "";
        _this.has_aadhar = "";
        _this.has_bankAccount = "";
        _this.has_kanyashree = "";
        _this.has_rationCard = "";
        _this.has_BplCard = "";
        return _this;
    }
    /**
     * Returns the full relative filePath to a child photo given a filename, adding the relevant folders to it.
     * @param filename The given filename with file extension.
     */
    Child.generatePhotoPath = function (filename) {
        return "assets/child-photos/" + filename;
    };
    Object.defineProperty(Child.prototype, "age", {
        get: function () {
            var age = -1;
            if (this.dateOfBirth) {
                var now = new Date();
                var dateOfBirth = new Date(this.dateOfBirth);
                age = now.getFullYear() - dateOfBirth.getFullYear();
                var m = now.getMonth() - dateOfBirth.getMonth();
                if (m < 0 || (m === 0 && now.getDate() < dateOfBirth.getDate())) {
                    age--;
                }
            }
            return age;
        },
        enumerable: true,
        configurable: true
    });
    Child.prototype.isActive = function () {
        return this.status !== "Dropout";
    };
    Child.prototype.toString = function () {
        return this.name;
    };
    Child.prototype.generateSearchIndices = function () {
        var indices = [];
        if (this.name !== undefined) {
            indices = indices.concat(this.name.split(" "));
        }
        if (this.projectNumber !== undefined) {
            indices.push(this.projectNumber);
        }
        return indices;
    };
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Child.prototype, "name", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Child.prototype, "projectNumber", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])({ dataType: "string" }),
        __metadata("design:type", String)
    ], Child.prototype, "gender", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])({ dataType: "date-only" }),
        __metadata("design:type", Date)
    ], Child.prototype, "dateOfBirth", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Child.prototype, "motherTongue", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Child.prototype, "religion", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Child.prototype, "center", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", Date)
    ], Child.prototype, "admissionDate", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Child.prototype, "status", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Child.prototype, "address", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Child.prototype, "phone", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Child.prototype, "guardianName", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Child.prototype, "preferredTimeForGuardianMeeting", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Child.prototype, "has_aadhar", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Child.prototype, "has_bankAccount", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Child.prototype, "has_kanyashree", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Child.prototype, "has_rationCard", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Child.prototype, "has_BplCard", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", Date)
    ], Child.prototype, "dropoutDate", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Child.prototype, "dropoutType", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Child.prototype, "dropoutRemarks", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Child.prototype, "health_vaccinationStatus", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Child.prototype, "health_bloodGroup", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", Date)
    ], Child.prototype, "health_lastDentalCheckup", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", Date)
    ], Child.prototype, "health_lastEyeCheckup", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", Date)
    ], Child.prototype, "health_lastENTCheckup", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Child.prototype, "health_eyeHealthStatus", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", Date)
    ], Child.prototype, "health_lastVitaminD", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", Date)
    ], Child.prototype, "health_lastDeworming", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Child.prototype, "photoFile", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_3__["DatabaseField"])({ dataType: "load-child-photo" }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"])
    ], Child.prototype, "photo", void 0);
    Child = __decorate([
        Object(_core_entity_database_entity_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseEntity"])("Child")
    ], Child);
    return Child;
}(_core_entity_entity__WEBPACK_IMPORTED_MODULE_0__["Entity"]));



/***/ }),

/***/ "./src/app/child-dev-project/children/model/childSchoolRelation.ts":
/*!*************************************************************************!*\
  !*** ./src/app/child-dev-project/children/model/childSchoolRelation.ts ***!
  \*************************************************************************/
/*! exports provided: ChildSchoolRelation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChildSchoolRelation", function() { return ChildSchoolRelation; });
/* harmony import */ var _core_entity_entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/entity/entity */ "./src/app/core/entity/entity.ts");
/* harmony import */ var _core_entity_database_entity_decorator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/entity/database-entity.decorator */ "./src/app/core/entity/database-entity.decorator.ts");
/* harmony import */ var _core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/entity/database-field.decorator */ "./src/app/core/entity/database-field.decorator.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * Record of a school year that a Child attended a certain class in a School.
 */
var ChildSchoolRelation = /** @class */ (function (_super) {
    __extends(ChildSchoolRelation, _super);
    function ChildSchoolRelation() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", String)
    ], ChildSchoolRelation.prototype, "childId", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", String)
    ], ChildSchoolRelation.prototype, "schoolId", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", String)
    ], ChildSchoolRelation.prototype, "schoolClass", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])({ dataType: "date-only" }),
        __metadata("design:type", Date)
    ], ChildSchoolRelation.prototype, "start", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])({ dataType: "date-only" }),
        __metadata("design:type", Date)
    ], ChildSchoolRelation.prototype, "end", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", Number)
    ], ChildSchoolRelation.prototype, "result", void 0);
    ChildSchoolRelation = __decorate([
        Object(_core_entity_database_entity_decorator__WEBPACK_IMPORTED_MODULE_1__["DatabaseEntity"])("ChildSchoolRelation")
    ], ChildSchoolRelation);
    return ChildSchoolRelation;
}(_core_entity_entity__WEBPACK_IMPORTED_MODULE_0__["Entity"]));



/***/ }),

/***/ "./src/app/child-dev-project/children/select-group-children/select-group-children.component.ts":
/*!*****************************************************************************************************!*\
  !*** ./src/app/child-dev-project/children/select-group-children/select-group-children.component.ts ***!
  \*****************************************************************************************************/
/*! exports provided: SelectGroupChildrenComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectGroupChildrenComponent", function() { return SelectGroupChildrenComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _children_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../children.service */ "./src/app/child-dev-project/children/children.service.ts");
/* harmony import */ var _core_filter_filter_selection_filter_selection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/filter/filter-selection/filter-selection */ "./src/app/core/filter/filter-selection/filter-selection.ts");
/* harmony import */ var _ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngneat/until-destroy */ "./node_modules/@ngneat/until-destroy/fesm5/ngneat-until-destroy.js");
/* harmony import */ var _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/flex-layout/flex */ "./node_modules/@angular/flex-layout/esm5/flex.es5.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_select__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/select */ "./node_modules/@angular/material/fesm5/select.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/core */ "./node_modules/@angular/material/fesm5/core.js");
/* harmony import */ var _schools_school_block_school_block_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../schools/school-block/school-block.component */ "./src/app/child-dev-project/schools/school-block/school-block.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













function SelectGroupChildrenComponent_mat_option_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var group_r3 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", group_r3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](group_r3.label);
} }
function SelectGroupChildrenComponent_mat_option_12_span_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var group_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](group_r4.label);
} }
function SelectGroupChildrenComponent_mat_option_12_app_school_block_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-school-block", 9);
} if (rf & 2) {
    var group_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entityId", group_r4.label)("linkDisabled", true);
} }
function SelectGroupChildrenComponent_mat_option_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, SelectGroupChildrenComponent_mat_option_12_span_1_Template, 2, 1, "span", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, SelectGroupChildrenComponent_mat_option_12_app_school_block_2_Template, 1, 2, "app-school-block", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var group_r4 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", group_r4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !group_r4.type);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", group_r4.type === "valueFilter");
} }
function SelectGroupChildrenComponent_mat_option_18_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var group_r9 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", group_r9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](group_r9.label);
} }
/**
 * Use this component in your template to allow the user to select a group of children.
 */
var SelectGroupChildrenComponent = /** @class */ (function () {
    function SelectGroupChildrenComponent(childrenService) {
        this.childrenService = childrenService;
        this.valueChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.value = [];
        this.centerFilters = new _core_filter_filter_selection_filter_selection__WEBPACK_IMPORTED_MODULE_2__["FilterSelection"]("Centers", []);
        this.schoolFilters = new _core_filter_filter_selection_filter_selection__WEBPACK_IMPORTED_MODULE_2__["FilterSelection"]("Schools", []);
        this.classFilters = new _core_filter_filter_selection_filter_selection__WEBPACK_IMPORTED_MODULE_2__["FilterSelection"]("Classes", []);
    }
    SelectGroupChildrenComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.childrenService
            .getChildren()
            .pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_3__["untilDestroyed"])(this))
            .subscribe(function (children) {
            _this.children = children.filter(function (c) { return c.isActive(); });
            _this.centerFilters.options = _this.loadFilterOptionsForProperty(_this.children, "center");
        });
    };
    SelectGroupChildrenComponent.prototype.loadFilterOptionsForProperty = function (children, propertyToBeFiltered) {
        var options = [this.getAllStudentsFilterOption()];
        children
            .map(function (c) { return c[propertyToBeFiltered]; })
            .filter(function (value, index, arr) { return arr.indexOf(value) === index; })
            .forEach(function (id) {
            if (!id) {
                return;
            }
            var filterOption = {
                key: id,
                label: id,
                type: "valueFilter",
                filterFun: function (c) { return c[propertyToBeFiltered] === id; },
            };
            options.push(filterOption);
        });
        return options;
    };
    SelectGroupChildrenComponent.prototype.getAllStudentsFilterOption = function () {
        return {
            key: "all",
            label: "All Students",
            filterFun: function () { return true; },
        };
    };
    SelectGroupChildrenComponent.prototype.selectCenterFilter = function (group) {
        this.selectedCenterFilter = group;
        this.value = this.children.filter(this.selectedCenterFilter.filterFun);
        this.schoolFilters.options = this.loadFilterOptionsForProperty(this.value, "schoolId");
        this.selectSchoolFilter(this.schoolFilters.options[0]); // reset to the default "All Students" filter
    };
    SelectGroupChildrenComponent.prototype.selectSchoolFilter = function (group) {
        this.selectedSchoolFilter = group;
        this.value = this.children
            .filter(this.selectedCenterFilter.filterFun)
            .filter(this.selectedSchoolFilter.filterFun);
        this.classFilters.options = this.loadFilterOptionsForProperty(this.value, "schoolClass");
        this.selectClassFilter(this.classFilters.options[0]); // reset to the default "All Students" filter
    };
    SelectGroupChildrenComponent.prototype.selectClassFilter = function (group) {
        this.selectedClassFilter = group;
        this.value = this.children
            .filter(this.selectedCenterFilter.filterFun)
            .filter(this.selectedSchoolFilter.filterFun)
            .filter(this.selectedClassFilter.filterFun);
    };
    SelectGroupChildrenComponent.prototype.confirmSelectedChildren = function () {
        this.valueChange.emit(this.value);
    };
    SelectGroupChildrenComponent.ɵfac = function SelectGroupChildrenComponent_Factory(t) { return new (t || SelectGroupChildrenComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_children_service__WEBPACK_IMPORTED_MODULE_1__["ChildrenService"])); };
    SelectGroupChildrenComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: SelectGroupChildrenComponent, selectors: [["app-select-group-children"]], outputs: { valueChange: "valueChange" }, decls: 24, vars: 6, consts: [["fxLayout", "column"], ["fxFlex", ""], [3, "valueChange"], [3, "value", 4, "ngFor", "ngForOf"], [3, "disabled", "valueChange"], ["mat-stroked-button", "", "fxFlex", "", 1, "nav-button", 3, "click"], [3, "value"], [4, "ngIf"], [3, "entityId", "linkDisabled", 4, "ngIf"], [3, "entityId", "linkDisabled"]], template: function SelectGroupChildrenComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "mat-form-field", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "mat-label");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, " Select center ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "mat-select", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("valueChange", function SelectGroupChildrenComponent_Template_mat_select_valueChange_5_listener($event) { return ctx.selectCenterFilter($event); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, SelectGroupChildrenComponent_mat_option_6_Template, 3, 2, "mat-option", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "mat-form-field", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "mat-label");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](10, " Select school ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "mat-select", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("valueChange", function SelectGroupChildrenComponent_Template_mat_select_valueChange_11_listener($event) { return ctx.selectSchoolFilter($event); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](12, SelectGroupChildrenComponent_mat_option_12_Template, 3, 3, "mat-option", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "mat-form-field", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "mat-label");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](16, " Select class ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "mat-select", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("valueChange", function SelectGroupChildrenComponent_Template_mat_select_valueChange_17_listener($event) { return ctx.selectClassFilter($event); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](18, SelectGroupChildrenComponent_mat_option_18_Template, 3, 2, "mat-option", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](19, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](20);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](21, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](22, "button", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SelectGroupChildrenComponent_Template_button_click_22_listener() { return ctx.confirmSelectedChildren(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](23, " Continue ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.centerFilters.options);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", ctx.schoolFilters.options.length === 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.schoolFilters.options);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", ctx.schoolFilters.options.length === 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.classFilters.options);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" Total students selected: ", ctx.value.length, " ");
        } }, directives: [_angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_4__["DefaultLayoutDirective"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_5__["MatFormField"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_4__["DefaultFlexDirective"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_5__["MatLabel"], _angular_material_select__WEBPACK_IMPORTED_MODULE_6__["MatSelect"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgForOf"], _angular_material_button__WEBPACK_IMPORTED_MODULE_8__["MatButton"], _angular_material_core__WEBPACK_IMPORTED_MODULE_9__["MatOption"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgIf"], _schools_school_block_school_block_component__WEBPACK_IMPORTED_MODULE_10__["SchoolBlockComponent"]], styles: [".group-select-option[_ngcontent-%COMP%] {\n  width: 100%;\n  padding: 16px;\n  cursor: pointer;\n  box-sizing: border-box;\n  border: 1px solid;\n  border-top: 0;\n}\n\n.group-select-option[_ngcontent-%COMP%]:first-child {\n  border-top: 1px solid;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvY2hpbGRyZW4vc2VsZWN0LWdyb3VwLWNoaWxkcmVuL3NlbGVjdC1ncm91cC1jaGlsZHJlbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvY2hpbGRyZW4vc2VsZWN0LWdyb3VwLWNoaWxkcmVuL3NlbGVjdC1ncm91cC1jaGlsZHJlbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNFLFdBQUE7RUFDQSxhQUFBO0VBQ0EsZUFBQTtFQUNBLHNCQUFBO0VBQ0EsaUJBQUE7RUFDQSxhQUFBO0FDQUY7O0FER0E7RUFDRSxxQkFBQTtBQ0FGIiwiZmlsZSI6InNyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvY2hpbGRyZW4vc2VsZWN0LWdyb3VwLWNoaWxkcmVuL3NlbGVjdC1ncm91cC1jaGlsZHJlbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLmdyb3VwLXNlbGVjdC1vcHRpb24ge1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZzogMTZweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBib3JkZXI6IDFweCBzb2xpZDtcbiAgYm9yZGVyLXRvcDogMDtcbn1cblxuLmdyb3VwLXNlbGVjdC1vcHRpb246Zmlyc3QtY2hpbGQge1xuICBib3JkZXItdG9wOiAxcHggc29saWQ7XG59XG4iLCIuZ3JvdXAtc2VsZWN0LW9wdGlvbiB7XG4gIHdpZHRoOiAxMDAlO1xuICBwYWRkaW5nOiAxNnB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIGJvcmRlcjogMXB4IHNvbGlkO1xuICBib3JkZXItdG9wOiAwO1xufVxuXG4uZ3JvdXAtc2VsZWN0LW9wdGlvbjpmaXJzdC1jaGlsZCB7XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZDtcbn0iXX0= */"] });
    SelectGroupChildrenComponent = __decorate([
        Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_3__["UntilDestroy"])(),
        __metadata("design:paramtypes", [_children_service__WEBPACK_IMPORTED_MODULE_1__["ChildrenService"]])
    ], SelectGroupChildrenComponent);
    return SelectGroupChildrenComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SelectGroupChildrenComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-select-group-children",
                templateUrl: "./select-group-children.component.html",
                styleUrls: ["./select-group-children.component.scss"],
            }]
    }], function () { return [{ type: _children_service__WEBPACK_IMPORTED_MODULE_1__["ChildrenService"] }]; }, { valueChange: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/educational-material/demo-educational-material-generator.service.ts":
/*!*******************************************************************************************************!*\
  !*** ./src/app/child-dev-project/educational-material/demo-educational-material-generator.service.ts ***!
  \*******************************************************************************************************/
/*! exports provided: DemoEducationMaterialConfig, DemoEducationalMaterialGeneratorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DemoEducationMaterialConfig", function() { return DemoEducationMaterialConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DemoEducationalMaterialGeneratorService", function() { return DemoEducationalMaterialGeneratorService; });
/* harmony import */ var _children_demo_data_generators_demo_child_generator_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../children/demo-data-generators/demo-child-generator.service */ "./src/app/child-dev-project/children/demo-data-generators/demo-child-generator.service.ts");
/* harmony import */ var _core_demo_data_demo_data_generator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/demo-data/demo-data-generator */ "./src/app/core/demo-data/demo-data-generator.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/demo-data/faker */ "./src/app/core/demo-data/faker.ts");
/* harmony import */ var _model_educational_material__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./model/educational-material */ "./src/app/child-dev-project/educational-material/model/educational-material.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};







var DemoEducationMaterialConfig = /** @class */ (function () {
    function DemoEducationMaterialConfig() {
    }
    return DemoEducationMaterialConfig;
}());

/**
 * Generate EducationalMaterial records.
 * Builds upon the generated demo Child entities.
 */
var DemoEducationalMaterialGeneratorService = /** @class */ (function (_super) {
    __extends(DemoEducationalMaterialGeneratorService, _super);
    function DemoEducationalMaterialGeneratorService(config, demoChildren) {
        var _this = _super.call(this) || this;
        _this.config = config;
        _this.demoChildren = demoChildren;
        return _this;
    }
    /**
     * This function returns a provider object to be used in an Angular Module configuration:
     *   `providers: [DemoEducationalMaterialGeneratorService.provider()]`
     */
    DemoEducationalMaterialGeneratorService.provider = function (config) {
        return [
            {
                provide: DemoEducationalMaterialGeneratorService,
                useClass: DemoEducationalMaterialGeneratorService,
            },
            { provide: DemoEducationMaterialConfig, useValue: config },
        ];
    };
    DemoEducationalMaterialGeneratorService.prototype.generateEntities = function () {
        var e_1, _a;
        var data = [];
        try {
            for (var _b = __values(this.demoChildren.entities), _c = _b.next(); !_c.done; _c = _b.next()) {
                var child = _c.value;
                var count = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__["faker"].random.number({
                    min: this.config.minCount,
                    max: this.config.maxCount,
                });
                for (var i = 1; i < count; i++) {
                    data.push(this.generateEducationalMaterialEntity(child));
                }
                var specialMaterial = this.generateEducationalMaterialEntity(child);
                specialMaterial.materialType = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__["faker"].random.arrayElement(_model_educational_material__WEBPACK_IMPORTED_MODULE_4__["EducationalMaterial"].MATERIAL_OTHER);
                specialMaterial.materialAmount = 1;
                data.push(specialMaterial);
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
        return data;
    };
    DemoEducationalMaterialGeneratorService.prototype.generateEducationalMaterialEntity = function (child) {
        var entity = new _model_educational_material__WEBPACK_IMPORTED_MODULE_4__["EducationalMaterial"](_core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__["faker"].random.uuid());
        entity.child = child.getId();
        entity.date = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__["faker"].date.between(child.admissionDate, _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__["faker"].getEarlierDateOrToday(child.dropoutDate));
        entity.materialAmount = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__["faker"].random.arrayElement([1, 1, 1, 2, 3]);
        entity.materialType = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__["faker"].random.arrayElement(_model_educational_material__WEBPACK_IMPORTED_MODULE_4__["EducationalMaterial"].MATERIAL_ALL);
        return entity;
    };
    DemoEducationalMaterialGeneratorService.ɵfac = function DemoEducationalMaterialGeneratorService_Factory(t) { return new (t || DemoEducationalMaterialGeneratorService)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](DemoEducationMaterialConfig), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_children_demo_data_generators_demo_child_generator_service__WEBPACK_IMPORTED_MODULE_0__["DemoChildGenerator"])); };
    DemoEducationalMaterialGeneratorService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: DemoEducationalMaterialGeneratorService, factory: DemoEducationalMaterialGeneratorService.ɵfac });
    return DemoEducationalMaterialGeneratorService;
}(_core_demo_data_demo_data_generator__WEBPACK_IMPORTED_MODULE_1__["DemoDataGenerator"]));

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵsetClassMetadata"](DemoEducationalMaterialGeneratorService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"]
    }], function () { return [{ type: DemoEducationMaterialConfig }, { type: _children_demo_data_generators_demo_child_generator_service__WEBPACK_IMPORTED_MODULE_0__["DemoChildGenerator"] }]; }, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/educational-material/educational-material-component/educational-material.component.ts":
/*!*************************************************************************************************************************!*\
  !*** ./src/app/child-dev-project/educational-material/educational-material-component/educational-material.component.ts ***!
  \*************************************************************************************************************************/
/*! exports provided: EducationalMaterialComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EducationalMaterialComponent", function() { return EducationalMaterialComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _model_educational_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/educational-material */ "./src/app/child-dev-project/educational-material/model/educational-material.ts");
/* harmony import */ var _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/entity-subrecord/entity-subrecord/column-description */ "./src/app/core/entity-subrecord/entity-subrecord/column-description.ts");
/* harmony import */ var _children_children_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../children/children.service */ "./src/app/child-dev-project/children/children.service.ts");
/* harmony import */ var _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/entity-subrecord/entity-subrecord/column-description-input-type.enum */ "./src/app/core/entity-subrecord/entity-subrecord/column-description-input-type.enum.ts");
/* harmony import */ var _ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngneat/until-destroy */ "./node_modules/@ngneat/until-destroy/fesm5/ngneat-until-destroy.js");
/* harmony import */ var _children_model_child__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../children/model/child */ "./src/app/child-dev-project/children/model/child.ts");
/* harmony import */ var _core_entity_subrecord_entity_subrecord_entity_subrecord_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/entity-subrecord/entity-subrecord/entity-subrecord.component */ "./src/app/core/entity-subrecord/entity-subrecord/entity-subrecord.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var EducationalMaterialComponent = /** @class */ (function () {
    function EducationalMaterialComponent(childrenService, datePipe) {
        var _this = this;
        this.childrenService = childrenService;
        this.datePipe = datePipe;
        this.records = new Array();
        this.materialTypes = _model_educational_material__WEBPACK_IMPORTED_MODULE_2__["EducationalMaterial"].MATERIAL_ALL;
        this.columns = [
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_3__["ColumnDescription"]("date", "Date", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_5__["ColumnDescriptionInputType"].DATE, null, function (v) { return _this.datePipe.transform(v, "yyyy-MM-dd"); }, "xs"),
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_3__["ColumnDescription"]("materialType", "Material", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_5__["ColumnDescriptionInputType"].AUTOCOMPLETE, this.materialTypes.map(function (t) {
                return { value: t, label: t };
            }), undefined, "xs"),
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_3__["ColumnDescription"]("materialAmount", "Amount", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_5__["ColumnDescriptionInputType"].NUMBER, null, undefined, "md"),
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_3__["ColumnDescription"]("description", "Description/Remarks", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_5__["ColumnDescriptionInputType"].TEXT, null, undefined, "md"),
        ];
    }
    EducationalMaterialComponent.prototype.ngOnChanges = function (changes) {
        if (changes.hasOwnProperty("child")) {
            this.loadData(this.child.getId());
        }
    };
    EducationalMaterialComponent.prototype.loadData = function (id) {
        var _this = this;
        this.childrenService
            .getEducationalMaterialsOfChild(id)
            .pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_6__["untilDestroyed"])(this))
            .subscribe(function (results) {
            _this.records = results.sort(function (a, b) {
                return (b.date ? b.date.valueOf() : 0) - (a.date ? a.date.valueOf() : 0);
            });
        });
    };
    EducationalMaterialComponent.prototype.generateNewRecordFactory = function () {
        var _this = this;
        // define values locally because "this" is a different scope after passing a function as input to another component
        var child = this.child.getId();
        return function () {
            var newAtt = new _model_educational_material__WEBPACK_IMPORTED_MODULE_2__["EducationalMaterial"](Date.now().toString());
            // use last entered date as default, otherwise today's date
            newAtt.date = _this.records.length > 0 ? _this.records[0].date : new Date();
            newAtt.child = child;
            return newAtt;
        };
    };
    EducationalMaterialComponent.prototype.getSummary = function () {
        if (this.records.length === 0) {
            return "";
        }
        var summary = new Map();
        this.records.forEach(function (m) {
            var previousValue = summary.has(m.materialType)
                ? summary.get(m.materialType)
                : 0;
            summary.set(m.materialType, previousValue + m.materialAmount);
        });
        var summaryText = "";
        summary.forEach(function (v, k) { return (summaryText = summaryText + k + ": " + v + ", "); });
        return summaryText;
    };
    EducationalMaterialComponent.ɵfac = function EducationalMaterialComponent_Factory(t) { return new (t || EducationalMaterialComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_children_children_service__WEBPACK_IMPORTED_MODULE_4__["ChildrenService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_common__WEBPACK_IMPORTED_MODULE_1__["DatePipe"])); };
    EducationalMaterialComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: EducationalMaterialComponent, selectors: [["app-educational-material"]], inputs: { child: "child" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 3, vars: 4, consts: [[3, "records", "columns", "newRecordFactory"], [2, "margin-top", "20px"]], template: function EducationalMaterialComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-entity-subrecord", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("records", ctx.records)("columns", ctx.columns)("newRecordFactory", ctx.generateNewRecordFactory());
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" Total: ", ctx.getSummary(), "\n");
        } }, directives: [_core_entity_subrecord_entity_subrecord_entity_subrecord_component__WEBPACK_IMPORTED_MODULE_8__["EntitySubrecordComponent"]], encapsulation: 2 });
    EducationalMaterialComponent = __decorate([
        Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_6__["UntilDestroy"])(),
        __metadata("design:paramtypes", [_children_children_service__WEBPACK_IMPORTED_MODULE_4__["ChildrenService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["DatePipe"]])
    ], EducationalMaterialComponent);
    return EducationalMaterialComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](EducationalMaterialComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-educational-material",
                templateUrl: "./educational-material.component.html",
            }]
    }], function () { return [{ type: _children_children_service__WEBPACK_IMPORTED_MODULE_4__["ChildrenService"] }, { type: _angular_common__WEBPACK_IMPORTED_MODULE_1__["DatePipe"] }]; }, { child: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/educational-material/model/educational-material.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/child-dev-project/educational-material/model/educational-material.ts ***!
  \**************************************************************************************/
/*! exports provided: EducationalMaterial */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EducationalMaterial", function() { return EducationalMaterial; });
/* harmony import */ var _core_entity_entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/entity/entity */ "./src/app/core/entity/entity.ts");
/* harmony import */ var _core_entity_database_entity_decorator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/entity/database-entity.decorator */ "./src/app/core/entity/database-entity.decorator.ts");
/* harmony import */ var _core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/entity/database-field.decorator */ "./src/app/core/entity/database-field.decorator.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var EducationalMaterial = /** @class */ (function (_super) {
    __extends(EducationalMaterial, _super);
    function EducationalMaterial() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.materialType = "";
        _this.description = "";
        return _this;
    }
    EducationalMaterial_1 = EducationalMaterial;
    EducationalMaterial.prototype.getColor = function () {
        if (EducationalMaterial_1.MATERIAL_STATIONARIES.includes(this.materialType)) {
            return "white";
        }
        else {
            return "#B3E5FC";
        }
    };
    var EducationalMaterial_1;
    EducationalMaterial.MATERIAL_STATIONARIES = [
        "pencil",
        "eraser",
        "sharpener",
        "pen (black)",
        "pen (blue)",
        "oil pastels",
        "crayons",
        "sketch pens",
        "scale (big)",
        "scale (small)",
        "geometry box",
        "copy (single line, small)",
        "copy (single line, big)",
        "copy (four line)",
        "copy (squared)",
        "copy (plain)",
        "copy (line-plain)",
        "copy (drawing)",
        "copy (practical)",
        "graph book",
        "project papers",
        "project file",
        "scrap book",
        "exam board",
    ];
    EducationalMaterial.MATERIAL_OTHER = [
        "Bag",
        "School Uniform",
        "School Shoes",
        "Sports Dress",
        "Sports Shoes",
        "Raincoat",
    ];
    EducationalMaterial.MATERIAL_ALL = EducationalMaterial_1.MATERIAL_STATIONARIES.concat(EducationalMaterial_1.MATERIAL_OTHER);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", String)
    ], EducationalMaterial.prototype, "child", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", Date)
    ], EducationalMaterial.prototype, "date", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", Object)
    ], EducationalMaterial.prototype, "materialType", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", Number)
    ], EducationalMaterial.prototype, "materialAmount", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", Object)
    ], EducationalMaterial.prototype, "description", void 0);
    EducationalMaterial = EducationalMaterial_1 = __decorate([
        Object(_core_entity_database_entity_decorator__WEBPACK_IMPORTED_MODULE_1__["DatabaseEntity"])("EducationalMaterial")
    ], EducationalMaterial);
    return EducationalMaterial;
}(_core_entity_entity__WEBPACK_IMPORTED_MODULE_0__["Entity"]));



/***/ }),

/***/ "./src/app/child-dev-project/health-checkup/demo-data/demo-health-check-generator.service.ts":
/*!***************************************************************************************************!*\
  !*** ./src/app/child-dev-project/health-checkup/demo-data/demo-health-check-generator.service.ts ***!
  \***************************************************************************************************/
/*! exports provided: DemoHealthCheckGeneratorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DemoHealthCheckGeneratorService", function() { return DemoHealthCheckGeneratorService; });
/* harmony import */ var _children_demo_data_generators_demo_child_generator_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../children/demo-data-generators/demo-child-generator.service */ "./src/app/child-dev-project/children/demo-data-generators/demo-child-generator.service.ts");
/* harmony import */ var _core_demo_data_demo_data_generator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/demo-data/demo-data-generator */ "./src/app/core/demo-data/demo-data-generator.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/demo-data/faker */ "./src/app/core/demo-data/faker.ts");
/* harmony import */ var _model_health_check__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../model/health-check */ "./src/app/child-dev-project/health-checkup/model/health-check.ts");
/* harmony import */ var _height_weight__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./height-weight */ "./src/app/child-dev-project/health-checkup/demo-data/height-weight.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};








/**
 * Generate HealthCheck records every 6 months for children up to the age of 12.
 * Builds upon the generated demo Child entities.
 */
var DemoHealthCheckGeneratorService = /** @class */ (function (_super) {
    __extends(DemoHealthCheckGeneratorService, _super);
    function DemoHealthCheckGeneratorService(demoChildren) {
        var _this = _super.call(this) || this;
        _this.demoChildren = demoChildren;
        return _this;
    }
    /**
     * This function returns a provider object to be used in an Angular Module configuration:
     *   `providers: [DemoHealthCheckGeneratorService.provider()]`
     */
    DemoHealthCheckGeneratorService.provider = function () {
        return [
            {
                provide: DemoHealthCheckGeneratorService,
                useClass: DemoHealthCheckGeneratorService,
            },
        ];
    };
    DemoHealthCheckGeneratorService.prototype.generateEntities = function () {
        var e_1, _a;
        var data = [];
        try {
            for (var _b = __values(this.demoChildren.entities), _c = _b.next(); !_c.done; _c = _b.next()) {
                var child = _c.value;
                data.push.apply(data, __spread(this.generateHealthCheckHistoryForChild(child)));
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
        return data;
    };
    DemoHealthCheckGeneratorService.prototype.generateHealthCheckHistoryForChild = function (child) {
        var data = [];
        var date = new Date(child.admissionDate.getTime());
        var previousRecord = new _model_health_check__WEBPACK_IMPORTED_MODULE_4__["HealthCheck"]("");
        previousRecord.height = 0;
        previousRecord.weight = 0;
        do {
            var record = new _model_health_check__WEBPACK_IMPORTED_MODULE_4__["HealthCheck"](_core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__["faker"].random.uuid());
            record.child = child.getId();
            record.date = date;
            this.setNextHeightAndWeight(record, previousRecord, this.getAgeAtDate(child, date));
            data.push(record);
            if (date.getMonth() === 0) {
                date = new Date(date.getFullYear(), 5, 1);
            }
            else {
                date = new Date(date.getFullYear() + 1, 0, 1);
            }
            previousRecord = record;
        } while (date < _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__["faker"].getEarlierDateOrToday(child.dropoutDate) &&
            this.getAgeAtDate(child, date) < 12);
        return data;
    };
    DemoHealthCheckGeneratorService.prototype.getAgeAtDate = function (child, date) {
        var timeDiff = date.getTime() - child.dateOfBirth.getTime();
        return timeDiff / (1000 * 60 * 60 * 24 * 365);
    };
    DemoHealthCheckGeneratorService.prototype.setNextHeightAndWeight = function (record, previousRecord, age) {
        var ageRoundedToHalfYear = Math.round(2 * age) / 2;
        var randomHeight = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__["faker"].random.number(_height_weight__WEBPACK_IMPORTED_MODULE_5__["heightRangeForAge"].get(ageRoundedToHalfYear));
        record.height = Math.max(randomHeight, previousRecord.height); // height will not become less
        record.weight = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_3__["faker"].random.number(_height_weight__WEBPACK_IMPORTED_MODULE_5__["weightRangeForAge"].get(ageRoundedToHalfYear));
    };
    DemoHealthCheckGeneratorService.ɵfac = function DemoHealthCheckGeneratorService_Factory(t) { return new (t || DemoHealthCheckGeneratorService)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_children_demo_data_generators_demo_child_generator_service__WEBPACK_IMPORTED_MODULE_0__["DemoChildGenerator"])); };
    DemoHealthCheckGeneratorService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: DemoHealthCheckGeneratorService, factory: DemoHealthCheckGeneratorService.ɵfac });
    return DemoHealthCheckGeneratorService;
}(_core_demo_data_demo_data_generator__WEBPACK_IMPORTED_MODULE_1__["DemoDataGenerator"]));

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵsetClassMetadata"](DemoHealthCheckGeneratorService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"]
    }], function () { return [{ type: _children_demo_data_generators_demo_child_generator_service__WEBPACK_IMPORTED_MODULE_0__["DemoChildGenerator"] }]; }, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/health-checkup/demo-data/height-weight.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/child-dev-project/health-checkup/demo-data/height-weight.ts ***!
  \*****************************************************************************/
/*! exports provided: heightRangeForAge, weightRangeForAge */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "heightRangeForAge", function() { return heightRangeForAge; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "weightRangeForAge", function() { return weightRangeForAge; });
// values based on https://www.cdc.gov/growthcharts/percentile_data_files.htm
var heightRangeForAge = new Map([
    [2, { min: 78, max: 91 }],
    [2.5, { min: 83, max: 97 }],
    [3, { min: 86, max: 101 }],
    [3.5, { min: 89, max: 105 }],
    [4, { min: 93, max: 109 }],
    [4.5, { min: 96, max: 113 }],
    [5, { min: 99, max: 117 }],
    [5.5, { min: 102, max: 121 }],
    [6, { min: 105, max: 125 }],
    [6.5, { min: 108, max: 129 }],
    [7, { min: 111, max: 132 }],
    [7.5, { min: 114, max: 136 }],
    [8, { min: 116, max: 138 }],
    [8.5, { min: 119, max: 142 }],
    [9, { min: 121, max: 145 }],
    [9.5, { min: 123, max: 148 }],
    [10, { min: 125, max: 150 }],
    [10.5, { min: 127, max: 154 }],
    [11, { min: 130, max: 157 }],
    [11.5, { min: 133, max: 161 }],
    [12, { min: 136, max: 164 }],
    [12.5, { min: 140, max: 167 }],
    [13, { min: 144, max: 170 }],
    [13.5, { min: 146, max: 171 }],
    [14, { min: 148, max: 172 }],
    [14.5, { min: 148, max: 173 }],
]);
var weightRangeForAge = new Map([
    [2, { min: 10, max: 15 }],
    [2.5, { min: 10, max: 16 }],
    [3, { min: 11, max: 17 }],
    [3.5, { min: 11, max: 19 }],
    [4, { min: 12, max: 20 }],
    [4.5, { min: 13, max: 22 }],
    [5, { min: 14, max: 24 }],
    [5.5, { min: 15, max: 26 }],
    [6, { min: 15, max: 28 }],
    [6.5, { min: 16, max: 30 }],
    [7, { min: 17, max: 32 }],
    [7.5, { min: 18, max: 35 }],
    [8, { min: 19, max: 38 }],
    [8.5, { min: 20, max: 40 }],
    [9, { min: 21, max: 44 }],
    [9.5, { min: 22, max: 47 }],
    [10, { min: 23, max: 50 }],
    [10.5, { min: 25, max: 54 }],
    [11, { min: 26, max: 58 }],
    [11.5, { min: 28, max: 61 }],
    [12, { min: 29, max: 65 }],
    [12.5, { min: 31, max: 68 }],
    [13, { min: 33, max: 71 }],
    [13.5, { min: 34, max: 74 }],
    [14, { min: 36, max: 77 }],
    [14.5, { min: 38, max: 79 }],
]);


/***/ }),

/***/ "./src/app/child-dev-project/health-checkup/health-checkup-component/health-checkup.component.ts":
/*!*******************************************************************************************************!*\
  !*** ./src/app/child-dev-project/health-checkup/health-checkup-component/health-checkup.component.ts ***!
  \*******************************************************************************************************/
/*! exports provided: HealthCheckupComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HealthCheckupComponent", function() { return HealthCheckupComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _model_health_check__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/health-check */ "./src/app/child-dev-project/health-checkup/model/health-check.ts");
/* harmony import */ var _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/entity-subrecord/entity-subrecord/column-description */ "./src/app/core/entity-subrecord/entity-subrecord/column-description.ts");
/* harmony import */ var _children_children_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../children/children.service */ "./src/app/child-dev-project/children/children.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/entity-subrecord/entity-subrecord/column-description-input-type.enum */ "./src/app/core/entity-subrecord/entity-subrecord/column-description-input-type.enum.ts");
/* harmony import */ var _ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngneat/until-destroy */ "./node_modules/@ngneat/until-destroy/fesm5/ngneat-until-destroy.js");
/* harmony import */ var _children_model_child__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../children/model/child */ "./src/app/child-dev-project/children/model/child.ts");
/* harmony import */ var _core_entity_subrecord_entity_subrecord_entity_subrecord_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/entity-subrecord/entity-subrecord/entity-subrecord.component */ "./src/app/core/entity-subrecord/entity-subrecord/entity-subrecord.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var HealthCheckupComponent = /** @class */ (function () {
    function HealthCheckupComponent(childrenService, datePipe) {
        var _this = this;
        this.childrenService = childrenService;
        this.datePipe = datePipe;
        this.records = new Array();
        /**
         * Column Description for the SubentityRecordComponent
         * The Date-Column needs to be transformed to apply the MathFormCheck in the SubentityRecordComponent
         * BMI is rounded to 2 decimal digits
         */
        this.columns = [
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_2__["ColumnDescription"]("date", "Date", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_5__["ColumnDescriptionInputType"].DATE, null, function (v) { return _this.datePipe.transform(v, "yyyy-MM-dd"); }),
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_2__["ColumnDescription"]("height", "Height [cm]", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_5__["ColumnDescriptionInputType"].NUMBER, null, function (height) { return height + " cm"; }),
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_2__["ColumnDescription"]("weight", "Weight [kg]", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_5__["ColumnDescriptionInputType"].NUMBER, null, function (weight) { return weight + " kg"; }),
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_2__["ColumnDescription"]("bmi", "BMI", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_5__["ColumnDescriptionInputType"].READONLY, null, function (bmi) { return bmi.toFixed(2); }),
        ];
    }
    HealthCheckupComponent.prototype.ngOnChanges = function (changes) {
        if (changes.hasOwnProperty("child")) {
            this.loadData(this.child.getId());
        }
    };
    HealthCheckupComponent.prototype.generateNewRecordFactory = function () {
        var _this = this;
        // define values locally because "this" is a different scope after passing a function as input to another component
        var childId = this.child.getId();
        return function () {
            var newHC = new _model_health_check__WEBPACK_IMPORTED_MODULE_1__["HealthCheck"](Date.now().toString());
            // use last entered date as default, otherwise today's date
            newHC.date = _this.records.length > 0 ? _this.records[0].date : new Date();
            newHC.child = childId;
            return newHC;
        };
    };
    /**
     * implements the health check loading from the children service and is called in the onInit()
     */
    HealthCheckupComponent.prototype.loadData = function (id) {
        var _this = this;
        this.childrenService
            .getHealthChecksOfChild(id)
            .pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_6__["untilDestroyed"])(this))
            .subscribe(function (results) {
            _this.records = results.sort(function (a, b) {
                return (b.date ? b.date.valueOf() : 0) - (a.date ? a.date.valueOf() : 0);
            });
        });
    };
    HealthCheckupComponent.ɵfac = function HealthCheckupComponent_Factory(t) { return new (t || HealthCheckupComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_children_children_service__WEBPACK_IMPORTED_MODULE_3__["ChildrenService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_common__WEBPACK_IMPORTED_MODULE_4__["DatePipe"])); };
    HealthCheckupComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: HealthCheckupComponent, selectors: [["app-health-checkup"]], inputs: { child: "child" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 3, consts: [[3, "records", "columns", "newRecordFactory"]], template: function HealthCheckupComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-entity-subrecord", 0);
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("records", ctx.records)("columns", ctx.columns)("newRecordFactory", ctx.generateNewRecordFactory());
        } }, directives: [_core_entity_subrecord_entity_subrecord_entity_subrecord_component__WEBPACK_IMPORTED_MODULE_8__["EntitySubrecordComponent"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NoaWxkLWRldi1wcm9qZWN0L2hlYWx0aC1jaGVja3VwL2hlYWx0aC1jaGVja3VwLWNvbXBvbmVudC9oZWFsdGgtY2hlY2t1cC5jb21wb25lbnQuc2NzcyJ9 */"] });
    HealthCheckupComponent = __decorate([
        Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_6__["UntilDestroy"])(),
        __metadata("design:paramtypes", [_children_children_service__WEBPACK_IMPORTED_MODULE_3__["ChildrenService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_4__["DatePipe"]])
    ], HealthCheckupComponent);
    return HealthCheckupComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](HealthCheckupComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-health-checkup",
                templateUrl: "./health-checkup.component.html",
                styleUrls: ["./health-checkup.component.scss"],
            }]
    }], function () { return [{ type: _children_children_service__WEBPACK_IMPORTED_MODULE_3__["ChildrenService"] }, { type: _angular_common__WEBPACK_IMPORTED_MODULE_4__["DatePipe"] }]; }, { child: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/health-checkup/model/health-check.ts":
/*!************************************************************************!*\
  !*** ./src/app/child-dev-project/health-checkup/model/health-check.ts ***!
  \************************************************************************/
/*! exports provided: HealthCheck */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HealthCheck", function() { return HealthCheck; });
/* harmony import */ var _core_entity_entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/entity/entity */ "./src/app/core/entity/entity.ts");
/* harmony import */ var _core_entity_database_entity_decorator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/entity/database-entity.decorator */ "./src/app/core/entity/database-entity.decorator.ts");
/* harmony import */ var _core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/entity/database-field.decorator */ "./src/app/core/entity/database-field.decorator.ts");
/* harmony import */ var _warning_level__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../warning-level */ "./src/app/child-dev-project/warning-level.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




/**
 * Model Class for the Health Checks that are taken for a Child.
 * It stores the Child's ID in a String and both, the height and weight in cm as a number, and the Date
 */
var HealthCheck = /** @class */ (function (_super) {
    __extends(HealthCheck, _super);
    function HealthCheck() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Object.defineProperty(HealthCheck.prototype, "bmi", {
        get: function () {
            return this.weight / ((this.height / 100) * (this.height / 100));
        },
        enumerable: true,
        configurable: true
    });
    HealthCheck.prototype.getWarningLevel = function () {
        if (this.bmi <= 16 || this.bmi >= 30) {
            return _warning_level__WEBPACK_IMPORTED_MODULE_3__["WarningLevel"].URGENT;
        }
        else if (this.bmi >= 18 && this.bmi <= 25) {
            return _warning_level__WEBPACK_IMPORTED_MODULE_3__["WarningLevel"].OK;
        }
        else {
            return _warning_level__WEBPACK_IMPORTED_MODULE_3__["WarningLevel"].WARNING;
        }
    };
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", String)
    ], HealthCheck.prototype, "child", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", Date)
    ], HealthCheck.prototype, "date", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", Number)
    ], HealthCheck.prototype, "height", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", Number)
    ], HealthCheck.prototype, "weight", void 0);
    HealthCheck = __decorate([
        Object(_core_entity_database_entity_decorator__WEBPACK_IMPORTED_MODULE_1__["DatabaseEntity"])("HealthCheck")
    ], HealthCheck);
    return HealthCheck;
}(_core_entity_entity__WEBPACK_IMPORTED_MODULE_0__["Entity"]));



/***/ }),

/***/ "./src/app/child-dev-project/notes/dashboard-widgets/no-recent-notes-dashboard/no-recent-notes-dashboard.component.ts":
/*!****************************************************************************************************************************!*\
  !*** ./src/app/child-dev-project/notes/dashboard-widgets/no-recent-notes-dashboard/no-recent-notes-dashboard.component.ts ***!
  \****************************************************************************************************************************/
/*! exports provided: NoRecentNotesDashboardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NoRecentNotesDashboardComponent", function() { return NoRecentNotesDashboardComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _children_children_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../children/children.service */ "./src/app/child-dev-project/children/children.service.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/table */ "./node_modules/@angular/material/fesm5/table.js");
/* harmony import */ var _angular_material_sort__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/sort */ "./node_modules/@angular/material/fesm5/sort.js");
/* harmony import */ var _angular_material_paginator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/paginator */ "./node_modules/@angular/material/fesm5/paginator.js");
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/card */ "./node_modules/@angular/material/fesm5/card.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/tooltip */ "./node_modules/@angular/material/fesm5/tooltip.js");
/* harmony import */ var _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/progress-spinner */ "./node_modules/@angular/material/fesm5/progress-spinner.js");
/* harmony import */ var _children_child_block_child_block_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../children/child-block/child-block.component */ "./src/app/child-dev-project/children/child-block/child-block.component.ts");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm2015/angulartics2.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};




















function NoRecentNotesDashboardComponent_span_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-spinner", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, " \u00A0 ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("diameter", 40);
} }
function NoRecentNotesDashboardComponent_span_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx_r1.concernedChildren == null ? null : ctx_r1.concernedChildren.length, " ");
} }
function NoRecentNotesDashboardComponent_th_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Name");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function NoRecentNotesDashboardComponent_td_17_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "app-child-block", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r8 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entity", child_r8);
} }
function NoRecentNotesDashboardComponent_th_19_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Days passed");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function NoRecentNotesDashboardComponent_td_20_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var child_r9 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 1, child_r9.daysSinceLastNote, "1.0-0"), " days ");
} }
function NoRecentNotesDashboardComponent_tr_21_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "tr", 23);
} }
var _c0 = function (a1) { return ["/child", a1]; };
function NoRecentNotesDashboardComponent_tr_22_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "tr", 24);
} if (rf & 2) {
    var child_r10 = ctx.$implicit;
    var i_r11 = ctx.index;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](2, _c0, child_r10.getId()))("angularticsLabel", "list-entry-" + i_r11);
} }
/**
 * Dashboard Widget displaying children that do not have a recently added Note.
 *
 * If you do not set "sinceDays" of "fromBeginningOfWeek" inputs
 * by default notes since beginning of the current week are considered.
 */
var NoRecentNotesDashboardComponent = /** @class */ (function () {
    function NoRecentNotesDashboardComponent(childrenService) {
        this.childrenService = childrenService;
        /**
         * number of days since last note that children should be considered having a "recent" note.
         */
        this.sinceDays = 0;
        /** Whether an additional offset should be automatically added to include notes from the beginning of the week */
        this.fromBeginningOfWeek = true;
        /** The offset in days since beginning of the week (used for "fromBeginningOfWeek" option) */
        this.daysSinceBeginningOfWeek = moment__WEBPACK_IMPORTED_MODULE_2___default()()
            .startOf("day")
            .diff(moment__WEBPACK_IMPORTED_MODULE_2___default()().startOf("week"), "days");
        /** children displayed in the template
         * Child entities with additional "daysSinceLastNote" field
         */
        this.concernedChildren = [];
        this.columnsToDisplay = ["name", "daysSinceLastNote"];
        this.childrenWithNoteInfoDataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_4__["MatTableDataSource"]();
    }
    NoRecentNotesDashboardComponent.prototype.onInitFromDynamicConfig = function (config) {
        if (config === null || config === void 0 ? void 0 : config.sinceDays) {
            this.sinceDays = config.sinceDays;
        }
        if (config === null || config === void 0 ? void 0 : config.fromBeginningOfWeek) {
            this.fromBeginningOfWeek = config.fromBeginningOfWeek;
        }
    };
    NoRecentNotesDashboardComponent.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadConcernedChildrenFromIndex()];
                    case 1:
                        _a.sent();
                        this.childrenWithNoteInfoDataSource.data = this.concernedChildren;
                        return [2 /*return*/];
                }
            });
        });
    };
    NoRecentNotesDashboardComponent.prototype.ngAfterViewInit = function () {
        this.childrenWithNoteInfoDataSource.sort = this.sort;
        this.childrenWithNoteInfoDataSource.paginator = this.paginator;
    };
    NoRecentNotesDashboardComponent.prototype.loadConcernedChildrenFromIndex = function () {
        return __awaiter(this, void 0, void 0, function () {
            var children, lastNoteStats, resultChildren, children_1, children_1_1, child;
            var e_1, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.isLoading = true;
                        return [4 /*yield*/, this.childrenService
                                .getChildren()
                                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["take"])(1))
                                .toPromise()];
                    case 1:
                        children = (_b.sent()).filter(function (c) { return c.isActive(); });
                        return [4 /*yield*/, this.childrenService.getDaysSinceLastNoteOfEachChild()];
                    case 2:
                        lastNoteStats = _b.sent();
                        resultChildren = [];
                        try {
                            for (children_1 = __values(children), children_1_1 = children_1.next(); !children_1_1.done; children_1_1 = children_1.next()) {
                                child = children_1_1.value;
                                if (lastNoteStats.has(child.getId())) {
                                    child.daysSinceLastNote = lastNoteStats.get(child.getId());
                                    if (!this.isWithinDayRange(child.daysSinceLastNote)) {
                                        resultChildren.push(child);
                                    }
                                }
                                else {
                                    child.daysSinceLastNote = 0;
                                    resultChildren.push(child);
                                }
                            }
                        }
                        catch (e_1_1) { e_1 = { error: e_1_1 }; }
                        finally {
                            try {
                                if (children_1_1 && !children_1_1.done && (_a = children_1.return)) _a.call(children_1);
                            }
                            finally { if (e_1) throw e_1.error; }
                        }
                        this.concernedChildren = resultChildren.sort(function (a, b) { return b.daysSinceLastNote - a.daysSinceLastNote; });
                        this.isLoading = false;
                        return [2 /*return*/];
                }
            });
        });
    };
    NoRecentNotesDashboardComponent.prototype.isWithinDayRange = function (daysSinceLastNote) {
        if (this.fromBeginningOfWeek) {
            return (daysSinceLastNote <= this.sinceDays + this.daysSinceBeginningOfWeek);
        }
        else {
            return daysSinceLastNote <= this.sinceDays;
        }
    };
    NoRecentNotesDashboardComponent.ɵfac = function NoRecentNotesDashboardComponent_Factory(t) { return new (t || NoRecentNotesDashboardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_children_children_service__WEBPACK_IMPORTED_MODULE_1__["ChildrenService"])); };
    NoRecentNotesDashboardComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: NoRecentNotesDashboardComponent, selectors: [["app-no-recent-notes-dashboard"]], viewQuery: function NoRecentNotesDashboardComponent_Query(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_angular_material_sort__WEBPACK_IMPORTED_MODULE_5__["MatSort"], true);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_angular_material_paginator__WEBPACK_IMPORTED_MODULE_6__["MatPaginator"], true);
        } if (rf & 2) {
            var _t;
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.sort = _t.first);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.paginator = _t.first);
        } }, inputs: { sinceDays: "sinceDays", fromBeginningOfWeek: "fromBeginningOfWeek" }, decls: 24, vars: 9, consts: [[1, "dashboard-widget"], [1, "app-note"], ["mat-card-avatar", ""], ["fontIcon", "fa-file-text-o"], [2, "position", "relative"], [4, "ngIf"], [3, "matTooltip"], [1, "subtitle-highlight"], [1, "mat-elevation-z8", "table-list"], ["mat-table", "", "matSort", "", "width", "100%", 3, "dataSource"], ["matColumnDef", "name"], ["mat-header-cell", "", "mat-sort-header", "", 4, "matHeaderCellDef"], ["mat-cell", "", 4, "matCellDef"], ["matColumnDef", "daysSinceLastNote"], ["mat-cell", "", "class", "dashboard-table-additional-info-cell", 4, "matCellDef"], ["mat-header-row", "", "style", "display: none;", 4, "matHeaderRowDef"], ["mat-row", "", "angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "dashboard_no_recent_notes_link", "class", "dashboard-table-row w-WARNING", "style", "cursor: pointer;", 3, "routerLink", "angularticsLabel", 4, "matRowDef", "matRowDefColumns"], [3, "pageSize", "hidePageSize", "showFirstLastButtons"], [1, "loading-indicator", 3, "diameter"], ["mat-header-cell", "", "mat-sort-header", ""], ["mat-cell", ""], [3, "entity"], ["mat-cell", "", 1, "dashboard-table-additional-info-cell"], ["mat-header-row", "", 2, "display", "none"], ["mat-row", "", "angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "dashboard_no_recent_notes_link", 1, "dashboard-table-row", "w-WARNING", 2, "cursor", "pointer", 3, "routerLink", "angularticsLabel"]], template: function NoRecentNotesDashboardComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-card", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-card-header", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "mat-icon", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "mat-card-title", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, NoRecentNotesDashboardComponent_span_5_Template, 3, 1, "span", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, NoRecentNotesDashboardComponent_span_6_Template, 2, 1, "span", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "mat-card-subtitle", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8, " Children ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "span", 7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](10, "without");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11, " recent report ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "mat-card-content");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "div", 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "table", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](15, 10);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](16, NoRecentNotesDashboardComponent_th_16_Template, 2, 0, "th", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](17, NoRecentNotesDashboardComponent_td_17_Template, 2, 1, "td", 12);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](18, 13);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](19, NoRecentNotesDashboardComponent_th_19_Template, 2, 0, "th", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](20, NoRecentNotesDashboardComponent_td_20_Template, 3, 4, "td", 14);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](21, NoRecentNotesDashboardComponent_tr_21_Template, 1, 0, "tr", 15);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](22, NoRecentNotesDashboardComponent_tr_22_Template, 1, 4, "tr", 16);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](23, "mat-paginator", 17);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isLoading);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.isLoading);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matTooltip", "includes children without a note " + (ctx.fromBeginningOfWeek ? "since beginning of week " : "") + (ctx.sinceDays > 0 ? "within the last " + ctx.sinceDays + " days" : ""));
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("dataSource", ctx.childrenWithNoteInfoDataSource);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matHeaderRowDef", ctx.columnsToDisplay);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matRowDefColumns", ctx.columnsToDisplay);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("pageSize", 4)("hidePageSize", true)("showFirstLastButtons", true);
        } }, directives: [_angular_material_card__WEBPACK_IMPORTED_MODULE_7__["MatCard"], _angular_material_card__WEBPACK_IMPORTED_MODULE_7__["MatCardHeader"], _angular_material_card__WEBPACK_IMPORTED_MODULE_7__["MatCardAvatar"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_8__["MatIcon"], _angular_material_card__WEBPACK_IMPORTED_MODULE_7__["MatCardTitle"], _angular_common__WEBPACK_IMPORTED_MODULE_9__["NgIf"], _angular_material_card__WEBPACK_IMPORTED_MODULE_7__["MatCardSubtitle"], _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_10__["MatTooltip"], _angular_material_card__WEBPACK_IMPORTED_MODULE_7__["MatCardContent"], _angular_material_table__WEBPACK_IMPORTED_MODULE_4__["MatTable"], _angular_material_sort__WEBPACK_IMPORTED_MODULE_5__["MatSort"], _angular_material_table__WEBPACK_IMPORTED_MODULE_4__["MatColumnDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_4__["MatHeaderCellDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_4__["MatCellDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_4__["MatHeaderRowDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_4__["MatRowDef"], _angular_material_paginator__WEBPACK_IMPORTED_MODULE_6__["MatPaginator"], _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_11__["MatSpinner"], _angular_material_table__WEBPACK_IMPORTED_MODULE_4__["MatHeaderCell"], _angular_material_sort__WEBPACK_IMPORTED_MODULE_5__["MatSortHeader"], _angular_material_table__WEBPACK_IMPORTED_MODULE_4__["MatCell"], _children_child_block_child_block_component__WEBPACK_IMPORTED_MODULE_12__["ChildBlockComponent"], _angular_material_table__WEBPACK_IMPORTED_MODULE_4__["MatHeaderRow"], _angular_material_table__WEBPACK_IMPORTED_MODULE_4__["MatRow"], angulartics2__WEBPACK_IMPORTED_MODULE_13__["Angulartics2On"], _angular_router__WEBPACK_IMPORTED_MODULE_14__["RouterLink"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_9__["DecimalPipe"]], styles: [".dashboard-table-row[_ngcontent-%COMP%] {\n  border-top: 1px solid black;\n  cursor: pointer;\n}\n\n.dashboard-table[_ngcontent-%COMP%] {\n  width: 100%;\n  border-collapse: collapse;\n  table-layout: fixed;\n}\n\n.dashboard-table-first-cell[_ngcontent-%COMP%] {\n  white-space: nowrap;\n  overflow: hidden;\n}\n\n.dashboard-table-additional-info-cell[_ngcontent-%COMP%] {\n  font-size: 0.8em;\n  width: 48px;\n  text-align: right;\n  padding: 10px;\n}\n\n.subtitle-highlight[_ngcontent-%COMP%] {\n  font-weight: bold;\n  font-style: italic;\n}\n\n.row-link[_ngcontent-%COMP%] {\n  padding: 10px;\n}\n\n.loading-indicator[_ngcontent-%COMP%] {\n  position: absolute;\n  right: 0;\n  top: -12px;\n}\n\n.mat-paginator[_ngcontent-%COMP%] {\n  font-size: x-small;\n  padding: 0;\n}\n\n.spaceBetweenFlex[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n\n  .mat-paginator .mat-paginator-container {\n  justify-content: left;\n  padding: 0;\n}\n\n  .mat-paginator .mat-option {\n  padding: 0 !important;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3Qvbm90ZXMvZGFzaGJvYXJkLXdpZGdldHMvbm8tcmVjZW50LW5vdGVzLWRhc2hib2FyZC9uby1yZWNlbnQtbm90ZXMtZGFzaGJvYXJkLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jaGlsZC1kZXYtcHJvamVjdC9ub3Rlcy9kYXNoYm9hcmQtd2lkZ2V0cy9uby1yZWNlbnQtbm90ZXMtZGFzaGJvYXJkL25vLXJlY2VudC1ub3Rlcy1kYXNoYm9hcmQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDRSwyQkFBQTtFQUVBLGVBQUE7QUNERjs7QURJQTtFQUNFLFdBQUE7RUFDQSx5QkFBQTtFQUNBLG1CQUFBO0FDREY7O0FER0E7RUFDRSxtQkFBQTtFQUNBLGdCQUFBO0FDQUY7O0FERUE7RUFDRSxnQkFBQTtFQUVBLFdBQUE7RUFDQSxpQkFBQTtFQUNBLGFBQUE7QUNBRjs7QURHQTtFQUNFLGlCQUFBO0VBQ0Esa0JBQUE7QUNBRjs7QURHQTtFQUNFLGFBQUE7QUNBRjs7QURHQTtFQUNFLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFVBQUE7QUNBRjs7QURHQTtFQUNFLGtCQUFBO0VBQ0EsVUFBQTtBQ0FGOztBREdBO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsOEJBQUE7QUNBRjs7QURLRTtFQUNJLHFCQUFBO0VBQ0EsVUFBQTtBQ0ZOOztBREtFO0VBQ0UscUJBQUE7QUNISiIsImZpbGUiOiJzcmMvYXBwL2NoaWxkLWRldi1wcm9qZWN0L25vdGVzL2Rhc2hib2FyZC13aWRnZXRzL25vLXJlY2VudC1ub3Rlcy1kYXNoYm9hcmQvbm8tcmVjZW50LW5vdGVzLWRhc2hib2FyZC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLmRhc2hib2FyZC10YWJsZS1yb3cge1xuICBib3JkZXItdG9wOiAxcHggc29saWQgYmxhY2s7XG5cbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4uZGFzaGJvYXJkLXRhYmxlIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG4gIHRhYmxlLWxheW91dDogZml4ZWQ7XG59XG4uZGFzaGJvYXJkLXRhYmxlLWZpcnN0LWNlbGwge1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuLmRhc2hib2FyZC10YWJsZS1hZGRpdGlvbmFsLWluZm8tY2VsbCB7XG4gIGZvbnQtc2l6ZTogMC44ZW07XG5cbiAgd2lkdGg6IDQ4cHg7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICBwYWRkaW5nOiAxMHB4O1xufVxuXG4uc3VidGl0bGUtaGlnaGxpZ2h0IHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcbn1cblxuLnJvdy1saW5rIHtcbiAgcGFkZGluZzogMTBweDtcbn1cblxuLmxvYWRpbmctaW5kaWNhdG9yIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMDtcbiAgdG9wOiAtMTJweDtcbn1cblxuLm1hdC1wYWdpbmF0b3Ige1xuICBmb250LXNpemU6IHgtc21hbGw7XG4gIHBhZGRpbmc6IDA7XG59XG5cbi5zcGFjZUJldHdlZW5GbGV4IHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xufVxuXG4vLyBvdmVycmlkZSBtYXRlcmlhbCBwYWdpbmF0b3Jcbjo6bmctZGVlcCAubWF0LXBhZ2luYXRvciB7XG4gIC5tYXQtcGFnaW5hdG9yLWNvbnRhaW5lciB7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGxlZnQ7XG4gICAgICBwYWRkaW5nOiAwO1xuICB9XG5cbiAgLm1hdC1vcHRpb257XG4gICAgcGFkZGluZzogMCFpbXBvcnRhbnQ7XG4gIH1cblxuICAvLyAvLyBvdmVycmlkZSBtYXRlcmlhbCBwYWdpbmF0b3IgcGFnZSBzd2l0Y2hcbiAgLy8gLm1hdC1wYWdpbmF0b3ItcmFuZ2UtbGFiZWwge1xuICAvLyAgICAgb3JkZXI6IDI7XG5cbiAgLy8gICAgIHBhZGRpbmc6IDA7XG4gIC8vIH1cblxuICAvLyAubWF0LXBhZ2luYXRvci1uYXZpZ2F0aW9uLXByZXZpb3VzIHtcbiAgLy8gICAgIG9yZGVyOiAxO1xuICAvLyB9XG4gIC8vIC5tYXQtcGFnaW5hdG9yLW5hdmlnYXRpb24tbmV4dCB7XG4gIC8vICAgICBvcmRlcjogMztcbiAgLy8gfVxufVxuIiwiLmRhc2hib2FyZC10YWJsZS1yb3cge1xuICBib3JkZXItdG9wOiAxcHggc29saWQgYmxhY2s7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLmRhc2hib2FyZC10YWJsZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICB0YWJsZS1sYXlvdXQ6IGZpeGVkO1xufVxuXG4uZGFzaGJvYXJkLXRhYmxlLWZpcnN0LWNlbGwge1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4uZGFzaGJvYXJkLXRhYmxlLWFkZGl0aW9uYWwtaW5mby1jZWxsIHtcbiAgZm9udC1zaXplOiAwLjhlbTtcbiAgd2lkdGg6IDQ4cHg7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICBwYWRkaW5nOiAxMHB4O1xufVxuXG4uc3VidGl0bGUtaGlnaGxpZ2h0IHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcbn1cblxuLnJvdy1saW5rIHtcbiAgcGFkZGluZzogMTBweDtcbn1cblxuLmxvYWRpbmctaW5kaWNhdG9yIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMDtcbiAgdG9wOiAtMTJweDtcbn1cblxuLm1hdC1wYWdpbmF0b3Ige1xuICBmb250LXNpemU6IHgtc21hbGw7XG4gIHBhZGRpbmc6IDA7XG59XG5cbi5zcGFjZUJldHdlZW5GbGV4IHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xufVxuXG46Om5nLWRlZXAgLm1hdC1wYWdpbmF0b3IgLm1hdC1wYWdpbmF0b3ItY29udGFpbmVyIHtcbiAganVzdGlmeS1jb250ZW50OiBsZWZ0O1xuICBwYWRkaW5nOiAwO1xufVxuOjpuZy1kZWVwIC5tYXQtcGFnaW5hdG9yIC5tYXQtb3B0aW9uIHtcbiAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xufSJdfQ== */"] });
    return NoRecentNotesDashboardComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NoRecentNotesDashboardComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-no-recent-notes-dashboard",
                templateUrl: "./no-recent-notes-dashboard.component.html",
                styleUrls: ["./no-recent-notes-dashboard.component.scss"],
            }]
    }], function () { return [{ type: _children_children_service__WEBPACK_IMPORTED_MODULE_1__["ChildrenService"] }]; }, { sinceDays: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], fromBeginningOfWeek: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], sort: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: [_angular_material_sort__WEBPACK_IMPORTED_MODULE_5__["MatSort"]]
        }], paginator: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: [_angular_material_paginator__WEBPACK_IMPORTED_MODULE_6__["MatPaginator"]]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/notes/dashboard-widgets/recent-notes-dashboard/recent-notes-dashboard.component.ts":
/*!**********************************************************************************************************************!*\
  !*** ./src/app/child-dev-project/notes/dashboard-widgets/recent-notes-dashboard/recent-notes-dashboard.component.ts ***!
  \**********************************************************************************************************************/
/*! exports provided: RecentNotesDashboardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecentNotesDashboardComponent", function() { return RecentNotesDashboardComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _children_children_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../children/children.service */ "./src/app/child-dev-project/children/children.service.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/card */ "./node_modules/@angular/material/fesm5/card.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/tooltip */ "./node_modules/@angular/material/fesm5/tooltip.js");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm2015/angulartics2.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/progress-spinner */ "./node_modules/@angular/material/fesm5/progress-spinner.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};












function RecentNotesDashboardComponent_span_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-spinner", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, " \u00A0 ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("diameter", 40);
} }
function RecentNotesDashboardComponent_span_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx_r1.count, " ");
} }
var _c0 = function () { return ["/note"]; };
/**
 * Dashboard Widget displaying children that have a recently added Note.
 */
var RecentNotesDashboardComponent = /** @class */ (function () {
    function RecentNotesDashboardComponent(childrenService) {
        this.childrenService = childrenService;
        /**
         * number of days since last note that children should be considered having a "recent" note.
         */
        this.sinceDays = 0;
        /** Whether an additional offset should be automatically added to include notes from the beginning of the week */
        this.fromBeginningOfWeek = true;
        /** The offset in days since beginning of the week (used for "fromBeginningOfWeek" option) */
        this.daysSinceBeginningOfWeek = moment__WEBPACK_IMPORTED_MODULE_2___default()()
            .startOf("day")
            .diff(moment__WEBPACK_IMPORTED_MODULE_2___default()().startOf("week"), "days");
        /** number of children with recent notes */
        this.count = 0;
    }
    RecentNotesDashboardComponent.prototype.onInitFromDynamicConfig = function (config) {
        if (config === null || config === void 0 ? void 0 : config.sinceDays) {
            this.sinceDays = config.sinceDays;
        }
        if (config === null || config === void 0 ? void 0 : config.fromBeginningOfWeek) {
            this.fromBeginningOfWeek = config.fromBeginningOfWeek;
        }
    };
    RecentNotesDashboardComponent.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadConcernedChildrenFromIndex()];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    RecentNotesDashboardComponent.prototype.loadConcernedChildrenFromIndex = function () {
        return __awaiter(this, void 0, void 0, function () {
            var lastNoteStats, _a, _b, entry;
            var e_1, _c;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        this.isLoading = true;
                        return [4 /*yield*/, this.childrenService.getDaysSinceLastNoteOfEachChild()];
                    case 1:
                        lastNoteStats = _d.sent();
                        this.count = 0;
                        try {
                            for (_a = __values(lastNoteStats.entries()), _b = _a.next(); !_b.done; _b = _a.next()) {
                                entry = _b.value;
                                if (this.isWithinDayRange(entry[1])) {
                                    this.count++;
                                }
                            }
                        }
                        catch (e_1_1) { e_1 = { error: e_1_1 }; }
                        finally {
                            try {
                                if (_b && !_b.done && (_c = _a.return)) _c.call(_a);
                            }
                            finally { if (e_1) throw e_1.error; }
                        }
                        this.isLoading = false;
                        return [2 /*return*/];
                }
            });
        });
    };
    RecentNotesDashboardComponent.prototype.isWithinDayRange = function (daysSinceLastNote) {
        if (this.fromBeginningOfWeek) {
            return (daysSinceLastNote <= this.sinceDays + this.daysSinceBeginningOfWeek);
        }
        else {
            return daysSinceLastNote <= this.sinceDays;
        }
    };
    RecentNotesDashboardComponent.ɵfac = function RecentNotesDashboardComponent_Factory(t) { return new (t || RecentNotesDashboardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_children_children_service__WEBPACK_IMPORTED_MODULE_1__["ChildrenService"])); };
    RecentNotesDashboardComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: RecentNotesDashboardComponent, selectors: [["app-recent-notes-dashboard"]], inputs: { sinceDays: "sinceDays", fromBeginningOfWeek: "fromBeginningOfWeek" }, decls: 16, vars: 6, consts: [[1, "dashboard-widget"], [1, "app-note"], ["mat-card-avatar", ""], ["fontIcon", "fa-file-text-o"], [2, "position", "relative"], [4, "ngIf"], [3, "matTooltip"], [1, "subtitle-highlight"], ["angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "dashboard_recent_notes_link_go_to_notes", 1, "dashboard-content", 3, "routerLink", "angularticsLabel"], [1, "fa", "fa-external-link-square"], [1, "loading-indicator", 3, "diameter"]], template: function RecentNotesDashboardComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-card", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-card-header", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "mat-icon", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "mat-card-title", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, RecentNotesDashboardComponent_span_5_Template, 3, 1, "span", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, RecentNotesDashboardComponent_span_6_Template, 2, 1, "span", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "mat-card-subtitle", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8, " Children ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "span", 7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](10, "with");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11, " recent report ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "mat-card-content");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "div", 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](14, " Go to Notes ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](15, "span", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isLoading);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.isLoading);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matTooltip", "includes children with a note " + (ctx.fromBeginningOfWeek ? "since beginning of week " : "") + (ctx.sinceDays > 0 ? "within the last " + ctx.sinceDays + " days" : ""));
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](5, _c0))("angularticsLabel", "children-with-recent-report-count-" + ctx.count);
        } }, directives: [_angular_material_card__WEBPACK_IMPORTED_MODULE_3__["MatCard"], _angular_material_card__WEBPACK_IMPORTED_MODULE_3__["MatCardHeader"], _angular_material_card__WEBPACK_IMPORTED_MODULE_3__["MatCardAvatar"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_4__["MatIcon"], _angular_material_card__WEBPACK_IMPORTED_MODULE_3__["MatCardTitle"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"], _angular_material_card__WEBPACK_IMPORTED_MODULE_3__["MatCardSubtitle"], _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_6__["MatTooltip"], _angular_material_card__WEBPACK_IMPORTED_MODULE_3__["MatCardContent"], angulartics2__WEBPACK_IMPORTED_MODULE_7__["Angulartics2On"], _angular_router__WEBPACK_IMPORTED_MODULE_8__["RouterLink"], _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_9__["MatSpinner"]], styles: [".dashboard-content[_ngcontent-%COMP%] {\n  padding: 10px;\n  cursor: pointer;\n}\n\n.subtitle-highlight[_ngcontent-%COMP%] {\n  font-weight: bold;\n  font-style: italic;\n}\n\n.loading-indicator[_ngcontent-%COMP%] {\n  position: absolute;\n  right: 0;\n  top: -12px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3Qvbm90ZXMvZGFzaGJvYXJkLXdpZGdldHMvcmVjZW50LW5vdGVzLWRhc2hib2FyZC9yZWNlbnQtbm90ZXMtZGFzaGJvYXJkLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jaGlsZC1kZXYtcHJvamVjdC9ub3Rlcy9kYXNoYm9hcmQtd2lkZ2V0cy9yZWNlbnQtbm90ZXMtZGFzaGJvYXJkL3JlY2VudC1ub3Rlcy1kYXNoYm9hcmQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDRSxhQUFBO0VBQ0EsZUFBQTtBQ0FGOztBREdBO0VBQ0UsaUJBQUE7RUFDQSxrQkFBQTtBQ0FGOztBREdBO0VBQ0Usa0JBQUE7RUFDQSxRQUFBO0VBQ0EsVUFBQTtBQ0FGIiwiZmlsZSI6InNyYy9hcHAvY2hpbGQtZGV2LXByb2plY3Qvbm90ZXMvZGFzaGJvYXJkLXdpZGdldHMvcmVjZW50LW5vdGVzLWRhc2hib2FyZC9yZWNlbnQtbm90ZXMtZGFzaGJvYXJkLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG4uZGFzaGJvYXJkLWNvbnRlbnQge1xuICBwYWRkaW5nOiAxMHB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5zdWJ0aXRsZS1oaWdobGlnaHQge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgZm9udC1zdHlsZTogaXRhbGljO1xufVxuXG4ubG9hZGluZy1pbmRpY2F0b3Ige1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAwO1xuICB0b3A6IC0xMnB4O1xufVxuIiwiLmRhc2hib2FyZC1jb250ZW50IHtcbiAgcGFkZGluZzogMTBweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4uc3VidGl0bGUtaGlnaGxpZ2h0IHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcbn1cblxuLmxvYWRpbmctaW5kaWNhdG9yIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMDtcbiAgdG9wOiAtMTJweDtcbn0iXX0= */"] });
    return RecentNotesDashboardComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RecentNotesDashboardComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-recent-notes-dashboard",
                templateUrl: "./recent-notes-dashboard.component.html",
                styleUrls: ["./recent-notes-dashboard.component.scss"],
            }]
    }], function () { return [{ type: _children_children_service__WEBPACK_IMPORTED_MODULE_1__["ChildrenService"] }]; }, { sinceDays: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], fromBeginningOfWeek: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/notes/demo-data/demo-note-generator.service.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/child-dev-project/notes/demo-data/demo-note-generator.service.ts ***!
  \**********************************************************************************/
/*! exports provided: DemoNoteConfig, DemoNoteGeneratorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DemoNoteConfig", function() { return DemoNoteConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DemoNoteGeneratorService", function() { return DemoNoteGeneratorService; });
/* harmony import */ var _children_demo_data_generators_demo_child_generator_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../children/demo-data-generators/demo-child-generator.service */ "./src/app/child-dev-project/children/demo-data-generators/demo-child-generator.service.ts");
/* harmony import */ var _core_demo_data_demo_data_generator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/demo-data/demo-data-generator */ "./src/app/core/demo-data/demo-data-generator.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _model_note__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../model/note */ "./src/app/child-dev-project/notes/model/note.ts");
/* harmony import */ var _meeting_note_attendance__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../meeting-note-attendance */ "./src/app/child-dev-project/notes/meeting-note-attendance.ts");
/* harmony import */ var _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/demo-data/faker */ "./src/app/core/demo-data/faker.ts");
/* harmony import */ var _warning_level__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../warning-level */ "./src/app/child-dev-project/warning-level.ts");
/* harmony import */ var _notes_individual_stories__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./notes_individual-stories */ "./src/app/child-dev-project/notes/demo-data/notes_individual-stories.ts");
/* harmony import */ var _notes_group_stories__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./notes_group-stories */ "./src/app/child-dev-project/notes/demo-data/notes_group-stories.ts");
/* harmony import */ var _children_demo_data_generators_fixtures_centers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../children/demo-data-generators/fixtures/centers */ "./src/app/child-dev-project/children/demo-data-generators/fixtures/centers.ts");
/* harmony import */ var _remarks__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./remarks */ "./src/app/child-dev-project/notes/demo-data/remarks.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};













var DemoNoteConfig = /** @class */ (function () {
    function DemoNoteConfig() {
    }
    return DemoNoteConfig;
}());

/**
 * Generate a number of Note entities for each Child.
 * Builds upon the generated demo Child entities.
 */
var DemoNoteGeneratorService = /** @class */ (function (_super) {
    __extends(DemoNoteGeneratorService, _super);
    function DemoNoteGeneratorService(config, demoChildren) {
        var _this = _super.call(this) || this;
        _this.config = config;
        _this.demoChildren = demoChildren;
        return _this;
    }
    /**
     * This function returns a provider object to be used in an Angular Module configuration:
     *   `providers: [DemoNoteGeneratorService.provider()]`
     */
    DemoNoteGeneratorService.provider = function (config) {
        if (config === void 0) { config = {
            minNotesPerChild: 2,
            maxNotesPerChild: 10,
            groupNotes: 5,
        }; }
        return [
            { provide: DemoNoteGeneratorService, useClass: DemoNoteGeneratorService },
            { provide: DemoNoteConfig, useValue: config },
        ];
    };
    Object.defineProperty(DemoNoteGeneratorService.prototype, "teamMembers", {
        get: function () {
            var numberOfTeamMembers = 5;
            if (!this._teamMembers) {
                this._teamMembers = Array(numberOfTeamMembers)
                    .fill("")
                    .map(function () { return _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_5__["faker"].name.firstName(); });
            }
            return this._teamMembers;
        },
        enumerable: true,
        configurable: true
    });
    DemoNoteGeneratorService.prototype.generateEntities = function () {
        var e_1, _a, e_2, _b;
        var data = [];
        try {
            for (var _c = __values(this.demoChildren.entities), _d = _c.next(); !_d.done; _d = _c.next()) {
                var child = _d.value;
                var numberOfNotes = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_5__["faker"].random.number({
                    min: this.config.minNotesPerChild,
                    max: this.config.maxNotesPerChild,
                });
                for (var i = 0; i < numberOfNotes; i++) {
                    data.push(this.generateNoteForChild(child));
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);
            }
            finally { if (e_1) throw e_1.error; }
        }
        var _loop_1 = function (center) {
            var children = this_1.demoChildren.entities.filter(function (c) { return c.center === center; });
            for (var i = 0; i < this_1.config.groupNotes; i++) {
                data.push(this_1.generateGroupNote(children));
            }
        };
        var this_1 = this;
        try {
            for (var centersUnique_1 = __values(_children_demo_data_generators_fixtures_centers__WEBPACK_IMPORTED_MODULE_9__["centersUnique"]), centersUnique_1_1 = centersUnique_1.next(); !centersUnique_1_1.done; centersUnique_1_1 = centersUnique_1.next()) {
                var center = centersUnique_1_1.value;
                _loop_1(center);
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (centersUnique_1_1 && !centersUnique_1_1.done && (_b = centersUnique_1.return)) _b.call(centersUnique_1);
            }
            finally { if (e_2) throw e_2.error; }
        }
        return data;
    };
    DemoNoteGeneratorService.prototype.generateNoteForChild = function (child) {
        var note = new _model_note__WEBPACK_IMPORTED_MODULE_3__["Note"](_core_demo_data_faker__WEBPACK_IMPORTED_MODULE_5__["faker"].random.uuid());
        var selectedStory = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_5__["faker"].random.arrayElement(_notes_individual_stories__WEBPACK_IMPORTED_MODULE_7__["noteIndividualStories"]);
        Object.assign(note, selectedStory);
        note.addChild(child.getId());
        note.author = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_5__["faker"].random.arrayElement(this.teamMembers);
        note.date = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_5__["faker"].date.between(child.admissionDate, _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_5__["faker"].getEarlierDateOrToday(child.dropoutDate));
        this.removeFollowUpMarkerForOldNotes(note);
        return note;
    };
    DemoNoteGeneratorService.prototype.removeFollowUpMarkerForOldNotes = function (note) {
        var lastMonths = new Date();
        lastMonths.setMonth(lastMonths.getMonth() - 1);
        if (note.date < lastMonths) {
            note.warningLevel = _warning_level__WEBPACK_IMPORTED_MODULE_6__["WarningLevel"].OK;
        }
    };
    DemoNoteGeneratorService.prototype.generateGroupNote = function (children) {
        var note = new _model_note__WEBPACK_IMPORTED_MODULE_3__["Note"](_core_demo_data_faker__WEBPACK_IMPORTED_MODULE_5__["faker"].random.uuid());
        var selectedStory = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_5__["faker"].random.arrayElement(_notes_group_stories__WEBPACK_IMPORTED_MODULE_8__["noteGroupStories"]);
        Object.assign(note, selectedStory);
        note.children = children.map(function (c) { return c.getId(); });
        note.attendances = children.map(function (child) {
            var attendance = new _meeting_note_attendance__WEBPACK_IMPORTED_MODULE_4__["MeetingNoteAttendance"](child.getId());
            // get an approximate presence of 85%
            if (_core_demo_data_faker__WEBPACK_IMPORTED_MODULE_5__["faker"].random.number(100) <= 15) {
                attendance.present = false;
                attendance.remarks = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_5__["faker"].random.arrayElement(_remarks__WEBPACK_IMPORTED_MODULE_10__["absenceRemarks"]);
            }
            return attendance;
        });
        note.author = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_5__["faker"].random.arrayElement(this.teamMembers);
        note.date = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_5__["faker"].date.past(1);
        this.removeFollowUpMarkerForOldNotes(note);
        return note;
    };
    DemoNoteGeneratorService.ɵfac = function DemoNoteGeneratorService_Factory(t) { return new (t || DemoNoteGeneratorService)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](DemoNoteConfig), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_children_demo_data_generators_demo_child_generator_service__WEBPACK_IMPORTED_MODULE_0__["DemoChildGenerator"])); };
    DemoNoteGeneratorService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: DemoNoteGeneratorService, factory: DemoNoteGeneratorService.ɵfac });
    return DemoNoteGeneratorService;
}(_core_demo_data_demo_data_generator__WEBPACK_IMPORTED_MODULE_1__["DemoDataGenerator"]));

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵsetClassMetadata"](DemoNoteGeneratorService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"]
    }], function () { return [{ type: DemoNoteConfig }, { type: _children_demo_data_generators_demo_child_generator_service__WEBPACK_IMPORTED_MODULE_0__["DemoChildGenerator"] }]; }, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/notes/demo-data/notes_group-stories.ts":
/*!**************************************************************************!*\
  !*** ./src/app/child-dev-project/notes/demo-data/notes_group-stories.ts ***!
  \**************************************************************************/
/*! exports provided: noteGroupStories */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "noteGroupStories", function() { return noteGroupStories; });
/* harmony import */ var _warning_level__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../warning-level */ "./src/app/child-dev-project/warning-level.ts");

var noteGroupStories = [
    {
        category: "Guardians' Meeting",
        warningLevel: _warning_level__WEBPACK_IMPORTED_MODULE_0__["WarningLevel"].OK,
        subject: "Guardians Meeting",
        text: "Our regular monthly meeting. Find the agenda and minutes in our meeting folder.",
    },
    {
        category: "Guardians' Meeting",
        warningLevel: _warning_level__WEBPACK_IMPORTED_MODULE_0__["WarningLevel"].OK,
        subject: "Guardians Meeting",
        text: "Our regular monthly meeting. Find the agenda and minutes in our meeting folder.",
    },
    {
        category: "Children's Meeting",
        warningLevel: _warning_level__WEBPACK_IMPORTED_MODULE_0__["WarningLevel"].OK,
        subject: "Children Meeting",
        text: "Our regular monthly meeting. Find the agenda and minutes in our meeting folder.",
    },
    {
        category: "Children's Meeting",
        warningLevel: _warning_level__WEBPACK_IMPORTED_MODULE_0__["WarningLevel"].OK,
        subject: "Children Meeting",
        text: "Our regular monthly meeting. Find the agenda and minutes in our meeting folder.",
    },
    {
        category: "Children's Meeting",
        warningLevel: _warning_level__WEBPACK_IMPORTED_MODULE_0__["WarningLevel"].OK,
        subject: "Drug Prevention Workshop",
        text: "Expert conducted a two day workshop on drug prevention.",
    },
];


/***/ }),

/***/ "./src/app/child-dev-project/notes/demo-data/notes_individual-stories.ts":
/*!*******************************************************************************!*\
  !*** ./src/app/child-dev-project/notes/demo-data/notes_individual-stories.ts ***!
  \*******************************************************************************/
/*! exports provided: noteIndividualStories */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "noteIndividualStories", function() { return noteIndividualStories; });
/* harmony import */ var _warning_level__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../warning-level */ "./src/app/child-dev-project/warning-level.ts");

var noteIndividualStories = [
    {
        category: "Home Visit",
        warningLevel: _warning_level__WEBPACK_IMPORTED_MODULE_0__["WarningLevel"].WARNING,
        subject: "Mother sick",
        text: "Visited family after we heard that mother is seriously ill. She cannot get up. " +
            "Children are taking care of housework. " +
            "Told her to see doctor. We should follow up next week.",
    },
    {
        category: "Talk with Guardians",
        warningLevel: _warning_level__WEBPACK_IMPORTED_MODULE_0__["WarningLevel"].WARNING,
        subject: "Discussed school change",
        text: "Discussed future of the child with the parents. They agree that changing school can be a good option. " +
            "Will discuss further together with the child.",
    },
    {
        category: "Phone Call",
        warningLevel: _warning_level__WEBPACK_IMPORTED_MODULE_0__["WarningLevel"].OK,
        subject: "Follow up for school absence",
        text: "Called to ask for reason about absence. Mother made excuses but promised to send the child tomorrow.",
    },
    {
        category: "Phone Call",
        warningLevel: _warning_level__WEBPACK_IMPORTED_MODULE_0__["WarningLevel"].OK,
        subject: "absent because ill",
        text: "Mother has called in the morning. Child cannot come to class because of fever.",
    },
    {
        category: "Phone Call",
        warningLevel: _warning_level__WEBPACK_IMPORTED_MODULE_0__["WarningLevel"].URGENT,
        subject: "Absence without information",
        text: "Child was not in school whole last week again. When calling the mother she didn't know about it. " +
            "Need to follow up urgently to discuss with the child and the guardians.",
    },
    {
        category: "School/Hostel Visit",
        warningLevel: _warning_level__WEBPACK_IMPORTED_MODULE_0__["WarningLevel"].OK,
        subject: "School is happy about progress",
        text: "Visited the school and talked to the class teacher and principal. They are happy about the progress " +
            "and behaviour.",
    },
    {
        category: "Talk with Coaching Teacher",
        warningLevel: _warning_level__WEBPACK_IMPORTED_MODULE_0__["WarningLevel"].WARNING,
        subject: "Needs to work more for school",
        text: "Discussed the child's progress with coaching teacher. He is still a weak student and needs more support. " +
            "We should consider arranging an extra class for him. Discuss next social worker meeting.",
    },
    {
        category: "Incident",
        warningLevel: _warning_level__WEBPACK_IMPORTED_MODULE_0__["WarningLevel"].URGENT,
        subject: "Fight at school",
        text: "Principal called us today. Our student got into a fight and was suspended for a week. " +
            "Need to follow up with the child and discuss the matter.",
    },
    {
        category: "Discussion/Decision",
        warningLevel: _warning_level__WEBPACK_IMPORTED_MODULE_0__["WarningLevel"].OK,
        subject: "Special help for family",
        text: "Since the father has lost his job the family is struggling to survive. " +
            "After home visits and discussion in our team we decided to refer them to a special support programme.",
    },
    {
        category: "Discussion/Decision",
        warningLevel: _warning_level__WEBPACK_IMPORTED_MODULE_0__["WarningLevel"].OK,
        subject: "Chance to repeat class",
        text: "Child has failed this school year as she did not go to school regularly. " +
            "After a long discussion with the child and her parents we agreed to support her to repeat the class " +
            "and she promised to attend school regularly.",
    },
    {
        category: "Talk with Child",
        warningLevel: _warning_level__WEBPACK_IMPORTED_MODULE_0__["WarningLevel"].WARNING,
        subject: "Distracted in class",
        text: "Teacher has let us know that he is very unfocused during class these days. " +
            "Discussed with him - there are a lot of problems in the family currently.",
    },
    {
        category: "Talk with Child",
        warningLevel: _warning_level__WEBPACK_IMPORTED_MODULE_0__["WarningLevel"].WARNING,
        subject: "Disturbing class",
        text: "She refused to listen to the teacher was disturbing the class. " +
            "Did counselling session with her.",
    },
];


/***/ }),

/***/ "./src/app/child-dev-project/notes/demo-data/remarks.ts":
/*!**************************************************************!*\
  !*** ./src/app/child-dev-project/notes/demo-data/remarks.ts ***!
  \**************************************************************/
/*! exports provided: absenceRemarks */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "absenceRemarks", function() { return absenceRemarks; });
var absenceRemarks = [
    "got excused by it's mother",
    "absent without excuse",
    "absent because ill",
    "",
    "",
    "",
];


/***/ }),

/***/ "./src/app/child-dev-project/notes/interaction-types.enum.ts":
/*!*******************************************************************!*\
  !*** ./src/app/child-dev-project/notes/interaction-types.enum.ts ***!
  \*******************************************************************/
/*! exports provided: InteractionTypes, INTERACTION_TYPE_COLORS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InteractionTypes", function() { return InteractionTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INTERACTION_TYPE_COLORS", function() { return INTERACTION_TYPE_COLORS; });
var InteractionTypes;
(function (InteractionTypes) {
    InteractionTypes["NONE"] = "";
    InteractionTypes["HOME_VISIT"] = "Home Visit";
    InteractionTypes["GUARDIAN_TALK"] = "Talk with Guardians";
    InteractionTypes["CHILD_TALK"] = "Talk with Child";
    InteractionTypes["INCIDENT"] = "Incident";
    InteractionTypes["DISCUSSION"] = "Discussion/Decision";
    InteractionTypes["VISIT"] = "School/Hostel Visit";
    InteractionTypes["PHONE_CALL"] = "Phone Call";
    InteractionTypes["COACHING_TALK"] = "Talk with Coaching Teacher";
    InteractionTypes["PEER_TALK"] = "Talk with Peer";
    InteractionTypes["NEIGHBOUR_TALK"] = "Talk with Neighbours";
    InteractionTypes["GUARDIAN_MEETING"] = "Guardians' Meeting";
    InteractionTypes["CHILDREN_MEETING"] = "Children's Meeting";
    InteractionTypes["DAILY_ROUTINE"] = "Daily Routine";
    InteractionTypes["ANNUAL_SURVEY"] = "Annual Survey";
    InteractionTypes["EXCURSION"] = "Excursion/Trip";
    InteractionTypes["PARTNER_CONTACT"] = "Contact with other partners (club/NGO/...)";
    InteractionTypes["RATION_DISTRIBUTION"] = "Ration Distribution";
})(InteractionTypes || (InteractionTypes = {}));
var INTERACTION_TYPE_COLORS = new Map([
    [InteractionTypes.GUARDIAN_MEETING, "#E1F5FE"],
    [InteractionTypes.CHILDREN_MEETING, "#E1F5FE"],
    [InteractionTypes.RATION_DISTRIBUTION, "#E1F5FE"],
    [InteractionTypes.EXCURSION, "#E1F5FE"],
    [InteractionTypes.DISCUSSION, "#E1BEE7"],
    [InteractionTypes.ANNUAL_SURVEY, "#FFFDE7"],
    [InteractionTypes.DAILY_ROUTINE, "#F1F8E9"],
]);


/***/ }),

/***/ "./src/app/child-dev-project/notes/meeting-note-attendance.ts":
/*!********************************************************************!*\
  !*** ./src/app/child-dev-project/notes/meeting-note-attendance.ts ***!
  \********************************************************************/
/*! exports provided: MeetingNoteAttendance */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MeetingNoteAttendance", function() { return MeetingNoteAttendance; });
var MeetingNoteAttendance = /** @class */ (function () {
    function MeetingNoteAttendance(childId, presence, remark) {
        if (presence === void 0) { presence = true; }
        if (remark === void 0) { remark = ""; }
        this.present = true;
        this.remarks = "";
        this.childId = childId;
        this.present = presence;
        this.remarks = remark;
    }
    return MeetingNoteAttendance;
}());



/***/ }),

/***/ "./src/app/child-dev-project/notes/model/note.ts":
/*!*******************************************************!*\
  !*** ./src/app/child-dev-project/notes/model/note.ts ***!
  \*******************************************************/
/*! exports provided: Note */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Note", function() { return Note; });
/* harmony import */ var _meeting_note_attendance__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../meeting-note-attendance */ "./src/app/child-dev-project/notes/meeting-note-attendance.ts");
/* harmony import */ var _interaction_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../interaction-types.enum */ "./src/app/child-dev-project/notes/interaction-types.enum.ts");
/* harmony import */ var _core_entity_database_entity_decorator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/entity/database-entity.decorator */ "./src/app/core/entity/database-entity.decorator.ts");
/* harmony import */ var _core_entity_entity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/entity/entity */ "./src/app/core/entity/entity.ts");
/* harmony import */ var _core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/entity/database-field.decorator */ "./src/app/core/entity/database-field.decorator.ts");
/* harmony import */ var _warning_level__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../warning-level */ "./src/app/child-dev-project/warning-level.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var Note = /** @class */ (function (_super) {
    __extends(Note, _super);
    function Note() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /** IDs of Child entities linked with this note */
        _this.children = [];
        /** An array of triplets containing information about the child and it's attendance */
        _this.attendances = [];
        _this.subject = "";
        _this.text = "";
        _this.author = "";
        _this.category = _interaction_types_enum__WEBPACK_IMPORTED_MODULE_1__["InteractionTypes"].NONE;
        _this.warningLevel = _warning_level__WEBPACK_IMPORTED_MODULE_5__["WarningLevel"].OK;
        return _this;
    }
    Note.prototype.getWarningLevel = function () {
        return this.warningLevel;
    };
    // TODO: color logic should not be part of entity/model but rather in the component responsible for displaying it
    Note.prototype.getColor = function () {
        if (this.warningLevel === _warning_level__WEBPACK_IMPORTED_MODULE_5__["WarningLevel"].URGENT) {
            return Object(_warning_level__WEBPACK_IMPORTED_MODULE_5__["WarningLevelColor"])(_warning_level__WEBPACK_IMPORTED_MODULE_5__["WarningLevel"].URGENT);
        }
        if (this.warningLevel === _warning_level__WEBPACK_IMPORTED_MODULE_5__["WarningLevel"].WARNING) {
            return Object(_warning_level__WEBPACK_IMPORTED_MODULE_5__["WarningLevelColor"])(_warning_level__WEBPACK_IMPORTED_MODULE_5__["WarningLevel"].WARNING);
        }
        var color = _interaction_types_enum__WEBPACK_IMPORTED_MODULE_1__["INTERACTION_TYPE_COLORS"].get(this.category);
        return color === undefined ? "" : color;
    };
    Note.prototype.getColorForId = function (entityId) {
        if (this.isMeeting() && !this.isPresent(entityId)) {
            // child is absent, highlight the entry
            return Object(_warning_level__WEBPACK_IMPORTED_MODULE_5__["WarningLevelColor"])(_warning_level__WEBPACK_IMPORTED_MODULE_5__["WarningLevel"].URGENT);
        }
        return this.getColor();
    };
    /**
     * whether a specific child with given childId is linked to this not
     * @param childId The childId to check for
     */
    Note.prototype.isLinkedWithChild = function (childId) {
        return this.children.includes(childId);
    };
    /**
     * whether or not this note's contents describe a meeting
     */
    Note.prototype.isMeeting = function () {
        return (this.category === _interaction_types_enum__WEBPACK_IMPORTED_MODULE_1__["InteractionTypes"].GUARDIAN_MEETING ||
            this.category === _interaction_types_enum__WEBPACK_IMPORTED_MODULE_1__["InteractionTypes"].CHILDREN_MEETING ||
            this.category === _interaction_types_enum__WEBPACK_IMPORTED_MODULE_1__["InteractionTypes"].EXCURSION ||
            this.category === _interaction_types_enum__WEBPACK_IMPORTED_MODULE_1__["InteractionTypes"].RATION_DISTRIBUTION);
    };
    /**
     * returns the children that were either present or absent
     * @param presence true to get the children that were present, false to get the children that were absent
     */
    Note.prototype.childrenWithPresence = function (presence) {
        return this.attendances.filter(function (attendance) { return attendance.present === presence; });
    };
    /**
     * whether or not a specific child was present or not.
     * This does not check whether or not this note is a meeting and will not return
     * a sensible value, if this child couldn't be found
     * @param childId The id of the child to check for
     */
    Note.prototype.isPresent = function (childId) {
        var child = this.attendances.find(function (attendance) { return attendance.childId === childId; });
        if (child !== undefined) {
            return child.present;
        }
    };
    /**
     * removes a specific child from this note
     * @param childId The id of the child to exclude from the notes
     */
    Note.prototype.removeChild = function (childId) {
        this.children.splice(this.children.indexOf(childId), 1);
        this.attendances.splice(this.attendances.findIndex(function (attendance) { return attendance.childId === childId; }), 1);
    };
    /**
     * adds a new child to this note
     * @param childId The id of the child to add to the notes
     */
    Note.prototype.addChild = function (childId) {
        this.children.splice(0, 0, childId);
        this.attendances.splice(0, 0, new _meeting_note_attendance__WEBPACK_IMPORTED_MODULE_0__["MeetingNoteAttendance"](childId));
    };
    /**
     * adds multiple children to this note
     * @param childIds The id's of the children to add
     */
    Note.prototype.addChildren = function () {
        var _this = this;
        var childIds = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            childIds[_i] = arguments[_i];
        }
        childIds.forEach(function (child) { return _this.addChild(child); });
    };
    /**
     * Toggles for a given child it's presence.
     * If the child was absent, the presence-field will be true for that child.
     * If the child was present, the presence-field will be false for that child
     * @param childId The ID of the child
     */
    Note.prototype.togglePresence = function (childId) {
        var child = this.attendances.find(function (attendance) { return attendance.childId === childId; });
        if (child !== undefined) {
            child.present = !child.present;
        }
    };
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_4__["DatabaseField"])(),
        __metadata("design:type", Array)
    ], Note.prototype, "children", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_4__["DatabaseField"])(),
        __metadata("design:type", Array)
    ], Note.prototype, "attendances", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_4__["DatabaseField"])(),
        __metadata("design:type", Date)
    ], Note.prototype, "date", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_4__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Note.prototype, "subject", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_4__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Note.prototype, "text", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_4__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Note.prototype, "author", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_4__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Note.prototype, "category", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_4__["DatabaseField"])({ dataType: "string" }),
        __metadata("design:type", String)
    ], Note.prototype, "warningLevel", void 0);
    Note = __decorate([
        Object(_core_entity_database_entity_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseEntity"])("Note")
    ], Note);
    return Note;
}(_core_entity_entity__WEBPACK_IMPORTED_MODULE_3__["Entity"]));



/***/ }),

/***/ "./src/app/child-dev-project/notes/note-details/child-meeting-attendance/child-meeting-note-attendance.component.ts":
/*!**************************************************************************************************************************!*\
  !*** ./src/app/child-dev-project/notes/note-details/child-meeting-attendance/child-meeting-note-attendance.component.ts ***!
  \**************************************************************************************************************************/
/*! exports provided: ChildMeetingNoteAttendanceComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChildMeetingNoteAttendanceComponent", function() { return ChildMeetingNoteAttendanceComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _meeting_note_attendance__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../meeting-note-attendance */ "./src/app/child-dev-project/notes/meeting-note-attendance.ts");
/* harmony import */ var _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/flex-layout/flex */ "./node_modules/@angular/flex-layout/esm5/flex.es5.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/button-toggle */ "./node_modules/@angular/material/fesm5/button-toggle.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/flex-layout/extended */ "./node_modules/@angular/flex-layout/esm5/extended.es5.js");
/* harmony import */ var _children_child_block_child_block_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../children/child-block/child-block.component */ "./src/app/child-dev-project/children/child-block/child-block.component.ts");











var _c0 = function (a0) { return { "button-present": a0 }; };
var _c1 = function (a0) { return { "button-absent": a0 }; };
var ChildMeetingNoteAttendanceComponent = /** @class */ (function () {
    function ChildMeetingNoteAttendanceComponent() {
        this.change = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.remove = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.showRemarks = false;
    }
    ChildMeetingNoteAttendanceComponent.ɵfac = function ChildMeetingNoteAttendanceComponent_Factory(t) { return new (t || ChildMeetingNoteAttendanceComponent)(); };
    ChildMeetingNoteAttendanceComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ChildMeetingNoteAttendanceComponent, selectors: [["app-child-meeting-note-attendance"]], inputs: { noteChildAttendance: "noteChildAttendance" }, outputs: { change: "change", remove: "remove" }, decls: 11, vars: 10, consts: [["fxLayout", "col", "fxLayoutGap", "4px"], ["fxFlex", "40px", 1, "actions"], ["mat-icon-button", "", 3, "click"], ["fontIcon", "fa-times"], ["fxFlex", "125px"], ["name", "present", 1, "presence-toggle", 3, "ngModel", "ngModelChange", "change"], [1, "presence-toggle-button", 3, "value", "ngClass"], ["fxFlex", "", 3, "entityId"]], template: function ChildMeetingNoteAttendanceComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "button", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ChildMeetingNoteAttendanceComponent_Template_button_click_2_listener() { return ctx.remove.emit(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "mat-icon", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "mat-button-toggle-group", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function ChildMeetingNoteAttendanceComponent_Template_mat_button_toggle_group_ngModelChange_5_listener($event) { return ctx.noteChildAttendance.present = $event; })("change", function ChildMeetingNoteAttendanceComponent_Template_mat_button_toggle_group_change_5_listener() { return ctx.change.emit(ctx.noteChildAttendance); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "mat-button-toggle", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7, " Present ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "mat-button-toggle", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9, " Absent ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](10, "app-child-block", 7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx.noteChildAttendance.present);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", true)("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](6, _c0, ctx.noteChildAttendance.present));
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", false)("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](8, _c1, !ctx.noteChildAttendance.present));
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entityId", ctx.noteChildAttendance.childId);
        } }, directives: [_angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_2__["DefaultLayoutDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_2__["DefaultLayoutGapDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_2__["DefaultFlexDirective"], _angular_material_button__WEBPACK_IMPORTED_MODULE_3__["MatButton"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_4__["MatIcon"], _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_5__["MatButtonToggleGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["NgModel"], _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_5__["MatButtonToggle"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgClass"], _angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_8__["DefaultClassDirective"], _children_child_block_child_block_component__WEBPACK_IMPORTED_MODULE_9__["ChildBlockComponent"]], styles: [".hide-remarks[_ngcontent-%COMP%] {\n  display: none;\n}\n\n.presence-toggle[_ngcontent-%COMP%] {\n  margin: 4px;\n  font-size: 0.8em;\n}\n\n.presence-toggle-button[_ngcontent-%COMP%] {\n  margin: -10px -5px -10px -5px;\n}\n\n.button-present[_ngcontent-%COMP%] {\n  background-color: #90ee9040;\n}\n\n.button-absent[_ngcontent-%COMP%] {\n  background-color: #fd727280;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3Qvbm90ZXMvbm90ZS1kZXRhaWxzL2NoaWxkLW1lZXRpbmctYXR0ZW5kYW5jZS9jaGlsZC1tZWV0aW5nLW5vdGUtYXR0ZW5kYW5jZS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY2hpbGQtZGV2LXByb2plY3Qvbm90ZXMvbm90ZS1kZXRhaWxzL2NoaWxkLW1lZXRpbmctYXR0ZW5kYW5jZS9jaGlsZC1tZWV0aW5nLW5vdGUtYXR0ZW5kYW5jZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNFLGFBQUE7QUNBRjs7QURPQTtFQUNFLFdBQUE7RUFDQSxnQkFBQTtBQ0pGOztBRE1BO0VBQ0UsNkJBQUE7QUNIRjs7QURNQTtFQUNFLDJCQUFBO0FDSEY7O0FES0E7RUFDRSwyQkFBQTtBQ0ZGIiwiZmlsZSI6InNyYy9hcHAvY2hpbGQtZGV2LXByb2plY3Qvbm90ZXMvbm90ZS1kZXRhaWxzL2NoaWxkLW1lZXRpbmctYXR0ZW5kYW5jZS9jaGlsZC1tZWV0aW5nLW5vdGUtYXR0ZW5kYW5jZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLmhpZGUtcmVtYXJrcyB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG5cbi5hY3Rpb25zIHtcblxufVxuXG4ucHJlc2VuY2UtdG9nZ2xlIHtcbiAgbWFyZ2luOiA0cHg7XG4gIGZvbnQtc2l6ZTogMC44ZW07XG59XG4ucHJlc2VuY2UtdG9nZ2xlLWJ1dHRvbiB7XG4gIG1hcmdpbjogLTEwcHggLTVweCAtMTBweCAtNXB4O1xufVxuXG4uYnV0dG9uLXByZXNlbnQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjOTBlZTkwNDA7XG59XG4uYnV0dG9uLWFic2VudCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZDcyNzI4MDtcbn1cbiIsIi5oaWRlLXJlbWFya3Mge1xuICBkaXNwbGF5OiBub25lO1xufVxuXG4ucHJlc2VuY2UtdG9nZ2xlIHtcbiAgbWFyZ2luOiA0cHg7XG4gIGZvbnQtc2l6ZTogMC44ZW07XG59XG5cbi5wcmVzZW5jZS10b2dnbGUtYnV0dG9uIHtcbiAgbWFyZ2luOiAtMTBweCAtNXB4IC0xMHB4IC01cHg7XG59XG5cbi5idXR0b24tcHJlc2VudCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICM5MGVlOTA0MDtcbn1cblxuLmJ1dHRvbi1hYnNlbnQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmQ3MjcyODA7XG59Il19 */"] });
    return ChildMeetingNoteAttendanceComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ChildMeetingNoteAttendanceComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-child-meeting-note-attendance",
                templateUrl: "./child-meeting-note-attendance.component.html",
                styleUrls: ["./child-meeting-note-attendance.component.scss"],
            }]
    }], null, { noteChildAttendance: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], change: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], remove: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/notes/note-details/note-details.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/child-dev-project/notes/note-details/note-details.component.ts ***!
  \********************************************************************************/
/*! exports provided: NoteDetailsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NoteDetailsComponent", function() { return NoteDetailsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _interaction_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../interaction-types.enum */ "./src/app/child-dev-project/notes/interaction-types.enum.ts");
/* harmony import */ var _model_note__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/note */ "./src/app/child-dev-project/notes/model/note.ts");
/* harmony import */ var _core_form_dialog_form_dialog_wrapper_form_dialog_wrapper_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/form-dialog/form-dialog-wrapper/form-dialog-wrapper.component */ "./src/app/core/form-dialog/form-dialog-wrapper/form-dialog-wrapper.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/flex-layout/flex */ "./node_modules/@angular/flex-layout/esm5/flex.es5.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/datepicker */ "./node_modules/@angular/material/fesm5/datepicker.js");
/* harmony import */ var _angular_material_select__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/select */ "./node_modules/@angular/material/fesm5/select.js");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/core */ "./node_modules/@angular/material/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_cdk_text_field__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/cdk/text-field */ "./node_modules/@angular/cdk/fesm5/text-field.js");
/* harmony import */ var _children_child_select_child_select_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../children/child-select/child-select.component */ "./src/app/child-dev-project/children/child-select/child-select.component.ts");
/* harmony import */ var _note_presence_list_note_presence_list_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./note-presence-list/note-presence-list.component */ "./src/app/child-dev-project/notes/note-details/note-presence-list/note-presence-list.component.ts");
















var _c0 = ["dialogForm"];
function NoteDetailsComponent_mat_option_29_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var interaction_r6 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", interaction_r6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", interaction_r6, " ");
} }
function NoteDetailsComponent_div_42_Template(rf, ctx) { if (rf & 1) {
    var _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "app-child-select", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("newIdAdded", function NoteDetailsComponent_div_42_Template_app_child_select_newIdAdded_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r8); var ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); var _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](5); ctx_r7.entity.addChild($event); return _r1.form.markAsDirty(); })("idRemoved", function NoteDetailsComponent_div_42_Template_app_child_select_idRemoved_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r8); var ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); var _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](5); ctx_r9.entity.removeChild($event); return _r1.form.markAsDirty(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("valueAsIds", ctx_r4.entity.children);
} }
function NoteDetailsComponent_app_note_presence_list_43_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-note-presence-list", 25);
} if (rf & 2) {
    var ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    var _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("recordForm", _r1)("entity", ctx_r5.entity);
} }
var NoteDetailsComponent = /** @class */ (function () {
    function NoteDetailsComponent() {
        this.interactionTypes = Object.values(_interaction_types_enum__WEBPACK_IMPORTED_MODULE_1__["InteractionTypes"]);
        this.smallScreen = window.innerWidth < 500;
    }
    NoteDetailsComponent.ɵfac = function NoteDetailsComponent_Factory(t) { return new (t || NoteDetailsComponent)(); };
    NoteDetailsComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: NoteDetailsComponent, selectors: [["app-note-details"]], viewQuery: function NoteDetailsComponent_Query(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstaticViewQuery"](_c0, true);
        } if (rf & 2) {
            var _t;
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.formDialogWrapper = _t.first);
        } }, inputs: { entity: "entity" }, decls: 44, vars: 14, consts: [[3, "entity"], ["dialogForm", ""], ["entityForm", "ngForm"], [1, "form-section-secondary"], ["fxLayout", "row wrap", "fxLayoutGap", "20px"], ["fxFlex", ""], ["matInput", "", "placeholder", "Date", "name", "date", 3, "ngModel", "matDatepicker", "ngModelChange"], ["matSuffix", "", 3, "for"], ["picker", ""], ["name", "followup", 3, "ngModel", "ngModelChange"], ["value", "OK"], ["value", "WARNING"], ["value", "URGENT"], [1, "input-medium"], ["placeholder", "Type of Interaction", "name", "type", 3, "ngModel", "ngModelChange"], [3, "value", 4, "ngFor", "ngForOf"], ["matInput", "", "placeholder", "Team Member", "name", "teammember", "type", "text", 3, "ngModel", "ngModelChange"], [1, "mat-elevation-z2", "primary-section-elevated", "form-section-primary"], ["matInput", "", "placeholder", "Topic / Summary", "name", "subject", "type", "text", 3, "ngModel", "ngModelChange"], [1, "input-max"], ["matInput", "", "placeholder", "Notes", "name", "notes", "cdkTextareaAutosize", "", "cdkAutosizeMinRows", "4", 3, "ngModel", "ngModelChange"], ["fxFlex", "", 4, "ngIf"], ["fxFlex", "", 3, "recordForm", "entity", 4, "ngIf"], [3, "value"], [1, "input-medium", 3, "valueAsIds", "newIdAdded", "idRemoved"], ["fxFlex", "", 3, "recordForm", "entity"]], template: function NoteDetailsComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "app-form-dialog-wrapper", 0, 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h1");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "form", null, 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "div", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "input", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function NoteDetailsComponent_Template_input_ngModelChange_10_listener($event) { return ctx.entity.date = $event; });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](11, "mat-datepicker-toggle", 7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](12, "mat-datepicker", null, 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "div", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "mat-label");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](17, " Status ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](18, "mat-select", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function NoteDetailsComponent_Template_mat_select_ngModelChange_18_listener($event) { return ctx.entity.warningLevel = $event; });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](19, "mat-option", 10);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](20, "Solved");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](21, "mat-option", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](22, "Needs Follow-Up");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](23, "mat-option", 12);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](24, "Urgent Follow-Up");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](25, "div", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](26, "div", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](27, "mat-form-field", 13);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](28, "mat-select", 14);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function NoteDetailsComponent_Template_mat_select_ngModelChange_28_listener($event) { return ctx.entity.category = $event; });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](29, NoteDetailsComponent_mat_option_29_Template, 2, 2, "mat-option", 15);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](30, "div", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](31, "mat-form-field", 13);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](32, "input", 16);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function NoteDetailsComponent_Template_input_ngModelChange_32_listener($event) { return ctx.entity.author = $event; });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](33, "div", 17);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](34, "div", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](35, "div", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](36, "mat-form-field", 13);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](37, "input", 18);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function NoteDetailsComponent_Template_input_ngModelChange_37_listener($event) { return ctx.entity.subject = $event; });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](38, "div", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](39, "mat-form-field", 19);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](40, "textarea", 20);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function NoteDetailsComponent_Template_textarea_ngModelChange_40_listener($event) { return ctx.entity.text = $event; });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](41, "div", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](42, NoteDetailsComponent_div_42_Template, 2, 1, "div", 21);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](43, NoteDetailsComponent_app_note_presence_list_43_Template, 1, 2, "app-note-presence-list", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            var _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](13);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entity", ctx.entity);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"]("", ctx.entity.date == null ? null : ctx.entity.date.toLocaleDateString(), ": ", ctx.entity.subject, "");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx.entity.date)("matDatepicker", _r2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("for", _r2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx.entity.warningLevel);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](10);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx.entity.category);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.interactionTypes);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx.entity.author);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx.entity.subject);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx.entity.text);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.entity.isMeeting());
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.entity.isMeeting());
        } }, directives: [_core_form_dialog_form_dialog_wrapper_form_dialog_wrapper_component__WEBPACK_IMPORTED_MODULE_3__["FormDialogWrapperComponent"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgForm"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_5__["DefaultLayoutDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_5__["DefaultLayoutGapDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_5__["DefaultFlexDirective"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_6__["MatFormField"], _angular_material_input__WEBPACK_IMPORTED_MODULE_7__["MatInput"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["DefaultValueAccessor"], _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_8__["MatDatepickerInput"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgModel"], _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_8__["MatDatepickerToggle"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_6__["MatSuffix"], _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_8__["MatDatepicker"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_6__["MatLabel"], _angular_material_select__WEBPACK_IMPORTED_MODULE_9__["MatSelect"], _angular_material_core__WEBPACK_IMPORTED_MODULE_10__["MatOption"], _angular_common__WEBPACK_IMPORTED_MODULE_11__["NgForOf"], _angular_cdk_text_field__WEBPACK_IMPORTED_MODULE_12__["CdkTextareaAutosize"], _angular_common__WEBPACK_IMPORTED_MODULE_11__["NgIf"], _children_child_select_child_select_component__WEBPACK_IMPORTED_MODULE_13__["ChildSelectComponent"], _note_presence_list_note_presence_list_component__WEBPACK_IMPORTED_MODULE_14__["NotePresenceListComponent"]], styles: [".input-medium[_ngcontent-%COMP%] {\n  width: 100%;\n  max-width: 500px;\n}\n\n.input-max[_ngcontent-%COMP%] {\n  width: 100%;\n}\n\n.primary-section-elevated[_ngcontent-%COMP%] {\n  margin-left: -12px;\n  margin-right: -12px;\n  padding: 12px;\n  margin-bottom: 12px;\n}\n\n.form-section-secondary[_ngcontent-%COMP%] {\n  font-size: 0.9em;\n}\n\n.list-container-left[_ngcontent-%COMP%] {\n  max-width: 45%;\n  align-self: start;\n}\n\n.padding-container[_ngcontent-%COMP%] {\n  padding-right: 20px;\n  padding-left: 20px;\n}\n\n.padding-bottom[_ngcontent-%COMP%] {\n  padding-bottom: 15px;\n}\n\n.bottom-spacing[_ngcontent-%COMP%] {\n  padding-bottom: 20px;\n}\n\n.list-container-right[_ngcontent-%COMP%] {\n  max-width: 45%;\n  align-self: end;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3Qvbm90ZXMvbm90ZS1kZXRhaWxzL25vdGUtZGV0YWlscy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY2hpbGQtZGV2LXByb2plY3Qvbm90ZXMvbm90ZS1kZXRhaWxzL25vdGUtZGV0YWlscy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFdBQUE7RUFDQSxnQkFBQTtBQ0NGOztBREVBO0VBQ0UsV0FBQTtBQ0NGOztBREVBO0VBQ0Usa0JBQUE7RUFDQSxtQkFBQTtFQUVBLGFBQUE7RUFFQSxtQkFBQTtBQ0RGOztBRFFBO0VBQ0UsZ0JBQUE7QUNMRjs7QURPQTtFQUNFLGNBQUE7RUFDQSxpQkFBQTtBQ0pGOztBRE9BO0VBQ0UsbUJBQUE7RUFDQSxrQkFBQTtBQ0pGOztBRE9BO0VBQ0Usb0JBQUE7QUNKRjs7QURPQTtFQUNFLG9CQUFBO0FDSkY7O0FET0E7RUFDRSxjQUFBO0VBQ0EsZUFBQTtBQ0pGIiwiZmlsZSI6InNyYy9hcHAvY2hpbGQtZGV2LXByb2plY3Qvbm90ZXMvbm90ZS1kZXRhaWxzL25vdGUtZGV0YWlscy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pbnB1dC1tZWRpdW0ge1xuICB3aWR0aDogMTAwJTtcbiAgbWF4LXdpZHRoOiA1MDBweDtcbn1cblxuLmlucHV0LW1heCB7XG4gIHdpZHRoOiAxMDAlXG59XG5cbi5wcmltYXJ5LXNlY3Rpb24tZWxldmF0ZWQge1xuICBtYXJnaW4tbGVmdDogLTEycHg7XG4gIG1hcmdpbi1yaWdodDogLTEycHg7XG5cbiAgcGFkZGluZzogMTJweDtcblxuICBtYXJnaW4tYm90dG9tOiAxMnB4O1xufVxuXG4uZm9ybS1zZWN0aW9uLXByaW1hcnkge1xuXG59XG5cbi5mb3JtLXNlY3Rpb24tc2Vjb25kYXJ5IHtcbiAgZm9udC1zaXplOiAwLjllbTtcbn1cbi5saXN0LWNvbnRhaW5lci1sZWZ0IHtcbiAgbWF4LXdpZHRoOiA0NSU7XG4gIGFsaWduLXNlbGY6IHN0YXJ0O1xufVxuXG4ucGFkZGluZy1jb250YWluZXIge1xuICBwYWRkaW5nLXJpZ2h0OiAyMHB4O1xuICBwYWRkaW5nLWxlZnQ6IDIwcHg7XG59XG5cbi5wYWRkaW5nLWJvdHRvbSB7XG4gIHBhZGRpbmctYm90dG9tOiAxNXB4O1xufVxuXG4uYm90dG9tLXNwYWNpbmcge1xuICBwYWRkaW5nLWJvdHRvbTogMjBweDtcbn1cblxuLmxpc3QtY29udGFpbmVyLXJpZ2h0IHtcbiAgbWF4LXdpZHRoOiA0NSU7XG4gIGFsaWduLXNlbGY6IGVuZDtcbn1cbiIsIi5pbnB1dC1tZWRpdW0ge1xuICB3aWR0aDogMTAwJTtcbiAgbWF4LXdpZHRoOiA1MDBweDtcbn1cblxuLmlucHV0LW1heCB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4ucHJpbWFyeS1zZWN0aW9uLWVsZXZhdGVkIHtcbiAgbWFyZ2luLWxlZnQ6IC0xMnB4O1xuICBtYXJnaW4tcmlnaHQ6IC0xMnB4O1xuICBwYWRkaW5nOiAxMnB4O1xuICBtYXJnaW4tYm90dG9tOiAxMnB4O1xufVxuXG4uZm9ybS1zZWN0aW9uLXNlY29uZGFyeSB7XG4gIGZvbnQtc2l6ZTogMC45ZW07XG59XG5cbi5saXN0LWNvbnRhaW5lci1sZWZ0IHtcbiAgbWF4LXdpZHRoOiA0NSU7XG4gIGFsaWduLXNlbGY6IHN0YXJ0O1xufVxuXG4ucGFkZGluZy1jb250YWluZXIge1xuICBwYWRkaW5nLXJpZ2h0OiAyMHB4O1xuICBwYWRkaW5nLWxlZnQ6IDIwcHg7XG59XG5cbi5wYWRkaW5nLWJvdHRvbSB7XG4gIHBhZGRpbmctYm90dG9tOiAxNXB4O1xufVxuXG4uYm90dG9tLXNwYWNpbmcge1xuICBwYWRkaW5nLWJvdHRvbTogMjBweDtcbn1cblxuLmxpc3QtY29udGFpbmVyLXJpZ2h0IHtcbiAgbWF4LXdpZHRoOiA0NSU7XG4gIGFsaWduLXNlbGY6IGVuZDtcbn0iXX0= */"] });
    return NoteDetailsComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NoteDetailsComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-note-details",
                templateUrl: "./note-details.component.html",
                styleUrls: ["./note-details.component.scss"],
            }]
    }], function () { return []; }, { entity: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], formDialogWrapper: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["dialogForm", { static: true }]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/notes/note-details/note-presence-list/note-presence-list.component.ts":
/*!*********************************************************************************************************!*\
  !*** ./src/app/child-dev-project/notes/note-details/note-presence-list/note-presence-list.component.ts ***!
  \*********************************************************************************************************/
/*! exports provided: NotePresenceListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotePresenceListComponent", function() { return NotePresenceListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _model_note__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../model/note */ "./src/app/child-dev-project/notes/model/note.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _children_child_select_child_select_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../children/child-select/child-select.component */ "./src/app/child-dev-project/children/child-select/child-select.component.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _child_meeting_attendance_child_meeting_note_attendance_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../child-meeting-attendance/child-meeting-note-attendance.component */ "./src/app/child-dev-project/notes/note-details/child-meeting-attendance/child-meeting-note-attendance.component.ts");
/* harmony import */ var _angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/flex-layout/extended */ "./node_modules/@angular/flex-layout/esm5/extended.es5.js");









var _c0 = ["childSelect"];
var _c1 = function (a0) { return { "child-absent": a0 }; };
function NotePresenceListComponent_app_child_meeting_note_attendance_2_Template(rf, ctx) { if (rf & 1) {
    var _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "app-child-meeting-note-attendance", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function NotePresenceListComponent_app_child_meeting_note_attendance_2_Template_app_child_meeting_note_attendance_change_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); var ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r3.recordForm.form.markAsDirty(); })("remove", function NotePresenceListComponent_app_child_meeting_note_attendance_2_Template_app_child_meeting_note_attendance_remove_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); var att_r2 = ctx.$implicit; var ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r5.childSelectComponent.unselectChildId(att_r2.childId); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var att_r2 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("noteChildAttendance", att_r2)("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](2, _c1, !att_r2.present));
} }
var NotePresenceListComponent = /** @class */ (function () {
    function NotePresenceListComponent() {
        this.entity = new _model_note__WEBPACK_IMPORTED_MODULE_1__["Note"]("");
        this.smallScreen = window.innerWidth < 500;
        this.sortEntries();
    }
    NotePresenceListComponent.prototype.ngOnChanges = function (changes) {
        if (changes.hasOwnProperty("entity")) {
            this.sortEntries();
        }
    };
    NotePresenceListComponent.prototype.sortEntries = function () {
        if (!this.entity) {
            return;
        }
        this.entity.attendances.sort(function (a, b) {
            if (a.present === b.present) {
                return 0;
            }
            if (a.present) {
                return -1;
            }
            return 1;
        });
    };
    NotePresenceListComponent.ɵfac = function NotePresenceListComponent_Factory(t) { return new (t || NotePresenceListComponent)(); };
    NotePresenceListComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: NotePresenceListComponent, selectors: [["app-note-presence-list"]], viewQuery: function NotePresenceListComponent_Query(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstaticViewQuery"](_c0, true);
        } if (rf & 2) {
            var _t;
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.childSelectComponent = _t.first);
        } }, inputs: { entity: "entity", recordForm: "recordForm" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 3, vars: 2, consts: [[1, "input-medium", 3, "valueAsIds", "newIdAdded", "idRemoved"], ["childSelect", ""], [3, "noteChildAttendance", "ngClass", "change", "remove", 4, "ngFor", "ngForOf"], [3, "noteChildAttendance", "ngClass", "change", "remove"]], template: function NotePresenceListComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "app-child-select", 0, 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("newIdAdded", function NotePresenceListComponent_Template_app_child_select_newIdAdded_0_listener($event) { ctx.entity.addChild($event); return ctx.recordForm.form.markAsDirty(); })("idRemoved", function NotePresenceListComponent_Template_app_child_select_idRemoved_0_listener($event) { ctx.entity.removeChild($event); return ctx.recordForm.form.markAsDirty(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, NotePresenceListComponent_app_child_meeting_note_attendance_2_Template, 1, 4, "app-child-meeting-note-attendance", 2);
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("valueAsIds", ctx.entity.children);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.entity.attendances);
        } }, directives: [_children_child_select_child_select_component__WEBPACK_IMPORTED_MODULE_3__["ChildSelectComponent"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgForOf"], _child_meeting_attendance_child_meeting_note_attendance_component__WEBPACK_IMPORTED_MODULE_5__["ChildMeetingNoteAttendanceComponent"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgClass"], _angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_6__["DefaultClassDirective"]], styles: ["[_nghost-%COMP%]     app-child-select .selected-entity-block {\n  display: none;\n}\n\napp-child-meeting-note-attendance[_ngcontent-%COMP%] {\n  display: block;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3Qvbm90ZXMvbm90ZS1kZXRhaWxzL25vdGUtcHJlc2VuY2UtbGlzdC9ub3RlLXByZXNlbmNlLWxpc3QuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NoaWxkLWRldi1wcm9qZWN0L25vdGVzL25vdGUtZGV0YWlscy9ub3RlLXByZXNlbmNlLWxpc3Qvbm90ZS1wcmVzZW5jZS1saXN0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBRUUsYUFBQTtBQ0RGOztBRElBO0VBQ0UsY0FBQTtBQ0RGIiwiZmlsZSI6InNyYy9hcHAvY2hpbGQtZGV2LXByb2plY3Qvbm90ZXMvbm90ZS1kZXRhaWxzL25vdGUtcHJlc2VuY2UtbGlzdC9ub3RlLXByZXNlbmNlLWxpc3QuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbjpob3N0IDo6bmctZGVlcCBhcHAtY2hpbGQtc2VsZWN0IC5zZWxlY3RlZC1lbnRpdHktYmxvY2sge1xuICAvLyBoaWRlIHNlbGVjdGVkIGNoaWxkLWJsb2NrcyBpbiB0aGUgY2hpbGQtc2VsZWN0IGJlY2F1c2UgdGhleSBhcmUgZGlzcGxheWVkIHNlcGFyYXRlbHlcbiAgZGlzcGxheTogbm9uZTtcbn1cblxuYXBwLWNoaWxkLW1lZXRpbmctbm90ZS1hdHRlbmRhbmNlIHtcbiAgZGlzcGxheTogYmxvY2s7XG59XG4iLCI6aG9zdCA6Om5nLWRlZXAgYXBwLWNoaWxkLXNlbGVjdCAuc2VsZWN0ZWQtZW50aXR5LWJsb2NrIHtcbiAgZGlzcGxheTogbm9uZTtcbn1cblxuYXBwLWNoaWxkLW1lZXRpbmctbm90ZS1hdHRlbmRhbmNlIHtcbiAgZGlzcGxheTogYmxvY2s7XG59Il19 */"] });
    return NotePresenceListComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NotePresenceListComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-note-presence-list",
                templateUrl: "./note-presence-list.component.html",
                styleUrls: ["./note-presence-list.component.scss"],
            }]
    }], function () { return []; }, { entity: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], recordForm: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], childSelectComponent: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["childSelect", { static: true }]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/notes/notes-manager/notes-manager.component.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/child-dev-project/notes/notes-manager/notes-manager.component.ts ***!
  \**********************************************************************************/
/*! exports provided: NotesManagerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotesManagerComponent", function() { return NotesManagerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _model_note__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/note */ "./src/app/child-dev-project/notes/model/note.ts");
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/table */ "./node_modules/@angular/material/fesm5/table.js");
/* harmony import */ var _angular_material_sort__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/sort */ "./node_modules/@angular/material/fesm5/sort.js");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var _note_details_note_details_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../note-details/note-details.component */ "./src/app/child-dev-project/notes/note-details/note-details.component.ts");
/* harmony import */ var _interaction_types_enum__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../interaction-types.enum */ "./src/app/child-dev-project/notes/interaction-types.enum.ts");
/* harmony import */ var _angular_material_paginator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/paginator */ "./node_modules/@angular/material/fesm5/paginator.js");
/* harmony import */ var _warning_level__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../warning-level */ "./src/app/child-dev-project/warning-level.ts");
/* harmony import */ var _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/entity/entity-mapper.service */ "./src/app/core/entity/entity-mapper.service.ts");
/* harmony import */ var _core_filter_filter_selection_filter_selection__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/filter/filter-selection/filter-selection */ "./src/app/core/filter/filter-selection/filter-selection.ts");
/* harmony import */ var _core_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/session/session-service/session.service */ "./src/app/core/session/session-service/session.service.ts");
/* harmony import */ var _core_form_dialog_form_dialog_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/form-dialog/form-dialog.service */ "./src/app/core/form-dialog/form-dialog.service.ts");
/* harmony import */ var _ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @ngneat/until-destroy */ "./node_modules/@ngneat/until-destroy/fesm5/ngneat-until-destroy.js");
/* harmony import */ var _angular_material_expansion__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/expansion */ "./node_modules/@angular/material/fesm5/expansion.js");
/* harmony import */ var _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/flex-layout/flex */ "./node_modules/@angular/flex-layout/esm5/flex.es5.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/flex-layout/extended */ "./node_modules/@angular/flex-layout/esm5/extended.es5.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm2015/angulartics2.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @angular/material/button-toggle */ "./node_modules/@angular/material/fesm5/button-toggle.js");
/* harmony import */ var _angular_material_select__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @angular/material/select */ "./node_modules/@angular/material/fesm5/select.js");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @angular/material/core */ "./node_modules/@angular/material/fesm5/core.js");
/* harmony import */ var _children_child_block_child_block_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../children/child-block/child-block.component */ "./src/app/child-dev-project/children/child-block/child-block.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




































function NotesManagerComponent_button_7_Template(rf, ctx) { if (rf & 1) {
    var _r17 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function NotesManagerComponent_button_7_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r17); var ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); ctx_r16.filterString = ""; return ctx_r16.applyFilter(""); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-icon", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function NotesManagerComponent_mat_button_toggle_group_16_mat_button_toggle_1_Template(rf, ctx) { if (rf & 1) {
    var _r23 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-button-toggle", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function NotesManagerComponent_mat_button_toggle_group_16_mat_button_toggle_1_Template_mat_button_toggle_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r23); var option_r20 = ctx.$implicit; var filterSelection_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; var ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); filterSelection_r18.selectedOption = option_r20.key; return ctx_r21.applyFilterSelections(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var option_r20 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", option_r20.key);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", option_r20.label, " ");
} }
function NotesManagerComponent_mat_button_toggle_group_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-button-toggle-group", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, NotesManagerComponent_mat_button_toggle_group_16_mat_button_toggle_1_Template, 2, 2, "mat-button-toggle", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var filterSelection_r18 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("name", filterSelection_r18.name)("value", filterSelection_r18.selectedOption);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", filterSelection_r18.options);
} }
function NotesManagerComponent_mat_form_field_18_mat_option_4_Template(rf, ctx) { if (rf & 1) {
    var _r29 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function NotesManagerComponent_mat_form_field_18_mat_option_4_Template_mat_option_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r29); var option_r26 = ctx.$implicit; var filterSelection_r24 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; var ctx_r27 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); filterSelection_r24.selectedOption = option_r26.key; return ctx_r27.applyFilterSelections(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var option_r26 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", option_r26.key);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", option_r26.label, " ");
} }
function NotesManagerComponent_mat_form_field_18_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-form-field", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "mat-select", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, NotesManagerComponent_mat_form_field_18_mat_option_4_Template, 2, 2, "mat-option", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var filterSelection_r24 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](filterSelection_r24.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("id", filterSelection_r24.name)("value", filterSelection_r24.selectedOption);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", filterSelection_r24.options);
} }
function NotesManagerComponent_mat_form_field_20_mat_option_2_Template(rf, ctx) { if (rf & 1) {
    var _r35 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function NotesManagerComponent_mat_form_field_20_mat_option_2_Template_mat_option_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r35); var option_r32 = ctx.$implicit; var filterSelection_r30 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; var ctx_r33 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); filterSelection_r30.selectedOption = option_r32.key; return ctx_r33.applyFilterSelections(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var option_r32 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", option_r32.key);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](option_r32.label);
} }
function NotesManagerComponent_mat_form_field_20_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-form-field");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-select", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, NotesManagerComponent_mat_form_field_20_mat_option_2_Template, 2, 2, "mat-option", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var filterSelection_r30 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("placeholder", filterSelection_r30.name)("value", filterSelection_r30.selectedOption);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", filterSelection_r30.options);
} }
function NotesManagerComponent_th_24_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Date");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function NotesManagerComponent_td_25_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var note_r36 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 1, note_r36.date, "yyyy-MM-dd"), " ");
} }
function NotesManagerComponent_th_27_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Subject");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function NotesManagerComponent_td_28_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var note_r37 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](note_r37.subject);
} }
function NotesManagerComponent_th_30_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Category");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function NotesManagerComponent_td_31_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var note_r38 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](note_r38.category);
} }
function NotesManagerComponent_th_33_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Author");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function NotesManagerComponent_td_34_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var note_r39 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](note_r39.author);
} }
function NotesManagerComponent_th_36_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Children");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function NotesManagerComponent_td_37_app_child_block_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-child-block", 40);
} if (rf & 2) {
    var child_r42 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entityId", child_r42);
} }
function NotesManagerComponent_td_37_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, NotesManagerComponent_td_37_app_child_block_1_Template, 1, 1, "app-child-block", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var note_r40 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", note_r40.children);
} }
function NotesManagerComponent_tr_38_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "tr", 41);
} }
var _c0 = function (a0) { return { "background-color": a0 }; };
function NotesManagerComponent_tr_39_Template(rf, ctx) { if (rf & 1) {
    var _r46 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "tr", 42);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function NotesManagerComponent_tr_39_Template_tr_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r46); var note_r43 = ctx.$implicit; var ctx_r45 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r45.showDetails(note_r43); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var note_r43 = ctx.$implicit;
    var i_r44 = ctx.index;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngStyle", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](2, _c0, note_r43.getColor()))("angularticsLabel", "list-entry-" + i_r44);
} }
var _c1 = function () { return [3, 10, 20, 50]; };
var NotesManagerComponent = /** @class */ (function () {
    function NotesManagerComponent(formDialog, sessionService, media, entityMapperService) {
        var _this = this;
        this.formDialog = formDialog;
        this.sessionService = sessionService;
        this.media = media;
        this.entityMapperService = entityMapperService;
        this.entityList = new Array();
        this.notesDataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatTableDataSource"]();
        this.columnsToDisplay = ["date", "subject", "category", "author", "children"];
        this.columnGroups = {
            standard: ["date", "subject", "category", "author", "children"],
            mobile: ["date", "subject", "children"],
        };
        this.filterString = "";
        this.followUpFS = new _core_filter_filter_selection_filter_selection__WEBPACK_IMPORTED_MODULE_10__["FilterSelection"]("status", [
            {
                key: "urgent",
                label: "Urgent",
                filterFun: function (n) { return n.warningLevel === _warning_level__WEBPACK_IMPORTED_MODULE_8__["WarningLevel"].URGENT; },
            },
            {
                key: "follow-up",
                label: "Needs Follow-Up",
                filterFun: function (n) {
                    return n.warningLevel === _warning_level__WEBPACK_IMPORTED_MODULE_8__["WarningLevel"].WARNING ||
                        n.warningLevel === _warning_level__WEBPACK_IMPORTED_MODULE_8__["WarningLevel"].URGENT;
                },
            },
            { key: "", label: "All", filterFun: function () { return true; } },
        ]);
        this.dateFS = new _core_filter_filter_selection_filter_selection__WEBPACK_IMPORTED_MODULE_10__["FilterSelection"]("date", [
            {
                key: "current-week",
                label: "This Week",
                filterFun: function (n) { return n.date > _this.getPreviousSunday(0); },
            },
            {
                key: "last-week",
                label: "Since Last Week",
                filterFun: function (n) { return n.date > _this.getPreviousSunday(1); },
            },
            { key: "", label: "All", filterFun: function () { return true; } },
        ]);
        this.filterSelections = [this.followUpFS, this.dateFS];
        this.categoryFS = new _core_filter_filter_selection_filter_selection__WEBPACK_IMPORTED_MODULE_10__["FilterSelection"]("category", []);
        this.filterSelectionsDropdown = [this.categoryFS];
    }
    NotesManagerComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.user = this.sessionService.getCurrentUser();
        this.paginatorPageSize = this.user.paginatorSettingsPageSize.notesList;
        this.paginatorPageIndex = this.user.paginatorSettingsPageIndex.notesList;
        // activate default filter to current week
        this.dateFS.selectedOption = this.dateFS.options[0].key;
        this.entityMapperService.loadType(_model_note__WEBPACK_IMPORTED_MODULE_1__["Note"]).then(function (notes) {
            _this.sortAndAdd(notes);
        });
        this.displayColumnGroup("standard");
        this.media.media$
            .pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_13__["untilDestroyed"])(this))
            .subscribe(function (change) {
            if (change.mqAlias === "xs" || change.mqAlias === "sm") {
                console.log("smaller screen toggled");
                _this.displayColumnGroup("mobile");
            }
        });
        this.initCategoryFilter();
    };
    NotesManagerComponent.prototype.onPaginateChange = function (event) {
        this.paginatorPageSize = event.pageSize;
        this.paginatorPageIndex = event.pageIndex;
        this.updateUserPaginationSettings();
    };
    NotesManagerComponent.prototype.updateUserPaginationSettings = function () {
        var hasChangesToBeSaved = this.paginatorPageSize !== this.user.paginatorSettingsPageSize.notesList;
        this.user.paginatorSettingsPageIndex.notesList = this.paginatorPageIndex;
        this.user.paginatorSettingsPageSize.notesList = this.paginatorPageSize;
        if (hasChangesToBeSaved) {
            this.entityMapperService.save(this.user);
        }
    };
    NotesManagerComponent.prototype.sortAndAdd = function (newNotes) {
        var _this = this;
        newNotes.forEach(function (newNote) {
            _this.entityList.push(newNote);
        });
        this.entityList.sort(function (a, b) {
            return (b.date ? b.date.getTime() : 0) - (a.date ? a.date.getTime() : 0);
        });
        this.applyFilterSelections();
    };
    NotesManagerComponent.prototype.displayColumnGroup = function (columnGroup) {
        this.columnsToDisplay = this.columnGroups[columnGroup];
    };
    NotesManagerComponent.prototype.initCategoryFilter = function () {
        var _this = this;
        this.categoryFS.options = [{ key: "", label: "", filterFun: function () { return true; } }];
        Object.values(_interaction_types_enum__WEBPACK_IMPORTED_MODULE_6__["InteractionTypes"]).forEach(function (interaction) {
            _this.categoryFS.options.push({
                key: interaction,
                label: interaction,
                filterFun: function (note) {
                    return interaction === _interaction_types_enum__WEBPACK_IMPORTED_MODULE_6__["InteractionTypes"].NONE
                        ? true
                        : note.category === interaction;
                },
            });
        });
        this.applyFilterSelections();
    };
    NotesManagerComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        this.notesDataSource.sort = this.sort;
        this.notesDataSource.paginator = this.paginator;
        setTimeout(function () {
            _this.paginator.pageIndex = _this.paginatorPageIndex;
            _this.paginator.page.next({
                pageIndex: _this.paginator.pageIndex,
                pageSize: _this.paginator.pageSize,
                length: _this.paginator.length,
            });
        });
    };
    NotesManagerComponent.prototype.getPreviousSunday = function (weeksBack) {
        var today = new Date();
        var day = today.getDay();
        var diff = today.getDate() - day - 7 * weeksBack; // adjust when day is sunday
        return new Date(today.setDate(diff));
    };
    NotesManagerComponent.prototype.applyFilter = function (filterValue) {
        filterValue = filterValue.trim();
        filterValue = filterValue.toLowerCase(); // MatTableDataSource defaults to lowercase matches
        this.notesDataSource.filter = filterValue;
    };
    NotesManagerComponent.prototype.applyFilterSelections = function () {
        var filteredData = this.entityList;
        this.filterSelections.forEach(function (f) {
            filteredData = filteredData.filter(f.getSelectedFilterFunction());
        });
        this.filterSelectionsDropdown.forEach(function (f) {
            filteredData = filteredData.filter(f.getSelectedFilterFunction());
        });
        this.notesDataSource.data = filteredData;
    };
    NotesManagerComponent.prototype.addNoteClick = function () {
        var _this = this;
        var newNote = new _model_note__WEBPACK_IMPORTED_MODULE_1__["Note"](Date.now().toString());
        newNote.date = new Date();
        newNote.author = this.sessionService.getCurrentUser().name;
        var noteDialogRef = this.showDetails(newNote);
        noteDialogRef.afterClosed().subscribe(function (val) {
            _this.entityList = [val].concat(_this.entityList);
            _this.applyFilterSelections();
        });
    };
    NotesManagerComponent.prototype.showDetails = function (entity) {
        return this.formDialog.openDialog(_note_details_note_details_component__WEBPACK_IMPORTED_MODULE_5__["NoteDetailsComponent"], entity);
    };
    NotesManagerComponent.ɵfac = function NotesManagerComponent_Factory(t) { return new (t || NotesManagerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_form_dialog_form_dialog_service__WEBPACK_IMPORTED_MODULE_12__["FormDialogService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_11__["SessionService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_flex_layout__WEBPACK_IMPORTED_MODULE_4__["MediaObserver"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_9__["EntityMapperService"])); };
    NotesManagerComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: NotesManagerComponent, selectors: [["app-notes-manager"]], viewQuery: function NotesManagerComponent_Query(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_angular_material_sort__WEBPACK_IMPORTED_MODULE_3__["MatSort"], true);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_angular_material_paginator__WEBPACK_IMPORTED_MODULE_7__["MatPaginator"], true);
        } if (rf & 2) {
            var _t;
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.sort = _t.first);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.paginator = _t.first);
        } }, decls: 41, vars: 14, consts: [["expanded", "true", "fxLayout", "column", "fxLayoutGap", "10px", 1, "filter-panel"], ["fxLayout", "row", "fxLayoutGap", "10px", "fxLayoutAlign", "none end"], ["fxFlex", "50"], [2, "width", "100%"], ["matInput", "", "placeholder", "Filter", 3, "ngModel", "ngModelChange"], ["mat-icon-button", "", "matSuffix", "", "aria-label", "Clear", 3, "click", 4, "ngIf"], ["fxHide.xs", "true", 1, "align-form-field"], [1, "align-form-field"], ["mat-stroked-button", "", "color", "accent", "angulartics2On", "click", "angularticsCategory", "UserAction", "angularticsAction", "notes_manager_add_note", 3, "click"], ["aria-label", "add child", "fontIcon", "fa-plus-circle", 1, "button-icon"], ["fxHide.lt-md", "true"], ["fxLayout", "row wrap", "fxLayoutGap", "10px", "fxHide.lt-sm", "", 1, "filter-button"], [3, "name", "value", 4, "ngFor", "ngForOf"], ["fxLayout", "row wrap", "fxHide.gt-xs", ""], ["style", "padding-right: 1%;", 4, "ngFor", "ngForOf"], ["fxLayout", "row", "fxLayoutGap", "10px", 2, "margin-top", "20px"], [4, "ngFor", "ngForOf"], [1, "mat-elevation-z8", "table-list"], ["mat-table", "", "matSort", "", 3, "dataSource"], ["matColumnDef", "date"], ["mat-header-cell", "", "mat-sort-header", "", 4, "matHeaderCellDef"], ["mat-cell", "", 4, "matCellDef"], ["matColumnDef", "subject"], ["matColumnDef", "category"], ["matColumnDef", "author"], ["matColumnDef", "children"], ["mat-header-row", "", 4, "matHeaderRowDef"], ["mat-row", "", "style", "cursor: pointer;", "angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "notes_manager_list_link", 3, "ngStyle", "angularticsLabel", "click", 4, "matRowDef", "matRowDefColumns"], [3, "pageSize", "pageIndex", "pageSizeOptions", "showFirstLastButtons", "page"], ["mat-icon-button", "", "matSuffix", "", "aria-label", "Clear", 3, "click"], ["fontIcon", "fa-times"], [3, "name", "value"], [3, "value", "click", 4, "ngFor", "ngForOf"], [3, "value", "click"], [2, "padding-right", "1%"], ["placeholder", "filterSelection.name", 3, "id", "value"], [3, "placeholder", "value"], ["mat-header-cell", "", "mat-sort-header", ""], ["mat-cell", ""], [3, "entityId", 4, "ngFor", "ngForOf"], [3, "entityId"], ["mat-header-row", ""], ["mat-row", "", "angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "notes_manager_list_link", 2, "cursor", "pointer", 3, "ngStyle", "angularticsLabel", "click"]], template: function NotesManagerComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "h1");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Notes & Reports");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "mat-expansion-panel", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "mat-form-field", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "input", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function NotesManagerComponent_Template_input_ngModelChange_6_listener($event) { return ctx.applyFilter($event); })("ngModelChange", function NotesManagerComponent_Template_input_ngModelChange_6_listener($event) { return ctx.filterString = $event; });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, NotesManagerComponent_button_7_Template, 2, 0, "button", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "div", 7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "button", 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function NotesManagerComponent_Template_button_click_11_listener() { return ctx.addNoteClick(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](12, "mat-icon", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "span", 10);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](14, " Add New ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "div", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](16, NotesManagerComponent_mat_button_toggle_group_16_Template, 2, 3, "mat-button-toggle-group", 12);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "div", 13);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](18, NotesManagerComponent_mat_form_field_18_Template, 5, 4, "mat-form-field", 14);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](19, "div", 15);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](20, NotesManagerComponent_mat_form_field_20_Template, 3, 3, "mat-form-field", 16);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](21, "div", 17);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](22, "table", 18);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](23, 19);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](24, NotesManagerComponent_th_24_Template, 2, 0, "th", 20);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](25, NotesManagerComponent_td_25_Template, 3, 4, "td", 21);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](26, 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](27, NotesManagerComponent_th_27_Template, 2, 0, "th", 20);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](28, NotesManagerComponent_td_28_Template, 2, 1, "td", 21);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](29, 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](30, NotesManagerComponent_th_30_Template, 2, 0, "th", 20);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](31, NotesManagerComponent_td_31_Template, 2, 1, "td", 21);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](32, 24);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](33, NotesManagerComponent_th_33_Template, 2, 0, "th", 20);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](34, NotesManagerComponent_td_34_Template, 2, 1, "td", 21);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](35, 25);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](36, NotesManagerComponent_th_36_Template, 2, 0, "th", 20);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](37, NotesManagerComponent_td_37_Template, 2, 1, "td", 21);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](38, NotesManagerComponent_tr_38_Template, 1, 0, "tr", 26);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](39, NotesManagerComponent_tr_39_Template, 1, 4, "tr", 27);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](40, "mat-paginator", 28);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("page", function NotesManagerComponent_Template_mat_paginator_page_40_listener($event) { return ctx.onPaginateChange($event); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx.filterString);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.filterString);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" (Showing ", ctx.notesDataSource.filteredData.length, " Notes) ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.filterSelections);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.filterSelections);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.filterSelectionsDropdown);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("dataSource", ctx.notesDataSource);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](16);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matHeaderRowDef", ctx.columnsToDisplay);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matRowDefColumns", ctx.columnsToDisplay);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("pageSize", ctx.paginatorPageSize)("pageIndex", ctx.paginatorPageIndex)("pageSizeOptions", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](13, _c1))("showFirstLastButtons", true);
        } }, directives: [_angular_material_expansion__WEBPACK_IMPORTED_MODULE_14__["MatExpansionPanel"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_15__["DefaultLayoutDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_15__["DefaultLayoutGapDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_15__["DefaultLayoutAlignDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_15__["DefaultFlexDirective"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_16__["MatFormField"], _angular_material_input__WEBPACK_IMPORTED_MODULE_17__["MatInput"], _angular_forms__WEBPACK_IMPORTED_MODULE_18__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_18__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_18__["NgModel"], _angular_common__WEBPACK_IMPORTED_MODULE_19__["NgIf"], _angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_20__["DefaultShowHideDirective"], _angular_material_button__WEBPACK_IMPORTED_MODULE_21__["MatButton"], angulartics2__WEBPACK_IMPORTED_MODULE_22__["Angulartics2On"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_23__["MatIcon"], _angular_common__WEBPACK_IMPORTED_MODULE_19__["NgForOf"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatTable"], _angular_material_sort__WEBPACK_IMPORTED_MODULE_3__["MatSort"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatColumnDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatHeaderCellDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatCellDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatHeaderRowDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatRowDef"], _angular_material_paginator__WEBPACK_IMPORTED_MODULE_7__["MatPaginator"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_16__["MatSuffix"], _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_24__["MatButtonToggleGroup"], _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_24__["MatButtonToggle"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_16__["MatLabel"], _angular_material_select__WEBPACK_IMPORTED_MODULE_25__["MatSelect"], _angular_material_core__WEBPACK_IMPORTED_MODULE_26__["MatOption"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatHeaderCell"], _angular_material_sort__WEBPACK_IMPORTED_MODULE_3__["MatSortHeader"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatCell"], _children_child_block_child_block_component__WEBPACK_IMPORTED_MODULE_27__["ChildBlockComponent"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatHeaderRow"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatRow"], _angular_common__WEBPACK_IMPORTED_MODULE_19__["NgStyle"], _angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_20__["DefaultStyleDirective"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_19__["DatePipe"]], styles: [".table-list[_ngcontent-%COMP%] {\n  width: 100%;\n  margin-top: 10px;\n}\n.table-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%] {\n  width: 100%;\n}\n.table-list[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n  padding-left: 8px;\n}\n.button-icon[_ngcontent-%COMP%] {\n  font-size: 1.5em;\n  margin-right: 5px;\n}\n.filter-panel[_ngcontent-%COMP%] {\n  padding-top: 10px;\n}\n.align-form-field[_ngcontent-%COMP%] {\n  padding-bottom: 1.25em;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3Qvbm90ZXMvbm90ZXMtbWFuYWdlci9ub3Rlcy1tYW5hZ2VyLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jaGlsZC1kZXYtcHJvamVjdC9ub3Rlcy9ub3Rlcy1tYW5hZ2VyL25vdGVzLW1hbmFnZXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0VBQ0EsZ0JBQUE7QUNDRjtBRENFO0VBQ0UsV0FBQTtBQ0NKO0FER0E7RUFDRSxpQkFBQTtBQ0FGO0FER0E7RUFDRSxnQkFBQTtFQUNBLGlCQUFBO0FDQUY7QURHQTtFQUNFLGlCQUFBO0FDQUY7QURHQTtFQUNFLHNCQUFBO0FDQUYiLCJmaWxlIjoic3JjL2FwcC9jaGlsZC1kZXYtcHJvamVjdC9ub3Rlcy9ub3Rlcy1tYW5hZ2VyL25vdGVzLW1hbmFnZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGFibGUtbGlzdCB7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXJnaW4tdG9wOiAxMHB4O1xuXG4gIHRhYmxlIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxufVxuXG4udGFibGUtbGlzdCB0ZCB7XG4gIHBhZGRpbmctbGVmdDogOHB4O1xufVxuXG4uYnV0dG9uLWljb24ge1xuICBmb250LXNpemU6IDEuNWVtO1xuICBtYXJnaW4tcmlnaHQ6IDVweDtcbn1cblxuLmZpbHRlci1wYW5lbCB7XG4gIHBhZGRpbmctdG9wOiAxMHB4O1xufVxuXG4uYWxpZ24tZm9ybS1maWVsZCB7XG4gIHBhZGRpbmctYm90dG9tOiAxLjI1ZW07XG59XG4iLCIudGFibGUtbGlzdCB7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXJnaW4tdG9wOiAxMHB4O1xufVxuLnRhYmxlLWxpc3QgdGFibGUge1xuICB3aWR0aDogMTAwJTtcbn1cblxuLnRhYmxlLWxpc3QgdGQge1xuICBwYWRkaW5nLWxlZnQ6IDhweDtcbn1cblxuLmJ1dHRvbi1pY29uIHtcbiAgZm9udC1zaXplOiAxLjVlbTtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG59XG5cbi5maWx0ZXItcGFuZWwge1xuICBwYWRkaW5nLXRvcDogMTBweDtcbn1cblxuLmFsaWduLWZvcm0tZmllbGQge1xuICBwYWRkaW5nLWJvdHRvbTogMS4yNWVtO1xufSJdfQ== */"] });
    NotesManagerComponent = __decorate([
        Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_13__["UntilDestroy"])(),
        __metadata("design:paramtypes", [_core_form_dialog_form_dialog_service__WEBPACK_IMPORTED_MODULE_12__["FormDialogService"],
            _core_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_11__["SessionService"],
            _angular_flex_layout__WEBPACK_IMPORTED_MODULE_4__["MediaObserver"],
            _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_9__["EntityMapperService"]])
    ], NotesManagerComponent);
    return NotesManagerComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NotesManagerComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-notes-manager",
                templateUrl: "./notes-manager.component.html",
                styleUrls: ["./notes-manager.component.scss"],
            }]
    }], function () { return [{ type: _core_form_dialog_form_dialog_service__WEBPACK_IMPORTED_MODULE_12__["FormDialogService"] }, { type: _core_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_11__["SessionService"] }, { type: _angular_flex_layout__WEBPACK_IMPORTED_MODULE_4__["MediaObserver"] }, { type: _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_9__["EntityMapperService"] }]; }, { sort: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: [_angular_material_sort__WEBPACK_IMPORTED_MODULE_3__["MatSort"]]
        }], paginator: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: [_angular_material_paginator__WEBPACK_IMPORTED_MODULE_7__["MatPaginator"]]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/notes/notes-of-child/notes-of-child.component.ts":
/*!************************************************************************************!*\
  !*** ./src/app/child-dev-project/notes/notes-of-child/notes-of-child.component.ts ***!
  \************************************************************************************/
/*! exports provided: NotesOfChildComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotesOfChildComponent", function() { return NotesOfChildComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _model_note__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/note */ "./src/app/child-dev-project/notes/model/note.ts");
/* harmony import */ var _note_details_note_details_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../note-details/note-details.component */ "./src/app/child-dev-project/notes/note-details/note-details.component.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _children_children_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../children/children.service */ "./src/app/child-dev-project/children/children.service.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _core_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/session/session-service/session.service */ "./src/app/core/session/session-service/session.service.ts");
/* harmony import */ var _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/entity-subrecord/entity-subrecord/column-description */ "./src/app/core/entity-subrecord/entity-subrecord/column-description.ts");
/* harmony import */ var _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/entity-subrecord/entity-subrecord/column-description-input-type.enum */ "./src/app/core/entity-subrecord/entity-subrecord/column-description-input-type.enum.ts");
/* harmony import */ var _ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ngneat/until-destroy */ "./node_modules/@ngneat/until-destroy/fesm5/ngneat-until-destroy.js");
/* harmony import */ var _children_model_child__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../children/model/child */ "./src/app/child-dev-project/children/model/child.ts");
/* harmony import */ var _core_entity_subrecord_entity_subrecord_entity_subrecord_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/entity-subrecord/entity-subrecord/entity-subrecord.component */ "./src/app/core/entity-subrecord/entity-subrecord/entity-subrecord.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
















/**
 * The component that is responsible for listing the Notes that are related to a certain child
 */
var NotesOfChildComponent = /** @class */ (function () {
    function NotesOfChildComponent(childrenService, sessionService, datePipe) {
        var _this = this;
        this.childrenService = childrenService;
        this.sessionService = sessionService;
        this.datePipe = datePipe;
        this.records = [];
        this.detailsComponent = _note_details_note_details_component__WEBPACK_IMPORTED_MODULE_2__["NoteDetailsComponent"];
        this.columns = [
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_7__["ColumnDescription"]("date", "Date", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_8__["ColumnDescriptionInputType"].DATE, null, function (v) { return _this.datePipe.transform(v, "yyyy-MM-dd"); }, "xs"),
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_7__["ColumnDescription"]("subject", "Topic", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_8__["ColumnDescriptionInputType"].TEXT, null, undefined, "xs"),
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_7__["ColumnDescription"]("text", "Notes", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_8__["ColumnDescriptionInputType"].TEXTAREA, null, undefined, "md"),
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_7__["ColumnDescription"]("author", "SW", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_8__["ColumnDescriptionInputType"].TEXT, null, undefined, "md"),
            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_7__["ColumnDescription"]("warningLevel", "", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_8__["ColumnDescriptionInputType"].SELECT, [
                { value: "OK", label: "Solved" },
                { value: "WARNING", label: "Needs Follow-Up" },
                { value: "URGENT", label: "Urgent Follow-Up" },
            ], function () { return ""; }, "md"),
        ];
    }
    NotesOfChildComponent.prototype.ngOnChanges = function (changes) {
        if (changes.hasOwnProperty("child")) {
            this.initNotesOfChild();
        }
    };
    NotesOfChildComponent.prototype.initNotesOfChild = function () {
        var _this = this;
        this.childrenService
            .getNotesOfChild(this.child.getId())
            .pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_9__["untilDestroyed"])(this))
            .subscribe(function (notes) {
            notes.sort(function (a, b) {
                if (!a.date && b.date) {
                    // note without date should be first
                    return -1;
                }
                return moment__WEBPACK_IMPORTED_MODULE_5___default()(b.date).valueOf() - moment__WEBPACK_IMPORTED_MODULE_5___default()(a.date).valueOf();
            });
            _this.records = notes;
        });
    };
    NotesOfChildComponent.prototype.generateNewRecordFactory = function () {
        // define values locally because "this" is a different scope after passing a function as input to another component
        var user = this.sessionService.getCurrentUser()
            ? this.sessionService.getCurrentUser().name
            : "";
        var childId = this.child.getId();
        return function () {
            var newNote = new _model_note__WEBPACK_IMPORTED_MODULE_1__["Note"](Date.now().toString());
            newNote.date = new Date();
            newNote.addChild(childId);
            newNote.author = user;
            return newNote;
        };
    };
    NotesOfChildComponent.ɵfac = function NotesOfChildComponent_Factory(t) { return new (t || NotesOfChildComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_children_children_service__WEBPACK_IMPORTED_MODULE_4__["ChildrenService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_6__["SessionService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_common__WEBPACK_IMPORTED_MODULE_3__["DatePipe"])); };
    NotesOfChildComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: NotesOfChildComponent, selectors: [["app-notes-of-child"]], inputs: { child: "child" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 5, consts: [[3, "records", "columns", "newRecordFactory", "detailsComponent", "entityId"]], template: function NotesOfChildComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-entity-subrecord", 0);
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("records", ctx.records)("columns", ctx.columns)("newRecordFactory", ctx.generateNewRecordFactory())("detailsComponent", ctx.detailsComponent)("entityId", ctx.child.getId());
        } }, directives: [_core_entity_subrecord_entity_subrecord_entity_subrecord_component__WEBPACK_IMPORTED_MODULE_11__["EntitySubrecordComponent"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NoaWxkLWRldi1wcm9qZWN0L25vdGVzL25vdGVzLW9mLWNoaWxkL25vdGVzLW9mLWNoaWxkLmNvbXBvbmVudC5zY3NzIn0= */"] });
    NotesOfChildComponent = __decorate([
        Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_9__["UntilDestroy"])(),
        __metadata("design:paramtypes", [_children_children_service__WEBPACK_IMPORTED_MODULE_4__["ChildrenService"],
            _core_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_6__["SessionService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_3__["DatePipe"]])
    ], NotesOfChildComponent);
    return NotesOfChildComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NotesOfChildComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-notes-of-child",
                templateUrl: "./notes-of-child.component.html",
                styleUrls: ["./notes-of-child.component.scss"],
            }]
    }], function () { return [{ type: _children_children_service__WEBPACK_IMPORTED_MODULE_4__["ChildrenService"] }, { type: _core_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_6__["SessionService"] }, { type: _angular_common__WEBPACK_IMPORTED_MODULE_3__["DatePipe"] }]; }, { child: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/notes/notes.module.ts":
/*!*********************************************************!*\
  !*** ./src/app/child-dev-project/notes/notes.module.ts ***!
  \*********************************************************/
/*! exports provided: NotesModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotesModule", function() { return NotesModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _note_details_note_details_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./note-details/note-details.component */ "./src/app/child-dev-project/notes/note-details/note-details.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/fesm5/dialog.js");
/* harmony import */ var _angular_material_select__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/select */ "./node_modules/@angular/material/fesm5/select.js");
/* harmony import */ var _notes_manager_notes_manager_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./notes-manager/notes-manager.component */ "./src/app/child-dev-project/notes/notes-manager/notes-manager.component.ts");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_material_expansion__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/expansion */ "./node_modules/@angular/material/fesm5/expansion.js");
/* harmony import */ var _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/button-toggle */ "./node_modules/@angular/material/fesm5/button-toggle.js");
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/table */ "./node_modules/@angular/material/fesm5/table.js");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/checkbox */ "./node_modules/@angular/material/fesm5/checkbox.js");
/* harmony import */ var _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/datepicker */ "./node_modules/@angular/material/fesm5/datepicker.js");
/* harmony import */ var _angular_material_sort__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/sort */ "./node_modules/@angular/material/fesm5/sort.js");
/* harmony import */ var _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/sidenav */ "./node_modules/@angular/material/fesm5/sidenav.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/material/card */ "./node_modules/@angular/material/fesm5/card.js");
/* harmony import */ var _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/material/snack-bar */ "./node_modules/@angular/material/fesm5/snack-bar.js");
/* harmony import */ var _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @angular/material/progress-bar */ "./node_modules/@angular/material/fesm5/progress-bar.js");
/* harmony import */ var _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @angular/material/autocomplete */ "./node_modules/@angular/material/fesm5/autocomplete.js");
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @angular/material/tooltip */ "./node_modules/@angular/material/fesm5/tooltip.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var ngx_filter_pipe__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ngx-filter-pipe */ "./node_modules/ngx-filter-pipe/esm5/ngx-filter-pipe.js");
/* harmony import */ var _schools_schools_module__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../schools/schools.module */ "./src/app/child-dev-project/schools/schools.module.ts");
/* harmony import */ var _angular_material_list__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @angular/material/list */ "./node_modules/@angular/material/fesm5/list.js");
/* harmony import */ var _children_children_module__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../children/children.module */ "./src/app/child-dev-project/children/children.module.ts");
/* harmony import */ var _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @angular/cdk/drag-drop */ "./node_modules/@angular/cdk/fesm5/drag-drop.js");
/* harmony import */ var _angular_material_tree__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @angular/material/tree */ "./node_modules/@angular/material/fesm5/tree.js");
/* harmony import */ var _note_details_child_meeting_attendance_child_meeting_note_attendance_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./note-details/child-meeting-attendance/child-meeting-note-attendance.component */ "./src/app/child-dev-project/notes/note-details/child-meeting-attendance/child-meeting-note-attendance.component.ts");
/* harmony import */ var _angular_material_tabs__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! @angular/material/tabs */ "./node_modules/@angular/material/fesm5/tabs.js");
/* harmony import */ var _angular_material_paginator__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! @angular/material/paginator */ "./node_modules/@angular/material/fesm5/paginator.js");
/* harmony import */ var _note_details_note_presence_list_note_presence_list_component__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./note-details/note-presence-list/note-presence-list.component */ "./src/app/child-dev-project/notes/note-details/note-presence-list/note-presence-list.component.ts");
/* harmony import */ var _core_entity_subrecord_entity_subrecord_module__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../core/entity-subrecord/entity-subrecord.module */ "./src/app/core/entity-subrecord/entity-subrecord.module.ts");
/* harmony import */ var _core_confirmation_dialog_confirmation_dialog_module__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../core/confirmation-dialog/confirmation-dialog.module */ "./src/app/core/confirmation-dialog/confirmation-dialog.module.ts");
/* harmony import */ var _core_form_dialog_form_dialog_module__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../core/form-dialog/form-dialog.module */ "./src/app/core/form-dialog/form-dialog.module.ts");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm2015/angulartics2.js");









































var NotesModule = /** @class */ (function () {
    function NotesModule() {
    }
    NotesModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: NotesModule });
    NotesModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function NotesModule_Factory(t) { return new (t || NotesModule)(); }, providers: [], imports: [[
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                _core_entity_subrecord_entity_subrecord_module__WEBPACK_IMPORTED_MODULE_36__["EntitySubrecordModule"],
                _core_confirmation_dialog_confirmation_dialog_module__WEBPACK_IMPORTED_MODULE_37__["ConfirmationDialogModule"],
                _angular_flex_layout__WEBPACK_IMPORTED_MODULE_11__["FlexLayoutModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_12__["RouterModule"],
                _angular_material_form_field__WEBPACK_IMPORTED_MODULE_13__["MatFormFieldModule"],
                _angular_material_input__WEBPACK_IMPORTED_MODULE_14__["MatInputModule"],
                _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_15__["MatCheckboxModule"],
                _angular_material_select__WEBPACK_IMPORTED_MODULE_5__["MatSelectModule"],
                _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_16__["MatDatepickerModule"],
                _angular_material_expansion__WEBPACK_IMPORTED_MODULE_8__["MatExpansionModule"],
                _angular_material_table__WEBPACK_IMPORTED_MODULE_10__["MatTableModule"],
                _angular_material_sort__WEBPACK_IMPORTED_MODULE_17__["MatSortModule"],
                _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_18__["MatSidenavModule"],
                _angular_material_button__WEBPACK_IMPORTED_MODULE_19__["MatButtonModule"],
                _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_9__["MatButtonToggleModule"],
                _angular_material_icon__WEBPACK_IMPORTED_MODULE_7__["MatIconModule"],
                _angular_material_card__WEBPACK_IMPORTED_MODULE_20__["MatCardModule"],
                _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_21__["MatSnackBarModule"],
                _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialogModule"],
                _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_22__["MatProgressBarModule"],
                _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_23__["MatAutocompleteModule"],
                _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_24__["MatTooltipModule"],
                _angular_material_tabs__WEBPACK_IMPORTED_MODULE_33__["MatTabsModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_25__["BrowserAnimationsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                ngx_filter_pipe__WEBPACK_IMPORTED_MODULE_26__["FilterPipeModule"],
                _schools_schools_module__WEBPACK_IMPORTED_MODULE_27__["SchoolsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialogModule"],
                _angular_material_list__WEBPACK_IMPORTED_MODULE_28__["MatListModule"],
                _children_children_module__WEBPACK_IMPORTED_MODULE_29__["ChildrenModule"],
                _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_30__["DragDropModule"],
                _angular_material_tree__WEBPACK_IMPORTED_MODULE_31__["MatTreeModule"],
                _angular_material_tabs__WEBPACK_IMPORTED_MODULE_33__["MatTabsModule"],
                _angular_material_paginator__WEBPACK_IMPORTED_MODULE_34__["MatPaginatorModule"],
                _core_form_dialog_form_dialog_module__WEBPACK_IMPORTED_MODULE_38__["FormDialogModule"],
                angulartics2__WEBPACK_IMPORTED_MODULE_39__["Angulartics2Module"],
            ]] });
    return NotesModule;
}());

(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](NotesModule, { declarations: [_note_details_note_details_component__WEBPACK_IMPORTED_MODULE_2__["NoteDetailsComponent"],
        _notes_manager_notes_manager_component__WEBPACK_IMPORTED_MODULE_6__["NotesManagerComponent"],
        _note_details_child_meeting_attendance_child_meeting_note_attendance_component__WEBPACK_IMPORTED_MODULE_32__["ChildMeetingNoteAttendanceComponent"],
        _note_details_note_presence_list_note_presence_list_component__WEBPACK_IMPORTED_MODULE_35__["NotePresenceListComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
        _core_entity_subrecord_entity_subrecord_module__WEBPACK_IMPORTED_MODULE_36__["EntitySubrecordModule"],
        _core_confirmation_dialog_confirmation_dialog_module__WEBPACK_IMPORTED_MODULE_37__["ConfirmationDialogModule"],
        _angular_flex_layout__WEBPACK_IMPORTED_MODULE_11__["FlexLayoutModule"],
        _angular_router__WEBPACK_IMPORTED_MODULE_12__["RouterModule"],
        _angular_material_form_field__WEBPACK_IMPORTED_MODULE_13__["MatFormFieldModule"],
        _angular_material_input__WEBPACK_IMPORTED_MODULE_14__["MatInputModule"],
        _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_15__["MatCheckboxModule"],
        _angular_material_select__WEBPACK_IMPORTED_MODULE_5__["MatSelectModule"],
        _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_16__["MatDatepickerModule"],
        _angular_material_expansion__WEBPACK_IMPORTED_MODULE_8__["MatExpansionModule"],
        _angular_material_table__WEBPACK_IMPORTED_MODULE_10__["MatTableModule"],
        _angular_material_sort__WEBPACK_IMPORTED_MODULE_17__["MatSortModule"],
        _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_18__["MatSidenavModule"],
        _angular_material_button__WEBPACK_IMPORTED_MODULE_19__["MatButtonModule"],
        _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_9__["MatButtonToggleModule"],
        _angular_material_icon__WEBPACK_IMPORTED_MODULE_7__["MatIconModule"],
        _angular_material_card__WEBPACK_IMPORTED_MODULE_20__["MatCardModule"],
        _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_21__["MatSnackBarModule"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialogModule"],
        _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_22__["MatProgressBarModule"],
        _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_23__["MatAutocompleteModule"],
        _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_24__["MatTooltipModule"],
        _angular_material_tabs__WEBPACK_IMPORTED_MODULE_33__["MatTabsModule"],
        _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_25__["BrowserAnimationsModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
        ngx_filter_pipe__WEBPACK_IMPORTED_MODULE_26__["FilterPipeModule"],
        _schools_schools_module__WEBPACK_IMPORTED_MODULE_27__["SchoolsModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialogModule"],
        _angular_material_list__WEBPACK_IMPORTED_MODULE_28__["MatListModule"],
        _children_children_module__WEBPACK_IMPORTED_MODULE_29__["ChildrenModule"],
        _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_30__["DragDropModule"],
        _angular_material_tree__WEBPACK_IMPORTED_MODULE_31__["MatTreeModule"],
        _angular_material_tabs__WEBPACK_IMPORTED_MODULE_33__["MatTabsModule"],
        _angular_material_paginator__WEBPACK_IMPORTED_MODULE_34__["MatPaginatorModule"],
        _core_form_dialog_form_dialog_module__WEBPACK_IMPORTED_MODULE_38__["FormDialogModule"],
        angulartics2__WEBPACK_IMPORTED_MODULE_39__["Angulartics2Module"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NotesModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                declarations: [
                    _note_details_note_details_component__WEBPACK_IMPORTED_MODULE_2__["NoteDetailsComponent"],
                    _notes_manager_notes_manager_component__WEBPACK_IMPORTED_MODULE_6__["NotesManagerComponent"],
                    _note_details_child_meeting_attendance_child_meeting_note_attendance_component__WEBPACK_IMPORTED_MODULE_32__["ChildMeetingNoteAttendanceComponent"],
                    _note_details_note_presence_list_note_presence_list_component__WEBPACK_IMPORTED_MODULE_35__["NotePresenceListComponent"],
                ],
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                    _core_entity_subrecord_entity_subrecord_module__WEBPACK_IMPORTED_MODULE_36__["EntitySubrecordModule"],
                    _core_confirmation_dialog_confirmation_dialog_module__WEBPACK_IMPORTED_MODULE_37__["ConfirmationDialogModule"],
                    _angular_flex_layout__WEBPACK_IMPORTED_MODULE_11__["FlexLayoutModule"],
                    _angular_router__WEBPACK_IMPORTED_MODULE_12__["RouterModule"],
                    _angular_material_form_field__WEBPACK_IMPORTED_MODULE_13__["MatFormFieldModule"],
                    _angular_material_input__WEBPACK_IMPORTED_MODULE_14__["MatInputModule"],
                    _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_15__["MatCheckboxModule"],
                    _angular_material_select__WEBPACK_IMPORTED_MODULE_5__["MatSelectModule"],
                    _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_16__["MatDatepickerModule"],
                    _angular_material_expansion__WEBPACK_IMPORTED_MODULE_8__["MatExpansionModule"],
                    _angular_material_table__WEBPACK_IMPORTED_MODULE_10__["MatTableModule"],
                    _angular_material_sort__WEBPACK_IMPORTED_MODULE_17__["MatSortModule"],
                    _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_18__["MatSidenavModule"],
                    _angular_material_button__WEBPACK_IMPORTED_MODULE_19__["MatButtonModule"],
                    _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_9__["MatButtonToggleModule"],
                    _angular_material_icon__WEBPACK_IMPORTED_MODULE_7__["MatIconModule"],
                    _angular_material_card__WEBPACK_IMPORTED_MODULE_20__["MatCardModule"],
                    _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_21__["MatSnackBarModule"],
                    _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialogModule"],
                    _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_22__["MatProgressBarModule"],
                    _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_23__["MatAutocompleteModule"],
                    _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_24__["MatTooltipModule"],
                    _angular_material_tabs__WEBPACK_IMPORTED_MODULE_33__["MatTabsModule"],
                    _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_25__["BrowserAnimationsModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                    ngx_filter_pipe__WEBPACK_IMPORTED_MODULE_26__["FilterPipeModule"],
                    _schools_schools_module__WEBPACK_IMPORTED_MODULE_27__["SchoolsModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                    _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialogModule"],
                    _angular_material_list__WEBPACK_IMPORTED_MODULE_28__["MatListModule"],
                    _children_children_module__WEBPACK_IMPORTED_MODULE_29__["ChildrenModule"],
                    _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_30__["DragDropModule"],
                    _angular_material_tree__WEBPACK_IMPORTED_MODULE_31__["MatTreeModule"],
                    _angular_material_tabs__WEBPACK_IMPORTED_MODULE_33__["MatTabsModule"],
                    _angular_material_paginator__WEBPACK_IMPORTED_MODULE_34__["MatPaginatorModule"],
                    _core_form_dialog_form_dialog_module__WEBPACK_IMPORTED_MODULE_38__["FormDialogModule"],
                    angulartics2__WEBPACK_IMPORTED_MODULE_39__["Angulartics2Module"],
                ],
                providers: [],
            }]
    }], null, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/previous-schools/previous-schools.component.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/child-dev-project/previous-schools/previous-schools.component.ts ***!
  \**********************************************************************************/
/*! exports provided: PreviousSchoolsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PreviousSchoolsComponent", function() { return PreviousSchoolsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _children_model_childSchoolRelation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../children/model/childSchoolRelation */ "./src/app/child-dev-project/children/model/childSchoolRelation.ts");
/* harmony import */ var _children_children_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../children/children.service */ "./src/app/child-dev-project/children/children.service.ts");
/* harmony import */ var _schools_schools_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../schools/schools.service */ "./src/app/child-dev-project/schools/schools.service.ts");
/* harmony import */ var uniqid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uniqid */ "./node_modules/uniqid/index.js");
/* harmony import */ var uniqid__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(uniqid__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/entity-subrecord/entity-subrecord/column-description */ "./src/app/core/entity-subrecord/entity-subrecord/column-description.ts");
/* harmony import */ var _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/entity-subrecord/entity-subrecord/column-description-input-type.enum */ "./src/app/core/entity-subrecord/entity-subrecord/column-description-input-type.enum.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/utils */ "./src/app/utils/utils.ts");
/* harmony import */ var _children_model_child__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../children/model/child */ "./src/app/child-dev-project/children/model/child.ts");
/* harmony import */ var _core_entity_subrecord_entity_subrecord_entity_subrecord_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/entity-subrecord/entity-subrecord/entity-subrecord.component */ "./src/app/core/entity-subrecord/entity-subrecord/entity-subrecord.component.ts");
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/tooltip */ "./node_modules/@angular/material/fesm5/tooltip.js");
/* harmony import */ var _schools_school_block_school_block_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../schools/school-block/school-block.component */ "./src/app/child-dev-project/schools/school-block/school-block.component.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};


















function PreviousSchoolsComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "em");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "app-school-block", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" Currently attending class ", ctx_r0.child.schoolClass, " at ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entityId", ctx_r0.child.schoolId);
} }
var PreviousSchoolsComponent = /** @class */ (function () {
    function PreviousSchoolsComponent(childrenService, schoolsService, datePipe) {
        this.childrenService = childrenService;
        this.schoolsService = schoolsService;
        this.datePipe = datePipe;
        this.changedRecordInEntitySubrecord = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.records = new Array();
        this.columns = new Array();
        this.formValidation = function (record) {
            var validationResult = {
                hasPassedValidation: false,
                validationMessage: "",
            };
            if (!record.schoolId) {
                validationResult.validationMessage =
                    '"Name" is empty. Please select a school.';
            }
            else if (moment__WEBPACK_IMPORTED_MODULE_8___default()(record.start).isAfter(record.end, "days")) {
                validationResult.validationMessage =
                    '"To"-date lies before "From"-date. Please enter correct dates.';
            }
            else if (record.result > 100) {
                validationResult.validationMessage = "Result cannot be greater than 100";
            }
            else if (record.result < 0) {
                validationResult.validationMessage = "Result cannot be smaller than 0";
            }
            else {
                validationResult.hasPassedValidation = true;
            }
            return validationResult;
        };
    }
    /**
     * returns a css-compatible color value from green to red using the given
     * input value
     * @param percent The percentage from 0-100 (both inclusive). 0 will be completely red, 100 will be completely green
     * Everything between will have suitable colors (orange, yellow,...)
     * If the color is NaN, the color will be a light grey
     */
    PreviousSchoolsComponent.fromPercent = function (percent) {
        if (Number.isNaN(percent)) {
            return "rgba(130,130,130,0.4)";
        }
        // the hsv color-value is to be between 0 (red) and 120 (green)
        // percent is between 0-100, so we have to normalize it first
        var color = (percent / 100) * 120;
        return "hsl(" + color + ", 100%, 85%)";
    };
    PreviousSchoolsComponent.prototype.ngOnInit = function () {
        this.initColumnDefinitions();
    };
    PreviousSchoolsComponent.prototype.ngOnChanges = function (changes) {
        if (changes.hasOwnProperty("child")) {
            this.loadData(this.child.getId());
        }
    };
    PreviousSchoolsComponent.prototype.loadData = function (id) {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (!this.child.getId() || this.child.getId() === "") {
                            return [2 /*return*/];
                        }
                        _a = this;
                        return [4 /*yield*/, this.childrenService.getSchoolsWithRelations(id)];
                    case 1:
                        _a.records = _b.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PreviousSchoolsComponent.prototype.initColumnDefinitions = function () {
        return __awaiter(this, void 0, void 0, function () {
            var schools, schoolMap;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.schoolsService.getSchools().toPromise()];
                    case 1:
                        schools = _a.sent();
                        schoolMap = {};
                        schools.forEach(function (s) { return (schoolMap[s.getId()] = s.name); });
                        this.columns = [
                            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_6__["ColumnDescription"]("schoolId", "School", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_7__["ColumnDescriptionInputType"].SELECT, schools.map(function (t) {
                                return { value: t.getId(), label: t.name };
                            }), function (schoolId) { return schoolMap[schoolId]; }),
                            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_6__["ColumnDescription"]("schoolClass", "Class", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_7__["ColumnDescriptionInputType"].TEXT),
                            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_6__["ColumnDescription"]("start", "From", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_7__["ColumnDescriptionInputType"].DATE, null, function (v) {
                                return Object(_utils_utils__WEBPACK_IMPORTED_MODULE_9__["isValidDate"])(v) ? _this.datePipe.transform(v, "yyyy-MM-dd") : "";
                            }),
                            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_6__["ColumnDescription"]("end", "To", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_7__["ColumnDescriptionInputType"].DATE, null, function (v) {
                                return Object(_utils_utils__WEBPACK_IMPORTED_MODULE_9__["isValidDate"])(v) ? _this.datePipe.transform(v, "yyyy-MM-dd") : "";
                            }),
                            new _core_entity_subrecord_entity_subrecord_column_description__WEBPACK_IMPORTED_MODULE_6__["ColumnDescription"]("result", "Result", _core_entity_subrecord_entity_subrecord_column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_7__["ColumnDescriptionInputType"].NUMBER, null, function (n) { return (n >= 0 && !Number.isNaN(n) ? n + "%" : "N/A"); }, null, this.resultColorStyleBuilder),
                        ];
                        return [2 /*return*/];
                }
            });
        });
    };
    PreviousSchoolsComponent.prototype.generateNewRecordFactory = function () {
        var _this = this;
        var childId = this.child.getId();
        return function () {
            var newPreviousSchool = new _children_model_childSchoolRelation__WEBPACK_IMPORTED_MODULE_2__["ChildSchoolRelation"](uniqid__WEBPACK_IMPORTED_MODULE_5__());
            newPreviousSchool.childId = childId;
            // last to-date (of first entry in records); if the first entry doesn't have any to-date, lastToDate is set to yesterday
            var lastToDate = _this.records.length && _this.records[0].end
                ? new Date(_this.records[0].end)
                : new Date(new Date().setDate(new Date().getDate() + -1));
            newPreviousSchool.start = new Date(lastToDate.setDate(lastToDate.getDate() + 1)); // one day after last to-date
            newPreviousSchool.end = null; // void date
            newPreviousSchool.result = Number.NaN; // NaN represents no data available
            return newPreviousSchool;
        };
    };
    PreviousSchoolsComponent.prototype.resultColorStyleBuilder = function (value) {
        return {
            "background-color": PreviousSchoolsComponent.fromPercent(value),
            "border-radius": "5%",
            padding: "5px",
            width: "min-content",
        };
    };
    PreviousSchoolsComponent.ɵfac = function PreviousSchoolsComponent_Factory(t) { return new (t || PreviousSchoolsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_children_children_service__WEBPACK_IMPORTED_MODULE_3__["ChildrenService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_schools_schools_service__WEBPACK_IMPORTED_MODULE_4__["SchoolsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_common__WEBPACK_IMPORTED_MODULE_1__["DatePipe"])); };
    PreviousSchoolsComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: PreviousSchoolsComponent, selectors: [["app-previous-schools"]], inputs: { child: "child" }, outputs: { changedRecordInEntitySubrecord: "changedRecordInEntitySubrecord" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 5, consts: [["matTooltip", "To edit the current school or class, please add to the school history below", 4, "ngIf"], [3, "records", "columns", "newRecordFactory", "formValidation", "changedRecordsInEntitySubrecordEvent"], ["matTooltip", "To edit the current school or class, please add to the school history below"], [3, "entityId"]], template: function PreviousSchoolsComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, PreviousSchoolsComponent_div_0_Template, 4, 2, "div", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "app-entity-subrecord", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("changedRecordsInEntitySubrecordEvent", function PreviousSchoolsComponent_Template_app_entity_subrecord_changedRecordsInEntitySubrecordEvent_1_listener() { return ctx.changedRecordInEntitySubrecord.emit(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.child.schoolId);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("records", ctx.records)("columns", ctx.columns)("newRecordFactory", ctx.generateNewRecordFactory())("formValidation", ctx.formValidation);
        } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgIf"], _core_entity_subrecord_entity_subrecord_entity_subrecord_component__WEBPACK_IMPORTED_MODULE_11__["EntitySubrecordComponent"], _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_12__["MatTooltip"], _schools_school_block_school_block_component__WEBPACK_IMPORTED_MODULE_13__["SchoolBlockComponent"]], encapsulation: 2 });
    return PreviousSchoolsComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PreviousSchoolsComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-previous-schools",
                templateUrl: "./previous-schools.component.html",
            }]
    }], function () { return [{ type: _children_children_service__WEBPACK_IMPORTED_MODULE_3__["ChildrenService"] }, { type: _schools_schools_service__WEBPACK_IMPORTED_MODULE_4__["SchoolsService"] }, { type: _angular_common__WEBPACK_IMPORTED_MODULE_1__["DatePipe"] }]; }, { child: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], changedRecordInEntitySubrecord: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/progress-dashboard-widget/demo-progress-dashboard-widget-generator.service.ts":
/*!*****************************************************************************************************************!*\
  !*** ./src/app/child-dev-project/progress-dashboard-widget/demo-progress-dashboard-widget-generator.service.ts ***!
  \*****************************************************************************************************************/
/*! exports provided: DemoProgressDashboardWidgetGeneratorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DemoProgressDashboardWidgetGeneratorService", function() { return DemoProgressDashboardWidgetGeneratorService; });
/* harmony import */ var _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/demo-data/faker */ "./src/app/core/demo-data/faker.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _core_demo_data_demo_data_generator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/demo-data/demo-data-generator */ "./src/app/core/demo-data/demo-data-generator.ts");
/* harmony import */ var _progress_dashboard_progress_dashboard_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./progress-dashboard/progress-dashboard-config */ "./src/app/child-dev-project/progress-dashboard-widget/progress-dashboard/progress-dashboard-config.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};





var DemoProgressDashboardWidgetGeneratorService = /** @class */ (function (_super) {
    __extends(DemoProgressDashboardWidgetGeneratorService, _super);
    function DemoProgressDashboardWidgetGeneratorService() {
        var _this = _super.call(this) || this;
        _this.DEMO_TASKS = [
            "Clubs visited",
            "Schools checked",
            "Government Officials met",
        ];
        return _this;
    }
    /**
     * This function returns a provider object to be used in an Angular Module configuration:
     *   `providers: [DemoProgressDashboardWidgetGeneratorService.provider()]`
     */
    DemoProgressDashboardWidgetGeneratorService.provider = function () {
        return [
            {
                provide: DemoProgressDashboardWidgetGeneratorService,
                useClass: DemoProgressDashboardWidgetGeneratorService,
            },
        ];
    };
    DemoProgressDashboardWidgetGeneratorService.prototype.generateEntities = function () {
        var data = [];
        data.push(this.generateDashboardWidgetSurveyStatus());
        return data;
    };
    DemoProgressDashboardWidgetGeneratorService.prototype.generateDashboardWidgetSurveyStatus = function () {
        var e_1, _a;
        var dashboardProgressWidget = new _progress_dashboard_progress_dashboard_config__WEBPACK_IMPORTED_MODULE_3__["ProgressDashboardConfig"]("1");
        dashboardProgressWidget.title = "Annual Survey";
        try {
            for (var _b = __values(this.DEMO_TASKS), _c = _b.next(); !_c.done; _c = _b.next()) {
                var task = _c.value;
                var targetNumber = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_0__["faker"].random.number({ min: 5, max: 50 });
                dashboardProgressWidget.parts.push({
                    label: task,
                    currentValue: _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_0__["faker"].random.number(targetNumber),
                    targetValue: targetNumber,
                });
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
        return dashboardProgressWidget;
    };
    DemoProgressDashboardWidgetGeneratorService.ɵfac = function DemoProgressDashboardWidgetGeneratorService_Factory(t) { return new (t || DemoProgressDashboardWidgetGeneratorService)(); };
    DemoProgressDashboardWidgetGeneratorService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: DemoProgressDashboardWidgetGeneratorService, factory: DemoProgressDashboardWidgetGeneratorService.ɵfac });
    return DemoProgressDashboardWidgetGeneratorService;
}(_core_demo_data_demo_data_generator__WEBPACK_IMPORTED_MODULE_2__["DemoDataGenerator"]));

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](DemoProgressDashboardWidgetGeneratorService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/progress-dashboard-widget/progress-dashboard-widget.module.ts":
/*!*************************************************************************************************!*\
  !*** ./src/app/child-dev-project/progress-dashboard-widget/progress-dashboard-widget.module.ts ***!
  \*************************************************************************************************/
/*! exports provided: ProgressDashboardWidgetModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProgressDashboardWidgetModule", function() { return ProgressDashboardWidgetModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/card */ "./node_modules/@angular/material/fesm5/card.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/progress-bar */ "./node_modules/@angular/material/fesm5/progress-bar.js");
/* harmony import */ var _children_children_module__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../children/children.module */ "./src/app/child-dev-project/children/children.module.ts");
/* harmony import */ var _progress_dashboard_progress_dashboard_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./progress-dashboard/progress-dashboard.component */ "./src/app/child-dev-project/progress-dashboard-widget/progress-dashboard/progress-dashboard.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */













var ProgressDashboardWidgetModule = /** @class */ (function () {
    function ProgressDashboardWidgetModule() {
    }
    ProgressDashboardWidgetModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: ProgressDashboardWidgetModule });
    ProgressDashboardWidgetModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function ProgressDashboardWidgetModule_Factory(t) { return new (t || ProgressDashboardWidgetModule)(); }, imports: [[
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_11__["FormsModule"],
                _angular_flex_layout__WEBPACK_IMPORTED_MODULE_2__["FlexLayoutModule"],
                _angular_material_card__WEBPACK_IMPORTED_MODULE_4__["MatCardModule"],
                _angular_material_icon__WEBPACK_IMPORTED_MODULE_6__["MatIconModule"],
                _angular_material_button__WEBPACK_IMPORTED_MODULE_3__["MatButtonModule"],
                _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_8__["MatProgressBarModule"],
                _angular_material_input__WEBPACK_IMPORTED_MODULE_7__["MatInputModule"],
                _angular_material_form_field__WEBPACK_IMPORTED_MODULE_5__["MatFormFieldModule"],
                _children_children_module__WEBPACK_IMPORTED_MODULE_9__["ChildrenModule"],
            ]] });
    return ProgressDashboardWidgetModule;
}());

(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](ProgressDashboardWidgetModule, { declarations: [_progress_dashboard_progress_dashboard_component__WEBPACK_IMPORTED_MODULE_10__["ProgressDashboardComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_11__["FormsModule"],
        _angular_flex_layout__WEBPACK_IMPORTED_MODULE_2__["FlexLayoutModule"],
        _angular_material_card__WEBPACK_IMPORTED_MODULE_4__["MatCardModule"],
        _angular_material_icon__WEBPACK_IMPORTED_MODULE_6__["MatIconModule"],
        _angular_material_button__WEBPACK_IMPORTED_MODULE_3__["MatButtonModule"],
        _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_8__["MatProgressBarModule"],
        _angular_material_input__WEBPACK_IMPORTED_MODULE_7__["MatInputModule"],
        _angular_material_form_field__WEBPACK_IMPORTED_MODULE_5__["MatFormFieldModule"],
        _children_children_module__WEBPACK_IMPORTED_MODULE_9__["ChildrenModule"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ProgressDashboardWidgetModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_11__["FormsModule"],
                    _angular_flex_layout__WEBPACK_IMPORTED_MODULE_2__["FlexLayoutModule"],
                    _angular_material_card__WEBPACK_IMPORTED_MODULE_4__["MatCardModule"],
                    _angular_material_icon__WEBPACK_IMPORTED_MODULE_6__["MatIconModule"],
                    _angular_material_button__WEBPACK_IMPORTED_MODULE_3__["MatButtonModule"],
                    _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_8__["MatProgressBarModule"],
                    _angular_material_input__WEBPACK_IMPORTED_MODULE_7__["MatInputModule"],
                    _angular_material_form_field__WEBPACK_IMPORTED_MODULE_5__["MatFormFieldModule"],
                    _children_children_module__WEBPACK_IMPORTED_MODULE_9__["ChildrenModule"],
                ],
                declarations: [_progress_dashboard_progress_dashboard_component__WEBPACK_IMPORTED_MODULE_10__["ProgressDashboardComponent"]],
            }]
    }], null, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/progress-dashboard-widget/progress-dashboard/progress-dashboard-config.ts":
/*!*************************************************************************************************************!*\
  !*** ./src/app/child-dev-project/progress-dashboard-widget/progress-dashboard/progress-dashboard-config.ts ***!
  \*************************************************************************************************************/
/*! exports provided: ProgressDashboardConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProgressDashboardConfig", function() { return ProgressDashboardConfig; });
/* harmony import */ var _core_entity_entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/entity/entity */ "./src/app/core/entity/entity.ts");
/* harmony import */ var _core_entity_database_entity_decorator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/entity/database-entity.decorator */ "./src/app/core/entity/database-entity.decorator.ts");
/* harmony import */ var _core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/entity/database-field.decorator */ "./src/app/core/entity/database-field.decorator.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var ProgressDashboardConfig = /** @class */ (function (_super) {
    __extends(ProgressDashboardConfig, _super);
    function ProgressDashboardConfig() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.title = "Progress Widget";
        _this.parts = [];
        return _this;
    }
    ProgressDashboardConfig.prototype.getTotalPercentage = function () {
        var currentTotal = this.parts.reduce(function (acc, entry) { return acc + entry.currentValue; }, 0);
        var targetTotal = this.parts.reduce(function (acc, entry) { return acc + entry.targetValue; }, 0);
        return currentTotal / targetTotal;
    };
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", String)
    ], ProgressDashboardConfig.prototype, "title", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", Array)
    ], ProgressDashboardConfig.prototype, "parts", void 0);
    ProgressDashboardConfig = __decorate([
        Object(_core_entity_database_entity_decorator__WEBPACK_IMPORTED_MODULE_1__["DatabaseEntity"])("ProgressDashboardConfig")
    ], ProgressDashboardConfig);
    return ProgressDashboardConfig;
}(_core_entity_entity__WEBPACK_IMPORTED_MODULE_0__["Entity"]));



/***/ }),

/***/ "./src/app/child-dev-project/progress-dashboard-widget/progress-dashboard/progress-dashboard.component.ts":
/*!****************************************************************************************************************!*\
  !*** ./src/app/child-dev-project/progress-dashboard-widget/progress-dashboard/progress-dashboard.component.ts ***!
  \****************************************************************************************************************/
/*! exports provided: ProgressDashboardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProgressDashboardComponent", function() { return ProgressDashboardComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _progress_dashboard_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./progress-dashboard-config */ "./src/app/child-dev-project/progress-dashboard-widget/progress-dashboard/progress-dashboard-config.ts");
/* harmony import */ var _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/entity/entity-mapper.service */ "./src/app/core/entity/entity-mapper.service.ts");
/* harmony import */ var _core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/alerts/alert.service */ "./src/app/core/alerts/alert.service.ts");
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/card */ "./node_modules/@angular/material/fesm5/card.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/flex-layout/extended */ "./node_modules/@angular/flex-layout/esm5/extended.es5.js");
/* harmony import */ var _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/progress-bar */ "./node_modules/@angular/material/fesm5/progress-bar.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};















function ProgressDashboardComponent_tr_13_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "tr", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "td", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "td", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "mat-progress-bar", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "td", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](7, "percent");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "td", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var entry_r6 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](entry_r6.label);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", entry_r6.currentValue / entry_r6.targetValue * 100);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](7, 5, entry_r6.currentValue / entry_r6.targetValue, "1.0-0"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"]("", entry_r6.currentValue, " / ", entry_r6.targetValue, "");
} }
function ProgressDashboardComponent_button_16_Template(rf, ctx) { if (rf & 1) {
    var _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ProgressDashboardComponent_button_16_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r8); var ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r7.addPart(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-icon", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ProgressDashboardComponent_button_17_Template(rf, ctx) { if (rf & 1) {
    var _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ProgressDashboardComponent_button_17_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r10); var ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r9.save(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-icon", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ProgressDashboardComponent_button_18_Template(rf, ctx) { if (rf & 1) {
    var _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ProgressDashboardComponent_button_18_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r12); var ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r11.configure = true; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-icon", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ProgressDashboardComponent_div_19_Template(rf, ctx) { if (rf & 1) {
    var _r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-form-field", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "input", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("input", function ProgressDashboardComponent_div_19_Template_input_input_2_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r14); var ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r13.data.title = $event.target.value; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", ctx_r4.data.title);
} }
function ProgressDashboardComponent_table_20_tr_1_Template(rf, ctx) { if (rf & 1) {
    var _r19 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "tr", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "td", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "mat-form-field", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "input", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("input", function ProgressDashboardComponent_table_20_tr_1_Template_input_input_3_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r19); var entry_r16 = ctx.$implicit; return entry_r16.label = $event.target.value; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "td", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "mat-form-field", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "input", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function ProgressDashboardComponent_table_20_tr_1_Template_input_change_6_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r19); var entry_r16 = ctx.$implicit; return entry_r16.currentValue = $event.target.valueAsNumber; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "mat-form-field", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "input", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function ProgressDashboardComponent_table_20_tr_1_Template_input_change_8_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r19); var entry_r16 = ctx.$implicit; return entry_r16.targetValue = $event.target.valueAsNumber; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "button", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ProgressDashboardComponent_table_20_tr_1_Template_button_click_10_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r19); var i_r17 = ctx.index; var ctx_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r22.data.parts.splice(i_r17, 1); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](11, "mat-icon", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var entry_r16 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", entry_r16.label);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", entry_r16.currentValue);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", entry_r16.targetValue);
} }
function ProgressDashboardComponent_table_20_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "table", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, ProgressDashboardComponent_table_20_tr_1_Template, 12, 3, "tr", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r5.data.parts);
} }
var _c0 = function (a0) { return { "dashboard-config": a0 }; };
var ProgressDashboardComponent = /** @class */ (function () {
    function ProgressDashboardComponent(entityMapper, alertService) {
        this.entityMapper = entityMapper;
        this.alertService = alertService;
        this.dashboardConfigId = "";
        this.configure = false;
    }
    ProgressDashboardComponent.prototype.onInitFromDynamicConfig = function (config) {
        this.dashboardConfigId = config.dashboardConfigId;
    };
    ProgressDashboardComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.data = new _progress_dashboard_config__WEBPACK_IMPORTED_MODULE_1__["ProgressDashboardConfig"](this.dashboardConfigId);
        this.entityMapper
            .load(_progress_dashboard_config__WEBPACK_IMPORTED_MODULE_1__["ProgressDashboardConfig"], this.dashboardConfigId)
            .then(function (config) {
            _this.data = config;
        })
            .catch(function (e) {
            if (e.status === 404) {
                _this.alertService.addDebug("ProgressDashboardConfig (" + _this.dashboardConfigId + ") not found. Creating ...");
                _this.createDefaultConfig();
            }
            else {
                _this.alertService.addWarning("Error loading ProgressDashboardConfig (" + _this.dashboardConfigId + "): " + e.message);
            }
        });
    };
    ProgressDashboardComponent.prototype.createDefaultConfig = function () {
        this.data.title = "Progress of X";
        this.addPart();
        this.addPart();
        this.save();
    };
    ProgressDashboardComponent.prototype.addPart = function () {
        var newPart = {
            label: "Part",
            currentValue: 1,
            targetValue: 10,
        };
        this.data.parts.push(newPart);
    };
    ProgressDashboardComponent.prototype.save = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.entityMapper.save(this.data)];
                    case 1:
                        _a.sent();
                        this.configure = false;
                        return [2 /*return*/];
                }
            });
        });
    };
    ProgressDashboardComponent.ɵfac = function ProgressDashboardComponent_Factory(t) { return new (t || ProgressDashboardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__["EntityMapperService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"])); };
    ProgressDashboardComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ProgressDashboardComponent, selectors: [["app-progress-dashboard"]], inputs: { dashboardConfigId: "dashboardConfigId" }, decls: 21, vars: 14, consts: [[1, "dashboard-widget"], [1, "app-child"], ["mat-card-avatar", ""], ["fontIcon", "fa-list"], [1, "dashboard-desc"], [1, "dashboard-table"], ["class", "dashboard-table-row", 4, "ngFor", "ngForOf"], [3, "ngClass"], [2, "text-align", "right"], ["mat-icon-button", "", 3, "click", 4, "ngIf"], ["class", "dashboard-table-cell", "style", "border-bottom: 1px solid black", 4, "ngIf"], ["class", "dashboard-table", 4, "ngIf"], [1, "dashboard-table-row"], [1, "dashboard-table-cell"], [1, "dashboard-table-cell", "filler"], ["mode", "determinate", 3, "value"], [1, "dashboard-table-cell", 2, "white-space", "nowrap"], ["mat-icon-button", "", 3, "click"], ["aria-label", "add part", "fontIcon", "fa-plus"], ["aria-label", "save", "fontIcon", "fa-check"], ["aria-label", "configure", "fontIcon", "fa-wrench"], [1, "dashboard-table-cell", 2, "border-bottom", "1px solid black"], [2, "margin-bottom", "-10px"], ["matInput", "", "type", "text", "placeholder", "Title", 3, "value", "input"], [1, "dashboard-table-cell", 2, "width", "calc(100% - 20px)", "display", "inline-block"], [1, "filler"], ["matInput", "", "type", "text", "placeholder", "Label", 3, "value", "input"], [1, "dashboard-table-cell", 2, "display", "inline-block", "margin-top", "-20px", "margin-bottom", "-10px"], [1, "small"], ["matInput", "", "type", "number", "placeholder", "Current", 3, "value", "change"], [1, "small", 2, "margin", "0 10px"], ["matInput", "", "type", "number", "placeholder", "Target", 3, "value", "change"], ["aria-label", "remove", "fontIcon", "fa-trash"]], template: function ProgressDashboardComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-card", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-card-header", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "mat-icon", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "mat-card-title");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "percent");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "mat-card-subtitle");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "mat-card-content");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "p", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11, " Status of current processes: ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "table", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](13, ProgressDashboardComponent_tr_13_Template, 10, 8, "tr", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "div", 7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "div", 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](16, ProgressDashboardComponent_button_16_Template, 2, 0, "button", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](17, ProgressDashboardComponent_button_17_Template, 2, 0, "button", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](18, ProgressDashboardComponent_button_18_Template, 2, 0, "button", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](19, ProgressDashboardComponent_div_19_Template, 3, 1, "div", 10);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](20, ProgressDashboardComponent_table_20_Template, 2, 1, "table", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](6, 9, ctx.data.getTotalPercentage(), "1.0-0"));
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.data.title);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.data == null ? null : ctx.data.parts);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](12, _c0, ctx.configure));
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.configure);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.configure);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.configure);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.configure);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.configure);
        } }, directives: [_angular_material_card__WEBPACK_IMPORTED_MODULE_4__["MatCard"], _angular_material_card__WEBPACK_IMPORTED_MODULE_4__["MatCardHeader"], _angular_material_card__WEBPACK_IMPORTED_MODULE_4__["MatCardAvatar"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_5__["MatIcon"], _angular_material_card__WEBPACK_IMPORTED_MODULE_4__["MatCardTitle"], _angular_material_card__WEBPACK_IMPORTED_MODULE_4__["MatCardSubtitle"], _angular_material_card__WEBPACK_IMPORTED_MODULE_4__["MatCardContent"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgClass"], _angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_7__["DefaultClassDirective"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgIf"], _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_8__["MatProgressBar"], _angular_material_button__WEBPACK_IMPORTED_MODULE_9__["MatButton"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_10__["MatFormField"], _angular_material_input__WEBPACK_IMPORTED_MODULE_11__["MatInput"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_6__["PercentPipe"]], styles: [".dashboard-table-row[_ngcontent-%COMP%] {\n  border-top: 1px solid black;\n}\n\n.dashboard-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child {\n  border-top: none;\n}\n\n.dashboard-table[_ngcontent-%COMP%] {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.filler[_ngcontent-%COMP%] {\n  width: 100%;\n}\n\n.dashboard-config[_ngcontent-%COMP%] {\n  background-color: lightgray;\n}\n\n.dashboard-widget[_ngcontent-%COMP%]   .part-bar[_ngcontent-%COMP%] {\n  padding-left: 10px;\n  padding-right: 10px;\n}\n\n.dashboard-widget[_ngcontent-%COMP%]   mat-form-field.small[_ngcontent-%COMP%] {\n  width: 40px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3QvcHJvZ3Jlc3MtZGFzaGJvYXJkLXdpZGdldC9wcm9ncmVzcy1kYXNoYm9hcmQvcHJvZ3Jlc3MtZGFzaGJvYXJkLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jaGlsZC1kZXYtcHJvamVjdC9wcm9ncmVzcy1kYXNoYm9hcmQtd2lkZ2V0L3Byb2dyZXNzLWRhc2hib2FyZC9wcm9ncmVzcy1kYXNoYm9hcmQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSwyQkFBQTtBQ0NGOztBRENBO0VBQ0UsZ0JBQUE7QUNFRjs7QURDQTtFQUNFLFdBQUE7RUFDQSx5QkFBQTtBQ0VGOztBREFBO0VBQ0UsV0FBQTtBQ0dGOztBREFBO0VBQ0UsMkJBQUE7QUNHRjs7QURBQTtFQUNFLGtCQUFBO0VBQ0EsbUJBQUE7QUNHRjs7QURBQTtFQUNFLFdBQUE7QUNHRiIsImZpbGUiOiJzcmMvYXBwL2NoaWxkLWRldi1wcm9qZWN0L3Byb2dyZXNzLWRhc2hib2FyZC13aWRnZXQvcHJvZ3Jlc3MtZGFzaGJvYXJkL3Byb2dyZXNzLWRhc2hib2FyZC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kYXNoYm9hcmQtdGFibGUtcm93IHtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIGJsYWNrO1xufVxuLmRhc2hib2FyZC10YWJsZSB0cjpmaXJzdC1jaGlsZCB7XG4gIGJvcmRlci10b3A6IG5vbmU7XG59XG5cbi5kYXNoYm9hcmQtdGFibGUge1xuICB3aWR0aDogMTAwJTtcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbn1cbi5maWxsZXIge1xuICB3aWR0aDogMTAwJTtcbn1cblxuLmRhc2hib2FyZC1jb25maWcge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGdyYXk7XG59XG5cbi5kYXNoYm9hcmQtd2lkZ2V0IC5wYXJ0LWJhciB7XG4gIHBhZGRpbmctbGVmdDogMTBweDtcbiAgcGFkZGluZy1yaWdodDogMTBweDtcbn1cblxuLmRhc2hib2FyZC13aWRnZXQgbWF0LWZvcm0tZmllbGQuc21hbGwge1xuICB3aWR0aDogNDBweDtcbn1cbiIsIi5kYXNoYm9hcmQtdGFibGUtcm93IHtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIGJsYWNrO1xufVxuXG4uZGFzaGJvYXJkLXRhYmxlIHRyOmZpcnN0LWNoaWxkIHtcbiAgYm9yZGVyLXRvcDogbm9uZTtcbn1cblxuLmRhc2hib2FyZC10YWJsZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xufVxuXG4uZmlsbGVyIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5kYXNoYm9hcmQtY29uZmlnIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmF5O1xufVxuXG4uZGFzaGJvYXJkLXdpZGdldCAucGFydC1iYXIge1xuICBwYWRkaW5nLWxlZnQ6IDEwcHg7XG4gIHBhZGRpbmctcmlnaHQ6IDEwcHg7XG59XG5cbi5kYXNoYm9hcmQtd2lkZ2V0IG1hdC1mb3JtLWZpZWxkLnNtYWxsIHtcbiAgd2lkdGg6IDQwcHg7XG59Il19 */"] });
    return ProgressDashboardComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ProgressDashboardComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-progress-dashboard",
                templateUrl: "./progress-dashboard.component.html",
                styleUrls: ["./progress-dashboard.component.scss"],
            }]
    }], function () { return [{ type: _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__["EntityMapperService"] }, { type: _core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"] }]; }, { dashboardConfigId: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/schools/demo-school-generator.service.ts":
/*!****************************************************************************!*\
  !*** ./src/app/child-dev-project/schools/demo-school-generator.service.ts ***!
  \****************************************************************************/
/*! exports provided: DemoSchoolConfig, DemoSchoolGenerator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DemoSchoolConfig", function() { return DemoSchoolConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DemoSchoolGenerator", function() { return DemoSchoolGenerator; });
/* harmony import */ var _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/demo-data/faker */ "./src/app/core/demo-data/faker.ts");
/* harmony import */ var _model_school__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./model/school */ "./src/app/child-dev-project/schools/model/school.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _core_demo_data_demo_data_generator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/demo-data/demo-data-generator */ "./src/app/core/demo-data/demo-data-generator.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var DemoSchoolConfig = /** @class */ (function () {
    function DemoSchoolConfig() {
    }
    return DemoSchoolConfig;
}());

var DemoSchoolGenerator = /** @class */ (function (_super) {
    __extends(DemoSchoolGenerator, _super);
    function DemoSchoolGenerator(config) {
        var _this = _super.call(this) || this;
        _this.config = config;
        return _this;
    }
    /**
     * This function returns a provider object to be used in an Angular Module configuration:
     *   `providers: [DemoSchoolGenerator.provider({count: 10})]`
     * @param config A config object specifying the number of entities the service should generate.
     */
    DemoSchoolGenerator.provider = function (config) {
        return [
            { provide: DemoSchoolGenerator, useClass: DemoSchoolGenerator },
            { provide: DemoSchoolConfig, useValue: config },
        ];
    };
    DemoSchoolGenerator.prototype.generateEntities = function () {
        var data = [];
        for (var i = 1; i <= this.config.count; i++) {
            var school = new _model_school__WEBPACK_IMPORTED_MODULE_1__["School"](String(i));
            school.medium = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_0__["faker"].random.arrayElement([
                "Hindi",
                "English",
                "Bengali",
            ]);
            school.name =
                _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_0__["faker"].name.firstName() +
                    " " +
                    _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_0__["faker"].random.arrayElement([
                        "School",
                        "High School",
                        school.medium + " Medium",
                    ]);
            school.address = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_0__["faker"].address.streetAddress();
            school.phone = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_0__["faker"].phone.phoneNumberFormat();
            school.privateSchool = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_0__["faker"].random.boolean();
            school.upToClass = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_0__["faker"].random.arrayElement([8, 10, 12]);
            school.academicBoard = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_0__["faker"].random.arrayElement([
                "CBSE",
                "ICSE",
                "WBBSE",
            ]);
            school.timing = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_0__["faker"].random.arrayElement([
                "6 a.m. - 11 a.m.",
                "11 a.m. - 4 p.m.",
                "6:30-11:00 and 11:30-16:00",
            ]);
            school.workingDays = _core_demo_data_faker__WEBPACK_IMPORTED_MODULE_0__["faker"].random.arrayElement([
                "Mon - Fri",
                "Mon - Fri",
                "Mon - Sat",
            ]);
            data.push(school);
        }
        return data;
    };
    DemoSchoolGenerator.ɵfac = function DemoSchoolGenerator_Factory(t) { return new (t || DemoSchoolGenerator)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](DemoSchoolConfig)); };
    DemoSchoolGenerator.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: DemoSchoolGenerator, factory: DemoSchoolGenerator.ɵfac });
    return DemoSchoolGenerator;
}(_core_demo_data_demo_data_generator__WEBPACK_IMPORTED_MODULE_3__["DemoDataGenerator"]));

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵsetClassMetadata"](DemoSchoolGenerator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"]
    }], function () { return [{ type: DemoSchoolConfig }]; }, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/schools/model/school.ts":
/*!***********************************************************!*\
  !*** ./src/app/child-dev-project/schools/model/school.ts ***!
  \***********************************************************/
/*! exports provided: School */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "School", function() { return School; });
/* harmony import */ var _core_entity_entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/entity/entity */ "./src/app/core/entity/entity.ts");
/* harmony import */ var _core_entity_database_entity_decorator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/entity/database-entity.decorator */ "./src/app/core/entity/database-entity.decorator.ts");
/* harmony import */ var _core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/entity/database-field.decorator */ "./src/app/core/entity/database-field.decorator.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var School = /** @class */ (function (_super) {
    __extends(School, _super);
    function School() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.name = "";
        _this.address = "";
        _this.medium = "";
        _this.remarks = "";
        _this.website = "";
        _this.phone = "";
        _this.academicBoard = "";
        _this.timing = "";
        _this.workingDays = "";
        return _this;
    }
    School.prototype.toString = function () {
        return this.name;
    };
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", String)
    ], School.prototype, "name", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", String)
    ], School.prototype, "address", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", String)
    ], School.prototype, "medium", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", String)
    ], School.prototype, "remarks", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", String)
    ], School.prototype, "website", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", Boolean)
    ], School.prototype, "privateSchool", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", String)
    ], School.prototype, "phone", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", Number)
    ], School.prototype, "upToClass", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", String)
    ], School.prototype, "academicBoard", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", String)
    ], School.prototype, "timing", void 0);
    __decorate([
        Object(_core_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", String)
    ], School.prototype, "workingDays", void 0);
    School = __decorate([
        Object(_core_entity_database_entity_decorator__WEBPACK_IMPORTED_MODULE_1__["DatabaseEntity"])("School")
    ], School);
    return School;
}(_core_entity_entity__WEBPACK_IMPORTED_MODULE_0__["Entity"]));



/***/ }),

/***/ "./src/app/child-dev-project/schools/school-block/school-block.component.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/child-dev-project/schools/school-block/school-block.component.ts ***!
  \**********************************************************************************/
/*! exports provided: SchoolBlockComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SchoolBlockComponent", function() { return SchoolBlockComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/entity/entity-mapper.service */ "./src/app/core/entity/entity-mapper.service.ts");
/* harmony import */ var _model_school__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../model/school */ "./src/app/child-dev-project/schools/model/school.ts");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};









function SchoolBlockComponent_div_5_Template(rf, ctx) { if (rf & 1) {
    var _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("mouseenter", function SchoolBlockComponent_div_5_Template_div_mouseenter_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r2); var ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r1.showTooltip(); })("mouseleave", function SchoolBlockComponent_div_5_Template_div_mouseleave_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r2); var ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r3.hideTooltip(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r0.entity == null ? null : ctx_r0.entity.medium);
} }
var SchoolBlockComponent = /** @class */ (function () {
    function SchoolBlockComponent(router, entityMapper) {
        this.router = router;
        this.entityMapper = entityMapper;
        this.entity = new _model_school__WEBPACK_IMPORTED_MODULE_3__["School"]("");
        this.tooltip = false;
    }
    SchoolBlockComponent.prototype.ngOnChanges = function (changes) {
        if (changes.hasOwnProperty("entityId")) {
            this.initFromEntityId();
        }
    };
    SchoolBlockComponent.prototype.initFromEntityId = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (!this.entityId) {
                            return [2 /*return*/];
                        }
                        _a = this;
                        return [4 /*yield*/, this.entityMapper.load(_model_school__WEBPACK_IMPORTED_MODULE_3__["School"], this.entityId)];
                    case 1:
                        _a.entity = _b.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    SchoolBlockComponent.prototype.showTooltip = function () {
        this.tooltip = true;
        if (this.tooltipTimeout) {
            clearTimeout(this.tooltipTimeout);
        }
    };
    SchoolBlockComponent.prototype.hideTooltip = function () {
        var _this = this;
        this.tooltipTimeout = setTimeout(function () { return (_this.tooltip = false); }, 250);
    };
    SchoolBlockComponent.prototype.onClick = function () {
        this.showDetailsPage();
    };
    SchoolBlockComponent.prototype.showDetailsPage = function () {
        if (!this.linkDisabled) {
            this.router.navigate(["/school", this.entity.getId()]);
        }
    };
    SchoolBlockComponent.ɵfac = function SchoolBlockComponent_Factory(t) { return new (t || SchoolBlockComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__["EntityMapperService"])); };
    SchoolBlockComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: SchoolBlockComponent, selectors: [["app-school-block"]], hostBindings: function SchoolBlockComponent_HostBindings(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SchoolBlockComponent_click_HostBindingHandler() { return ctx.onClick(); });
        } }, inputs: { entity: "entity", entityId: "entityId", linkDisabled: "linkDisabled" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 6, vars: 3, consts: [[3, "mouseenter", "mouseleave"], ["fontIcon", "fa-university", 1, "school-pic"], [2, "font-size", "x-small"], ["style", "position:absolute;", 4, "ngIf"], [2, "position", "absolute"], [1, "mat-elevation-z5", "school-tooltip", 3, "mouseenter", "mouseleave"]], template: function SchoolBlockComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("mouseenter", function SchoolBlockComponent_Template_span_mouseenter_0_listener() { return ctx.showTooltip(); })("mouseleave", function SchoolBlockComponent_Template_span_mouseleave_0_listener() { return ctx.hideTooltip(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-icon", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "span", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, SchoolBlockComponent_div_5_Template, 4, 1, "div", 3);
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx.entity == null ? null : ctx.entity.name, " ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("(", ctx.entity == null ? null : ctx.entity.getId(), ")");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.tooltip);
        } }, directives: [_angular_material_icon__WEBPACK_IMPORTED_MODULE_4__["MatIcon"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"]], styles: [".school-tooltip[_ngcontent-%COMP%] {\n  position: relative;\n  top: -5px;\n  left: 5px;\n  padding: 8px;\n  background-color: white;\n}\n\n.school-pic[_ngcontent-%COMP%] {\n  margin-right: 4px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3Qvc2Nob29scy9zY2hvb2wtYmxvY2svc2Nob29sLWJsb2NrLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jaGlsZC1kZXYtcHJvamVjdC9zY2hvb2xzL3NjaG9vbC1ibG9jay9zY2hvb2wtYmxvY2suY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxTQUFBO0VBRUEsWUFBQTtFQUNBLHVCQUFBO0FDQUY7O0FESUE7RUFDRSxpQkFBQTtBQ0RGIiwiZmlsZSI6InNyYy9hcHAvY2hpbGQtZGV2LXByb2plY3Qvc2Nob29scy9zY2hvb2wtYmxvY2svc2Nob29sLWJsb2NrLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNjaG9vbC10b29sdGlwIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0b3A6IC01cHg7XG4gIGxlZnQ6IDVweDtcblxuICBwYWRkaW5nOiA4cHg7XG4gIGJhY2tncm91bmQtY29sb3I6d2hpdGU7XG5cbn1cblxuLnNjaG9vbC1waWMge1xuICBtYXJnaW4tcmlnaHQ6IDRweDtcbn1cbiIsIi5zY2hvb2wtdG9vbHRpcCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdG9wOiAtNXB4O1xuICBsZWZ0OiA1cHg7XG4gIHBhZGRpbmc6IDhweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG59XG5cbi5zY2hvb2wtcGljIHtcbiAgbWFyZ2luLXJpZ2h0OiA0cHg7XG59Il19 */"] });
    return SchoolBlockComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SchoolBlockComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-school-block",
                templateUrl: "./school-block.component.html",
                styleUrls: ["./school-block.component.scss"],
            }]
    }], function () { return [{ type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] }, { type: _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__["EntityMapperService"] }]; }, { entity: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], entityId: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], linkDisabled: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], onClick: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
            args: ["click"]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/schools/school-details/school-details.component.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/child-dev-project/schools/school-details/school-details.component.ts ***!
  \**************************************************************************************/
/*! exports provided: SchoolDetailsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SchoolDetailsComponent", function() { return SchoolDetailsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _model_school__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/school */ "./src/app/child-dev-project/schools/model/school.ts");
/* harmony import */ var _schools_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../schools.service */ "./src/app/child-dev-project/schools/schools.service.ts");
/* harmony import */ var _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/entity/entity-mapper.service */ "./src/app/core/entity/entity-mapper.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var uniqid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! uniqid */ "./node_modules/uniqid/index.js");
/* harmony import */ var uniqid__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(uniqid__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/alerts/alert.service */ "./src/app/core/alerts/alert.service.ts");
/* harmony import */ var _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/snack-bar */ "./node_modules/@angular/material/fesm5/snack-bar.js");
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/table */ "./node_modules/@angular/material/fesm5/table.js");
/* harmony import */ var _core_confirmation_dialog_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/confirmation-dialog/confirmation-dialog.service */ "./src/app/core/confirmation-dialog/confirmation-dialog.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/flex-layout/flex */ "./node_modules/@angular/flex-layout/esm5/flex.es5.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/tooltip */ "./node_modules/@angular/material/fesm5/tooltip.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_material_expansion__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/expansion */ "./node_modules/@angular/material/fesm5/expansion.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/material/checkbox */ "./node_modules/@angular/material/fesm5/checkbox.js");
/* harmony import */ var _angular_material_sort__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/material/sort */ "./node_modules/@angular/material/fesm5/sort.js");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm2015/angulartics2.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
































function SchoolDetailsComponent_span_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r0.school.name);
} }
function SchoolDetailsComponent_span_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Adding new School");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function SchoolDetailsComponent_button_8_Template(rf, ctx) { if (rf & 1) {
    var _r18 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SchoolDetailsComponent_button_8_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r18); var ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r17.saveSchool(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Save ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("angularticsAction", ctx_r2.creatingNew ? "create_school_save" : "school_details_save");
} }
function SchoolDetailsComponent_button_9_Template(rf, ctx) { if (rf & 1) {
    var _r20 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SchoolDetailsComponent_button_9_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r20); var ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r19.removeSchool(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Delete ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function SchoolDetailsComponent_button_10_Template(rf, ctx) { if (rf & 1) {
    var _r22 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 40);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SchoolDetailsComponent_button_10_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r22); var ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r21.switchEdit(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Cancel ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function SchoolDetailsComponent_button_11_Template(rf, ctx) { if (rf & 1) {
    var _r24 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SchoolDetailsComponent_button_11_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r24); var ctx_r23 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r23.switchEdit(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Edit ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function SchoolDetailsComponent_mat_header_cell_50_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-header-cell", 42);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " PN ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function SchoolDetailsComponent_mat_cell_51_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-cell");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var student_r25 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", student_r25.projectNumber, " ");
} }
function SchoolDetailsComponent_mat_header_cell_53_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-header-cell", 42);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Name ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function SchoolDetailsComponent_mat_cell_54_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-cell");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var student_r26 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", student_r26.name, " ");
} }
function SchoolDetailsComponent_mat_header_cell_56_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-header-cell", 42);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Class ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function SchoolDetailsComponent_mat_cell_57_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-cell");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var student_r27 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", student_r27.schoolClass, " ");
} }
function SchoolDetailsComponent_mat_header_cell_59_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-header-cell", 42);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Age ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function SchoolDetailsComponent_mat_cell_60_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-cell");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var student_r28 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", student_r28.age, " ");
} }
function SchoolDetailsComponent_mat_header_row_61_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "mat-header-row");
} }
var _c0 = function (a1) { return ["/child", a1]; };
function SchoolDetailsComponent_mat_row_62_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "mat-row", 43);
} if (rf & 2) {
    var row_r29 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](1, _c0, row_r29.getId()));
} }
var SchoolDetailsComponent = /** @class */ (function () {
    function SchoolDetailsComponent(route, router, location, fb, entityMapperService, alertService, snackBar, confirmationDialog, schoolService) {
        this.route = route;
        this.router = router;
        this.location = location;
        this.fb = fb;
        this.entityMapperService = entityMapperService;
        this.alertService = alertService;
        this.snackBar = snackBar;
        this.confirmationDialog = confirmationDialog;
        this.schoolService = schoolService;
        this.school = new _model_school__WEBPACK_IMPORTED_MODULE_2__["School"]("");
        this.studentDataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_9__["MatTableDataSource"]();
        this.displayedColumns = ["id", "name", "schoolClass", "age"];
        this.creatingNew = false;
        this.editing = false;
        this.initializeForm();
    }
    SchoolDetailsComponent.prototype.initializeForm = function () {
        this.form = this.fb.group({
            name: [{ value: this.school.name, disabled: !this.editing }],
            address: [{ value: this.school.address, disabled: !this.editing }],
            phone: [{ value: this.school.phone, disabled: !this.editing }],
            medium: [{ value: this.school.medium, disabled: !this.editing }],
            timing: [{ value: this.school.timing, disabled: !this.editing }],
            upToClass: [{ value: this.school.upToClass, disabled: !this.editing }],
            remarks: [{ value: this.school.remarks, disabled: !this.editing }],
            academicBoard: [
                { value: this.school.academicBoard, disabled: !this.editing },
            ],
            workingDays: [
                { value: this.school.workingDays, disabled: !this.editing },
            ],
            website: [{ value: this.school.website, disabled: !this.editing }],
            privateSchool: [
                { value: this.school.privateSchool, disabled: !this.editing },
            ],
        });
    };
    SchoolDetailsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.paramMap.subscribe(function (paramMap) {
            _this.loadSchool(paramMap.get("id"));
        });
    };
    SchoolDetailsComponent.prototype.switchEdit = function () {
        this.editing = !this.editing;
        this.initializeForm();
    };
    SchoolDetailsComponent.prototype.loadSchool = function (id) {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (!(id === "new")) return [3 /*break*/, 1];
                        this.creatingNew = true;
                        this.editing = true;
                        this.school = new _model_school__WEBPACK_IMPORTED_MODULE_2__["School"](uniqid__WEBPACK_IMPORTED_MODULE_6__());
                        return [3 /*break*/, 3];
                    case 1:
                        this.studentDataSource.data = [];
                        _a = this;
                        return [4 /*yield*/, this.entityMapperService.load(_model_school__WEBPACK_IMPORTED_MODULE_2__["School"], id)];
                    case 2:
                        _a.school = _b.sent();
                        _b.label = 3;
                    case 3:
                        this.initializeForm();
                        return [4 /*yield*/, this.loadStudents()];
                    case 4:
                        _b.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    SchoolDetailsComponent.prototype.loadStudents = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = this.studentDataSource;
                        return [4 /*yield*/, this.schoolService.getChildrenForSchool(this.school.getId())];
                    case 1:
                        _a.data = _b.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    SchoolDetailsComponent.prototype.removeSchool = function () {
        var _this = this;
        var dialogRef = this.confirmationDialog.openDialog("Delete?", "Are you sure you want to delete this School?");
        dialogRef.afterClosed().subscribe(function (confirmed) { return __awaiter(_this, void 0, void 0, function () {
            var snackBarRef;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!confirmed) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.entityMapperService.remove(this.school)];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.router.navigate(["/school"])];
                    case 2:
                        _a.sent();
                        snackBarRef = this.snackBar.open('Deleted School "' + this.school.name + '"', "Undo", { duration: 8000 });
                        snackBarRef.onAction().subscribe(function () {
                            _this.entityMapperService.save(_this.school, true);
                            _this.router.navigate(["/school", _this.school.getId()]);
                        });
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        }); });
    };
    SchoolDetailsComponent.prototype.saveSchool = function () {
        var _this = this;
        this.assignFormValuesToSchool(this.school, this.form);
        this.entityMapperService
            .save(this.school)
            .then(function () {
            if (_this.creatingNew) {
                _this.router.navigate(["/school", _this.school.getId()]);
                _this.creatingNew = false;
            }
            _this.switchEdit();
        })
            .catch(function (err) {
            return _this.alertService.addDanger('Could not save School "' + _this.school.name + '": ' + err);
        });
    };
    SchoolDetailsComponent.prototype.assignFormValuesToSchool = function (school, form) {
        Object.keys(form.controls).forEach(function (key) {
            school[key] = form.get(key).value;
        });
    };
    SchoolDetailsComponent.prototype.navigateBack = function () {
        this.location.back();
    };
    SchoolDetailsComponent.ɵfac = function SchoolDetailsComponent_Factory(t) { return new (t || SchoolDetailsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_common__WEBPACK_IMPORTED_MODULE_11__["Location"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormBuilder"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_4__["EntityMapperService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_7__["AlertService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_8__["MatSnackBar"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_confirmation_dialog_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_10__["ConfirmationDialogService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_schools_service__WEBPACK_IMPORTED_MODULE_3__["SchoolsService"])); };
    SchoolDetailsComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: SchoolDetailsComponent, selectors: [["app-school-details"]], decls: 63, vars: 11, consts: [["fxLayout", "row", "fxLayoutAlign", "space-between"], [1, "page-header", "section-school"], ["mat-icon-button", "", "matTooltip", "Back", 2, "vertical-align", "middle", 3, "click"], ["fontIcon", "fa-backward"], [1, "fa", "fa-university", "fa-fw"], [4, "ngIf"], ["mat-stroked-button", "", "class", "edit-button", "angulartics2On", "click", "angularticsCategory", "UserAction", 3, "angularticsAction", "click", 4, "ngIf"], ["mat-stroked-button", "", "class", "edit-button", "style", "color: red;", "angulartics2On", "click", "angularticsCategory", "UserAction", "angularticsAction", "school_details_remove", 3, "click", 4, "ngIf"], ["mat-stroked-button", "", "class", "edit-button", "angulartics2On", "click", "angularticsCategory", "UserAction", "angularticsAction", "school_details_cancel", 3, "click", 4, "ngIf"], ["mat-stroked-button", "", "class", "edit-button", "angulartics2On", "click", "angularticsCategory", "UserAction", "angularticsAction", "school_details_edit", 3, "click", 4, "ngIf"], [3, "formGroup"], ["hideToggle", "true", "expanded", "true"], [2, "width", "300px"], ["matInput", "", "formControlName", "name", "placeholder", "Name", "type", "text"], [2, "width", "100px"], ["matInput", "", "formControlName", "medium", "placeholder", "Medium", "type", "text"], ["formControlName", "privateSchool", 3, "disabled"], ["matInput", "", "formControlName", "academicBoard", "placeholder", "Board", "type", "text"], ["matInput", "", "formControlName", "phone", "placeholder", "Contact Number", "type", "text"], ["matInput", "", "formControlName", "address", "placeholder", "Address", "type", "text"], ["formControlName", "website", "matInput", "", "placeholder", "Website", "type", "text"], ["matInput", "", "formControlName", "timing", "placeholder", "School Timing", "type", "text"], ["matInput", "", "formControlName", "workingDays", "placeholder", "Working Days", "type", "text"], ["matInput", "", "formControlName", "upToClass", "placeholder", "Teaching up to class", "type", "text"], [2, "width", "100%"], ["matInput", "", "formControlName", "remarks", "placeholder", "Remarks"], ["hideToggle", "false", "expanded", "true"], [1, "example-container", "mat-elevation-z8"], ["mat-table", "", "matSort", "", 2, "width", "100%", 3, "dataSource"], ["table", ""], ["matColumnDef", "id"], ["mat-sort-header", "", 4, "matHeaderCellDef"], [4, "matCellDef"], ["matColumnDef", "name"], ["matColumnDef", "schoolClass"], ["matColumnDef", "age"], [4, "matHeaderRowDef"], ["style", "cursor: pointer;", 3, "routerLink", 4, "matRowDef", "matRowDefColumns"], ["mat-stroked-button", "", "angulartics2On", "click", "angularticsCategory", "UserAction", 1, "edit-button", 3, "angularticsAction", "click"], ["mat-stroked-button", "", "angulartics2On", "click", "angularticsCategory", "UserAction", "angularticsAction", "school_details_remove", 1, "edit-button", 2, "color", "red", 3, "click"], ["mat-stroked-button", "", "angulartics2On", "click", "angularticsCategory", "UserAction", "angularticsAction", "school_details_cancel", 1, "edit-button", 3, "click"], ["mat-stroked-button", "", "angulartics2On", "click", "angularticsCategory", "UserAction", "angularticsAction", "school_details_edit", 1, "edit-button", 3, "click"], ["mat-sort-header", ""], [2, "cursor", "pointer", 3, "routerLink"]], template: function SchoolDetailsComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "h1", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "button", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SchoolDetailsComponent_Template_button_click_2_listener() { return ctx.navigateBack(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "mat-icon", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "i", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, SchoolDetailsComponent_span_5_Template, 2, 1, "span", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, SchoolDetailsComponent_span_6_Template, 2, 0, "span", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, SchoolDetailsComponent_button_8_Template, 2, 1, "button", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, SchoolDetailsComponent_button_9_Template, 2, 0, "button", 7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, SchoolDetailsComponent_button_10_Template, 2, 0, "button", 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, SchoolDetailsComponent_button_11_Template, 2, 0, "button", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "form", 10);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "mat-expansion-panel", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "mat-expansion-panel-header");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](15, "mat-panel-title");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "mat-form-field", 12);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](18, "input", 13);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](19, "mat-form-field", 14);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](20, "input", 15);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](21, "mat-checkbox", 16);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](22, "Private school");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](23, "mat-form-field", 14);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](24, "input", 17);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](25, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](26, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](27, "input", 18);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](28, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](29, "input", 19);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](30, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](31, "input", 20);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](32, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](33, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](34, "input", 21);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](35, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](36, "input", 22);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](37, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](38, "input", 23);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](39, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](40, "mat-form-field", 24);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](41, "textarea", 25);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](42, "mat-expansion-panel", 26);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](43, "mat-expansion-panel-header");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](44, "mat-panel-title");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](45, " Students ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](46, "div", 27);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](47, "table", 28, 29);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](49, 30);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](50, SchoolDetailsComponent_mat_header_cell_50_Template, 2, 0, "mat-header-cell", 31);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](51, SchoolDetailsComponent_mat_cell_51_Template, 2, 1, "mat-cell", 32);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](52, 33);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](53, SchoolDetailsComponent_mat_header_cell_53_Template, 2, 0, "mat-header-cell", 31);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](54, SchoolDetailsComponent_mat_cell_54_Template, 2, 1, "mat-cell", 32);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](55, 34);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](56, SchoolDetailsComponent_mat_header_cell_56_Template, 2, 0, "mat-header-cell", 31);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](57, SchoolDetailsComponent_mat_cell_57_Template, 2, 1, "mat-cell", 32);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](58, 35);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](59, SchoolDetailsComponent_mat_header_cell_59_Template, 2, 0, "mat-header-cell", 31);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](60, SchoolDetailsComponent_mat_cell_60_Template, 2, 1, "mat-cell", 32);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](61, SchoolDetailsComponent_mat_header_row_61_Template, 1, 0, "mat-header-row", 36);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](62, SchoolDetailsComponent_mat_row_62_Template, 1, 3, "mat-row", 37);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.creatingNew);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.creatingNew);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.creatingNew || ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.creatingNew && ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.creatingNew || ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", !ctx.editing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](26);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("dataSource", ctx.studentDataSource);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](14);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matHeaderRowDef", ctx.displayedColumns);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matRowDefColumns", ctx.displayedColumns);
        } }, directives: [_angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_12__["DefaultLayoutDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_12__["DefaultLayoutAlignDirective"], _angular_material_button__WEBPACK_IMPORTED_MODULE_13__["MatButton"], _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_14__["MatTooltip"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_15__["MatIcon"], _angular_common__WEBPACK_IMPORTED_MODULE_11__["NgIf"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormGroupDirective"], _angular_material_expansion__WEBPACK_IMPORTED_MODULE_16__["MatExpansionPanel"], _angular_material_expansion__WEBPACK_IMPORTED_MODULE_16__["MatExpansionPanelHeader"], _angular_material_expansion__WEBPACK_IMPORTED_MODULE_16__["MatExpansionPanelTitle"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_17__["MatFormField"], _angular_material_input__WEBPACK_IMPORTED_MODULE_18__["MatInput"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormControlName"], _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_19__["MatCheckbox"], _angular_material_table__WEBPACK_IMPORTED_MODULE_9__["MatTable"], _angular_material_sort__WEBPACK_IMPORTED_MODULE_20__["MatSort"], _angular_material_table__WEBPACK_IMPORTED_MODULE_9__["MatColumnDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_9__["MatHeaderCellDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_9__["MatCellDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_9__["MatHeaderRowDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_9__["MatRowDef"], angulartics2__WEBPACK_IMPORTED_MODULE_21__["Angulartics2On"], _angular_material_table__WEBPACK_IMPORTED_MODULE_9__["MatHeaderCell"], _angular_material_sort__WEBPACK_IMPORTED_MODULE_20__["MatSortHeader"], _angular_material_table__WEBPACK_IMPORTED_MODULE_9__["MatCell"], _angular_material_table__WEBPACK_IMPORTED_MODULE_9__["MatHeaderRow"], _angular_material_table__WEBPACK_IMPORTED_MODULE_9__["MatRow"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterLink"]], styles: [".mat-extension-panel-header[_ngcontent-%COMP%] {\n  background-color: grey;\n  height: 1cm;\n}\n\n.mat-expansion-panel[_ngcontent-%COMP%] {\n  padding: 0;\n  margin-top: 0;\n}\n\n.edit-button[_ngcontent-%COMP%] {\n  margin-left: 10px;\n}\n\n.list-item[_ngcontent-%COMP%]:hover {\n  background: #F5F5F5;\n}\n\n.mat-form-field[_ngcontent-%COMP%] {\n  margin-right: 10px;\n}\n\n.mat-checkbox[_ngcontent-%COMP%] {\n  margin-right: 10px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3Qvc2Nob29scy9zY2hvb2wtZGV0YWlscy9zY2hvb2wtZGV0YWlscy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY2hpbGQtZGV2LXByb2plY3Qvc2Nob29scy9zY2hvb2wtZGV0YWlscy9zY2hvb2wtZGV0YWlscy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHNCQUFBO0VBQ0EsV0FBQTtBQ0NGOztBRENBO0VBQ0UsVUFBQTtFQUNBLGFBQUE7QUNFRjs7QURBQTtFQUNFLGlCQUFBO0FDR0Y7O0FEQUE7RUFDRSxtQkFBQTtBQ0dGOztBRENBO0VBQ0Usa0JBQUE7QUNFRjs7QURBQTtFQUNFLGtCQUFBO0FDR0YiLCJmaWxlIjoic3JjL2FwcC9jaGlsZC1kZXYtcHJvamVjdC9zY2hvb2xzL3NjaG9vbC1kZXRhaWxzL3NjaG9vbC1kZXRhaWxzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1hdC1leHRlbnNpb24tcGFuZWwtaGVhZGVye1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBncmV5O1xuICBoZWlnaHQ6IDFjbTtcbn1cbi5tYXQtZXhwYW5zaW9uLXBhbmVse1xuICBwYWRkaW5nOiAwO1xuICBtYXJnaW4tdG9wOiAwO1xufVxuLmVkaXQtYnV0dG9uIHtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG59XG5cbi5saXN0LWl0ZW06aG92ZXJ7XG4gIGJhY2tncm91bmQ6ICNGNUY1RjU7XG59XG5cblxuLm1hdC1mb3JtLWZpZWxkIHtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xufVxuLm1hdC1jaGVja2JveCB7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbn1cbiIsIi5tYXQtZXh0ZW5zaW9uLXBhbmVsLWhlYWRlciB7XG4gIGJhY2tncm91bmQtY29sb3I6IGdyZXk7XG4gIGhlaWdodDogMWNtO1xufVxuXG4ubWF0LWV4cGFuc2lvbi1wYW5lbCB7XG4gIHBhZGRpbmc6IDA7XG4gIG1hcmdpbi10b3A6IDA7XG59XG5cbi5lZGl0LWJ1dHRvbiB7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xufVxuXG4ubGlzdC1pdGVtOmhvdmVyIHtcbiAgYmFja2dyb3VuZDogI0Y1RjVGNTtcbn1cblxuLm1hdC1mb3JtLWZpZWxkIHtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xufVxuXG4ubWF0LWNoZWNrYm94IHtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xufSJdfQ== */"] });
    return SchoolDetailsComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SchoolDetailsComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-school-details",
                templateUrl: "./school-details.component.html",
                styleUrls: ["./school-details.component.scss"],
            }]
    }], function () { return [{ type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] }, { type: _angular_common__WEBPACK_IMPORTED_MODULE_11__["Location"] }, { type: _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormBuilder"], decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormBuilder"]]
            }] }, { type: _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_4__["EntityMapperService"] }, { type: _core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_7__["AlertService"] }, { type: _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_8__["MatSnackBar"] }, { type: _core_confirmation_dialog_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_10__["ConfirmationDialogService"] }, { type: _schools_service__WEBPACK_IMPORTED_MODULE_3__["SchoolsService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/schools/schools-list/schools-list.component.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/child-dev-project/schools/schools-list/schools-list.component.ts ***!
  \**********************************************************************************/
/*! exports provided: SchoolsListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SchoolsListComponent", function() { return SchoolsListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material_sort__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material/sort */ "./node_modules/@angular/material/fesm5/sort.js");
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/table */ "./node_modules/@angular/material/fesm5/table.js");
/* harmony import */ var _schools_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../schools.service */ "./src/app/child-dev-project/schools/schools.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _core_filter_filter_selection_filter_selection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/filter/filter-selection/filter-selection */ "./src/app/core/filter/filter-selection/filter-selection.ts");
/* harmony import */ var _angular_material_paginator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/paginator */ "./node_modules/@angular/material/fesm5/paginator.js");
/* harmony import */ var _core_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/session/session-service/session.service */ "./src/app/core/session/session-service/session.service.ts");
/* harmony import */ var _ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ngneat/until-destroy */ "./node_modules/@ngneat/until-destroy/fesm5/ngneat-until-destroy.js");
/* harmony import */ var _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/entity/entity-mapper.service */ "./src/app/core/entity/entity-mapper.service.ts");
/* harmony import */ var _angular_material_expansion__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/expansion */ "./node_modules/@angular/material/fesm5/expansion.js");
/* harmony import */ var _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/flex-layout/flex */ "./node_modules/@angular/flex-layout/esm5/flex.es5.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/flex-layout/extended */ "./node_modules/@angular/flex-layout/esm5/extended.es5.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm2015/angulartics2.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/material/button-toggle */ "./node_modules/@angular/material/fesm5/button-toggle.js");
/* harmony import */ var _angular_material_select__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/material/select */ "./node_modules/@angular/material/fesm5/select.js");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @angular/material/core */ "./node_modules/@angular/material/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};































function SchoolsListComponent_button_7_Template(rf, ctx) { if (rf & 1) {
    var _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SchoolsListComponent_button_7_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); var ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); ctx_r4.filterString = ""; return ctx_r4.applyFilter(""); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-icon", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function SchoolsListComponent_mat_button_toggle_group_17_mat_button_toggle_1_Template(rf, ctx) { if (rf & 1) {
    var _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-button-toggle", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SchoolsListComponent_mat_button_toggle_group_17_mat_button_toggle_1_Template_mat_button_toggle_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r11); var option_r8 = ctx.$implicit; var filterSelection_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; var ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); filterSelection_r6.selectedOption = option_r8.key; return ctx_r9.applyFilterSelections(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var option_r8 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", option_r8.key);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", option_r8.label, " ");
} }
function SchoolsListComponent_mat_button_toggle_group_17_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-button-toggle-group", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, SchoolsListComponent_mat_button_toggle_group_17_mat_button_toggle_1_Template, 2, 2, "mat-button-toggle", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var filterSelection_r6 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("name", filterSelection_r6.name)("value", filterSelection_r6.selectedOption);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", filterSelection_r6.options);
} }
function SchoolsListComponent_mat_form_field_19_mat_option_4_Template(rf, ctx) { if (rf & 1) {
    var _r17 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SchoolsListComponent_mat_form_field_19_mat_option_4_Template_mat_option_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r17); var option_r14 = ctx.$implicit; var filterSelection_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; var ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); filterSelection_r12.selectedOption = option_r14.key; return ctx_r15.applyFilterSelections(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var option_r14 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", option_r14.key);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", option_r14.label, " ");
} }
function SchoolsListComponent_mat_form_field_19_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-form-field", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "mat-select", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, SchoolsListComponent_mat_form_field_19_mat_option_4_Template, 2, 2, "mat-option", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var filterSelection_r12 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](filterSelection_r12.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("id", filterSelection_r12.name)("value", filterSelection_r12.selectedOption);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", filterSelection_r12.options);
} }
function SchoolsListComponent_div_20_th_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Name");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function SchoolsListComponent_div_20_td_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var school_r30 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](school_r30.name);
} }
function SchoolsListComponent_div_20_th_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Medium");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function SchoolsListComponent_div_20_td_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var school_r31 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](school_r31.medium);
} }
function SchoolsListComponent_div_20_th_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Private School");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function SchoolsListComponent_div_20_td_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var school_r32 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", school_r32.privateSchool ? "\u2713" : "", " ");
} }
function SchoolsListComponent_div_20_th_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Board");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function SchoolsListComponent_div_20_td_13_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var school_r33 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](school_r33.academicBoard);
} }
function SchoolsListComponent_div_20_th_15_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Up to class");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function SchoolsListComponent_div_20_td_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var school_r34 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](school_r34.upToClass);
} }
function SchoolsListComponent_div_20_tr_17_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "tr", 38);
} }
function SchoolsListComponent_div_20_tr_18_Template(rf, ctx) { if (rf & 1) {
    var _r37 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "tr", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SchoolsListComponent_div_20_tr_18_Template_tr_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r37); var school_r35 = ctx.$implicit; var ctx_r36 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r36.showSchoolDetails(school_r35); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
var _c0 = function () { return [3, 10, 20, 50]; };
function SchoolsListComponent_div_20_Template(rf, ctx) { if (rf & 1) {
    var _r39 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "table", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](2, 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, SchoolsListComponent_div_20_th_3_Template, 2, 0, "th", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, SchoolsListComponent_div_20_td_4_Template, 2, 1, "td", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](5, 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, SchoolsListComponent_div_20_th_6_Template, 2, 0, "th", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, SchoolsListComponent_div_20_td_7_Template, 2, 1, "td", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](8, 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, SchoolsListComponent_div_20_th_9_Template, 2, 0, "th", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, SchoolsListComponent_div_20_td_10_Template, 2, 1, "td", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](11, 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](12, SchoolsListComponent_div_20_th_12_Template, 2, 0, "th", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](13, SchoolsListComponent_div_20_td_13_Template, 2, 1, "td", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](14, 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](15, SchoolsListComponent_div_20_th_15_Template, 2, 0, "th", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](16, SchoolsListComponent_div_20_td_16_Template, 2, 1, "td", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](17, SchoolsListComponent_div_20_tr_17_Template, 1, 0, "tr", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](18, SchoolsListComponent_div_20_tr_18_Template, 1, 0, "tr", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](19, "mat-paginator", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("page", function SchoolsListComponent_div_20_Template_mat_paginator_page_19_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r39); var ctx_r38 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r38.onPaginateChange($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("dataSource", ctx_r3.schoolDataSource);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matHeaderRowDef", ctx_r3.columnsToDisplay);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matRowDefColumns", ctx_r3.columnsToDisplay);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("pageSize", ctx_r3.paginatorPageSize)("pageIndex", ctx_r3.paginatorPageIndex)("pageSizeOptions", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](7, _c0))("showFirstLastButtons", true);
} }
var SchoolsListComponent = /** @class */ (function () {
    function SchoolsListComponent(schoolService, router, sessionService, entityMapperService) {
        this.schoolService = schoolService;
        this.router = router;
        this.sessionService = sessionService;
        this.entityMapperService = entityMapperService;
        this.schoolDataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatTableDataSource"]();
        this.filterString = "";
        this.columnsToDisplay = [
            "name",
            "medium",
            "privateSchool",
            "academicBoard",
            "upToClass",
        ];
        this.mediumFS = new _core_filter_filter_selection_filter_selection__WEBPACK_IMPORTED_MODULE_5__["FilterSelection"]("medium", []);
        this.privateFS = new _core_filter_filter_selection_filter_selection__WEBPACK_IMPORTED_MODULE_5__["FilterSelection"]("private", [
            {
                key: "private",
                label: "Private School",
                filterFun: function (s) { return s.privateSchool; },
            },
            {
                key: "government",
                label: "Government School",
                filterFun: function (s) { return !s.privateSchool; },
            },
            { key: "", label: "All", filterFun: function () { return true; } },
        ]);
        this.filterSelections = [this.mediumFS, this.privateFS];
    }
    SchoolsListComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.user = this.sessionService.getCurrentUser();
        this.paginatorPageSize = this.user.paginatorSettingsPageSize.schoolsList;
        this.paginatorPageIndex = this.user.paginatorSettingsPageIndex.schoolsList;
        this.schoolService
            .getSchools()
            .pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_8__["untilDestroyed"])(this))
            .subscribe(function (data) {
            _this.schoolList = data;
            _this.schoolDataSource.data = data;
            var mediums = data
                .map(function (s) { return s.medium; })
                .filter(function (value, index, arr) { return value && arr.indexOf(value) === index; });
            _this.mediumFS.initOptions(mediums, "medium");
        });
    };
    SchoolsListComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        this.schoolDataSource.sort = this.sort;
        this.schoolDataSource.paginator = this.paginator;
        setTimeout(function () {
            _this.paginator.pageIndex = _this.paginatorPageIndex;
            _this.paginator.page.next({
                pageIndex: _this.paginator.pageIndex,
                pageSize: _this.paginator.pageSize,
                length: _this.paginator.length,
            });
        });
    };
    SchoolsListComponent.prototype.onPaginateChange = function (event) {
        this.paginatorPageSize = event.pageSize;
        this.paginatorPageIndex = event.pageIndex;
        this.updateUserPaginationSettings();
    };
    SchoolsListComponent.prototype.updateUserPaginationSettings = function () {
        var hasChangesToBeSaved = this.paginatorPageSize !==
            this.user.paginatorSettingsPageSize.schoolsList;
        this.user.paginatorSettingsPageIndex.schoolsList = this.paginatorPageIndex;
        this.user.paginatorSettingsPageSize.schoolsList = this.paginatorPageSize;
        if (hasChangesToBeSaved) {
            this.entityMapperService.save(this.user);
        }
    };
    SchoolsListComponent.prototype.applyFilter = function (filterValue) {
        filterValue = filterValue.trim();
        filterValue = filterValue.toLowerCase(); // MatTableDataSource defaults to lowercase matches
        this.schoolDataSource.filter = filterValue;
    };
    SchoolsListComponent.prototype.applyFilterSelections = function () {
        var filteredData = this.schoolList;
        this.filterSelections.forEach(function (f) {
            filteredData = filteredData.filter(f.getSelectedFilterFunction());
        });
        this.schoolDataSource.data = filteredData;
    };
    SchoolsListComponent.prototype.addSchoolClick = function () {
        this.router.navigate([this.router.url, "new"]);
    };
    SchoolsListComponent.prototype.showSchoolDetails = function (school) {
        this.router.navigate([this.router.url, school.getId()]);
    };
    SchoolsListComponent.ɵfac = function SchoolsListComponent_Factory(t) { return new (t || SchoolsListComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_schools_service__WEBPACK_IMPORTED_MODULE_3__["SchoolsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_7__["SessionService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_9__["EntityMapperService"])); };
    SchoolsListComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: SchoolsListComponent, selectors: [["app-schools-list"]], viewQuery: function SchoolsListComponent_Query(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_angular_material_sort__WEBPACK_IMPORTED_MODULE_1__["MatSort"], true);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_angular_material_paginator__WEBPACK_IMPORTED_MODULE_6__["MatPaginator"], true);
        } if (rf & 2) {
            var _t;
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.sort = _t.first);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.paginator = _t.first);
        } }, decls: 21, vars: 6, consts: [["expanded", "true", "fxLayout", "column wrap", "fxLayoutGap", "10px", 1, "filter-panel"], ["fxLayout", "row", "fxLayoutGap", "10px", "fxLayoutAlign", "none end"], ["fxFlex", "50"], [2, "width", "100%"], ["matInput", "", "placeholder", "Filter", 3, "ngModel", "ngModelChange"], ["mat-icon-button", "", "matSuffix", "", "aria-label", "Clear", 3, "click", 4, "ngIf"], ["fxFlex", "25", "fxHide.xs", "true", 1, "align-form-field"], ["fxFlex", "25", 1, "align-form-field"], ["mat-stroked-button", "", "color", "accent", "fxFlexAlign", "end", "angulartics2On", "click", "angularticsCategory", "UserAction", "angularticsAction", "school_list_add_school", 3, "click"], ["aria-label", "add child", "fontIcon", "fa-plus-circle", 1, "button-icon"], ["fxHide.lt-sm", ""], ["fxHide.lt-md", "true"], ["fxLayout", "row wrap", "fxLayoutGap", "10px", "fxHide.lt-sm", ""], [3, "name", "value", 4, "ngFor", "ngForOf"], ["fxLayout", "row wrap", "fxHide.gt-xs", ""], ["style", "padding-right: 1%;", 4, "ngFor", "ngForOf"], ["class", "mat-elevation-z8 table-list", 4, "ngIf"], ["mat-icon-button", "", "matSuffix", "", "aria-label", "Clear", 3, "click"], ["fontIcon", "fa-times"], [3, "name", "value"], [3, "value", "click", 4, "ngFor", "ngForOf"], [3, "value", "click"], [2, "padding-right", "1%"], ["placeholder", "filterSelection.name", 3, "id", "value"], [1, "mat-elevation-z8", "table-list"], ["mat-table", "", "matSort", "", "width", "100%", 3, "dataSource"], ["matColumnDef", "name"], ["mat-header-cell", "", "mat-sort-header", "", 4, "matHeaderCellDef"], ["mat-cell", "", 4, "matCellDef"], ["matColumnDef", "medium"], ["matColumnDef", "privateSchool"], ["matColumnDef", "academicBoard"], ["matColumnDef", "upToClass"], ["mat-header-row", "", 4, "matHeaderRowDef"], ["mat-row", "", "style", "cursor: pointer;", 3, "click", 4, "matRowDef", "matRowDefColumns"], [3, "pageSize", "pageIndex", "pageSizeOptions", "showFirstLastButtons", "page"], ["mat-header-cell", "", "mat-sort-header", ""], ["mat-cell", ""], ["mat-header-row", ""], ["mat-row", "", 2, "cursor", "pointer", 3, "click"]], template: function SchoolsListComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "h1");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Schools List");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "mat-expansion-panel", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "mat-form-field", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "input", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function SchoolsListComponent_Template_input_ngModelChange_6_listener($event) { return ctx.applyFilter($event); })("ngModelChange", function SchoolsListComponent_Template_input_ngModelChange_6_listener($event) { return ctx.filterString = $event; });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, SchoolsListComponent_button_7_Template, 2, 0, "button", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "div", 7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "button", 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SchoolsListComponent_Template_button_click_11_listener() { return ctx.addSchoolClick(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](12, "mat-icon", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "span", 10);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "span", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](15, " Add New ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "div", 12);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](17, SchoolsListComponent_mat_button_toggle_group_17_Template, 2, 3, "mat-button-toggle-group", 13);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](18, "div", 14);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](19, SchoolsListComponent_mat_form_field_19_Template, 5, 4, "mat-form-field", 15);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](20, SchoolsListComponent_div_20_Template, 20, 8, "div", 16);
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx.filterString);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.filterString);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" (Showing ", ctx.schoolDataSource.filteredData.length, " schools) ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.filterSelections);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.filterSelections);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.schoolDataSource);
        } }, directives: [_angular_material_expansion__WEBPACK_IMPORTED_MODULE_10__["MatExpansionPanel"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_11__["DefaultLayoutDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_11__["DefaultLayoutGapDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_11__["DefaultLayoutAlignDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_11__["DefaultFlexDirective"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_12__["MatFormField"], _angular_material_input__WEBPACK_IMPORTED_MODULE_13__["MatInput"], _angular_forms__WEBPACK_IMPORTED_MODULE_14__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_14__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_14__["NgModel"], _angular_common__WEBPACK_IMPORTED_MODULE_15__["NgIf"], _angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_16__["DefaultShowHideDirective"], _angular_material_button__WEBPACK_IMPORTED_MODULE_17__["MatButton"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_11__["DefaultFlexAlignDirective"], angulartics2__WEBPACK_IMPORTED_MODULE_18__["Angulartics2On"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_19__["MatIcon"], _angular_common__WEBPACK_IMPORTED_MODULE_15__["NgForOf"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_12__["MatSuffix"], _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_20__["MatButtonToggleGroup"], _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_20__["MatButtonToggle"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_12__["MatLabel"], _angular_material_select__WEBPACK_IMPORTED_MODULE_21__["MatSelect"], _angular_material_core__WEBPACK_IMPORTED_MODULE_22__["MatOption"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatTable"], _angular_material_sort__WEBPACK_IMPORTED_MODULE_1__["MatSort"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatColumnDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatHeaderCellDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatCellDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatHeaderRowDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatRowDef"], _angular_material_paginator__WEBPACK_IMPORTED_MODULE_6__["MatPaginator"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatHeaderCell"], _angular_material_sort__WEBPACK_IMPORTED_MODULE_1__["MatSortHeader"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatCell"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatHeaderRow"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatRow"]], styles: [".table-list[_ngcontent-%COMP%] {\n  margin-top: 10px;\n}\n\n.align-form-field[_ngcontent-%COMP%] {\n  padding-bottom: 1.25em;\n}\n\n.table-list[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n  padding-left: 8px;\n}\n\n.mat-form-field[_ngcontent-%COMP%] {\n  font-size: 14px;\n  width: 100%;\n}\n\n.button-icon[_ngcontent-%COMP%] {\n  font-size: 1.5em;\n  margin-right: 5px;\n}\n\n.filter-panel[_ngcontent-%COMP%] {\n  padding-top: 10px;\n}\n\n.list-item[_ngcontent-%COMP%]:hover {\n  background: #F5F5F5;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY2hpbGQtZGV2LXByb2plY3Qvc2Nob29scy9zY2hvb2xzLWxpc3Qvc2Nob29scy1saXN0LmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jaGlsZC1kZXYtcHJvamVjdC9zY2hvb2xzL3NjaG9vbHMtbGlzdC9zY2hvb2xzLWxpc3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBQTtBQ0NGOztBREVBO0VBQ0Usc0JBQUE7QUNDRjs7QURDQTtFQUNFLGlCQUFBO0FDRUY7O0FEQ0E7RUFDRSxlQUFBO0VBQ0EsV0FBQTtBQ0VGOztBRENBO0VBQ0UsZ0JBQUE7RUFDQSxpQkFBQTtBQ0VGOztBRENBO0VBQ0UsaUJBQUE7QUNFRjs7QURDQTtFQUNFLG1CQUFBO0FDRUYiLCJmaWxlIjoic3JjL2FwcC9jaGlsZC1kZXYtcHJvamVjdC9zY2hvb2xzL3NjaG9vbHMtbGlzdC9zY2hvb2xzLWxpc3QuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGFibGUtbGlzdCB7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG59XG5cbi5hbGlnbi1mb3JtLWZpZWxkIHtcbiAgcGFkZGluZy1ib3R0b206IDEuMjVlbTtcbn1cbi50YWJsZS1saXN0IHRkIHtcbiAgcGFkZGluZy1sZWZ0OiA4cHg7XG59XG5cbi5tYXQtZm9ybS1maWVsZCB7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5idXR0b24taWNvbiB7XG4gIGZvbnQtc2l6ZTogMS41ZW07XG4gIG1hcmdpbi1yaWdodDogNXB4O1xufVxuXG4uZmlsdGVyLXBhbmVsIHtcbiAgcGFkZGluZy10b3A6IDEwcHg7XG59XG5cbi5saXN0LWl0ZW06aG92ZXJ7XG4gIGJhY2tncm91bmQ6ICNGNUY1RjU7XG59XG4iLCIudGFibGUtbGlzdCB7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG59XG5cbi5hbGlnbi1mb3JtLWZpZWxkIHtcbiAgcGFkZGluZy1ib3R0b206IDEuMjVlbTtcbn1cblxuLnRhYmxlLWxpc3QgdGQge1xuICBwYWRkaW5nLWxlZnQ6IDhweDtcbn1cblxuLm1hdC1mb3JtLWZpZWxkIHtcbiAgZm9udC1zaXplOiAxNHB4O1xuICB3aWR0aDogMTAwJTtcbn1cblxuLmJ1dHRvbi1pY29uIHtcbiAgZm9udC1zaXplOiAxLjVlbTtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG59XG5cbi5maWx0ZXItcGFuZWwge1xuICBwYWRkaW5nLXRvcDogMTBweDtcbn1cblxuLmxpc3QtaXRlbTpob3ZlciB7XG4gIGJhY2tncm91bmQ6ICNGNUY1RjU7XG59Il19 */"] });
    SchoolsListComponent = __decorate([
        Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_8__["UntilDestroy"])(),
        __metadata("design:paramtypes", [_schools_service__WEBPACK_IMPORTED_MODULE_3__["SchoolsService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"],
            _core_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_7__["SessionService"],
            _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_9__["EntityMapperService"]])
    ], SchoolsListComponent);
    return SchoolsListComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SchoolsListComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-schools-list",
                templateUrl: "./schools-list.component.html",
                styleUrls: ["./schools-list.component.scss"],
            }]
    }], function () { return [{ type: _schools_service__WEBPACK_IMPORTED_MODULE_3__["SchoolsService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"] }, { type: _core_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_7__["SessionService"] }, { type: _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_9__["EntityMapperService"] }]; }, { sort: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: [_angular_material_sort__WEBPACK_IMPORTED_MODULE_1__["MatSort"]]
        }], paginator: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: [_angular_material_paginator__WEBPACK_IMPORTED_MODULE_6__["MatPaginator"]]
        }] }); })();


/***/ }),

/***/ "./src/app/child-dev-project/schools/schools.module.ts":
/*!*************************************************************!*\
  !*** ./src/app/child-dev-project/schools/schools.module.ts ***!
  \*************************************************************/
/*! exports provided: SchoolsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SchoolsModule", function() { return SchoolsModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _schools_list_schools_list_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./schools-list/schools-list.component */ "./src/app/child-dev-project/schools/schools-list/schools-list.component.ts");
/* harmony import */ var _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/autocomplete */ "./node_modules/@angular/material/fesm5/autocomplete.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/button-toggle */ "./node_modules/@angular/material/fesm5/button-toggle.js");
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/card */ "./node_modules/@angular/material/fesm5/card.js");
/* harmony import */ var _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/checkbox */ "./node_modules/@angular/material/fesm5/checkbox.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/fesm5/dialog.js");
/* harmony import */ var _angular_material_expansion__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/expansion */ "./node_modules/@angular/material/fesm5/expansion.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/sidenav */ "./node_modules/@angular/material/fesm5/sidenav.js");
/* harmony import */ var _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/snack-bar */ "./node_modules/@angular/material/fesm5/snack-bar.js");
/* harmony import */ var _angular_material_sort__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/sort */ "./node_modules/@angular/material/fesm5/sort.js");
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/table */ "./node_modules/@angular/material/fesm5/table.js");
/* harmony import */ var _school_details_school_details_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./school-details/school-details.component */ "./src/app/child-dev-project/schools/school-details/school-details.component.ts");
/* harmony import */ var _school_block_school_block_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./school-block/school-block.component */ "./src/app/child-dev-project/schools/school-block/school-block.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var _angular_material_paginator__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/material/paginator */ "./node_modules/@angular/material/fesm5/paginator.js");
/* harmony import */ var _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @angular/material/progress-spinner */ "./node_modules/@angular/material/fesm5/progress-spinner.js");
/* harmony import */ var _angular_material_select__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @angular/material/select */ "./node_modules/@angular/material/fesm5/select.js");
/* harmony import */ var _core_entity_subrecord_entity_subrecord_module__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../core/entity-subrecord/entity-subrecord.module */ "./src/app/core/entity-subrecord/entity-subrecord.module.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _schools_service__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./schools.service */ "./src/app/child-dev-project/schools/schools.service.ts");
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @angular/material/tooltip */ "./node_modules/@angular/material/fesm5/tooltip.js");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm2015/angulartics2.js");






























var SchoolsModule = /** @class */ (function () {
    function SchoolsModule() {
    }
    SchoolsModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: SchoolsModule });
    SchoolsModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function SchoolsModule_Factory(t) { return new (t || SchoolsModule)(); }, providers: [_schools_service__WEBPACK_IMPORTED_MODULE_26__["SchoolsService"]], imports: [[
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_material_table__WEBPACK_IMPORTED_MODULE_16__["MatTableModule"],
                _angular_material_form_field__WEBPACK_IMPORTED_MODULE_10__["MatFormFieldModule"],
                _angular_material_input__WEBPACK_IMPORTED_MODULE_12__["MatInputModule"],
                _angular_material_sort__WEBPACK_IMPORTED_MODULE_15__["MatSortModule"],
                _angular_material_expansion__WEBPACK_IMPORTED_MODULE_9__["MatExpansionModule"],
                _angular_material_button__WEBPACK_IMPORTED_MODULE_4__["MatButtonModule"],
                _angular_flex_layout__WEBPACK_IMPORTED_MODULE_20__["FlexLayoutModule"],
                _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_14__["MatSnackBarModule"],
                _angular_material_icon__WEBPACK_IMPORTED_MODULE_11__["MatIconModule"],
                _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_7__["MatCheckboxModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_19__["ReactiveFormsModule"],
                _angular_material_input__WEBPACK_IMPORTED_MODULE_12__["MatInputModule"],
                _angular_material_table__WEBPACK_IMPORTED_MODULE_16__["MatTableModule"],
                _angular_material_paginator__WEBPACK_IMPORTED_MODULE_21__["MatPaginatorModule"],
                _angular_material_sort__WEBPACK_IMPORTED_MODULE_15__["MatSortModule"],
                _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_22__["MatProgressSpinnerModule"],
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_19__["FormsModule"],
                _angular_flex_layout__WEBPACK_IMPORTED_MODULE_20__["FlexLayoutModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_25__["RouterModule"],
                _angular_material_form_field__WEBPACK_IMPORTED_MODULE_10__["MatFormFieldModule"],
                _angular_material_input__WEBPACK_IMPORTED_MODULE_12__["MatInputModule"],
                _angular_material_select__WEBPACK_IMPORTED_MODULE_23__["MatSelectModule"],
                _angular_material_expansion__WEBPACK_IMPORTED_MODULE_9__["MatExpansionModule"],
                _angular_material_sort__WEBPACK_IMPORTED_MODULE_15__["MatSortModule"],
                _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_13__["MatSidenavModule"],
                _angular_material_button__WEBPACK_IMPORTED_MODULE_4__["MatButtonModule"],
                _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_5__["MatButtonToggleModule"],
                _angular_material_icon__WEBPACK_IMPORTED_MODULE_11__["MatIconModule"],
                _angular_material_card__WEBPACK_IMPORTED_MODULE_6__["MatCardModule"],
                _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_14__["MatSnackBarModule"],
                _angular_material_dialog__WEBPACK_IMPORTED_MODULE_8__["MatDialogModule"],
                _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_3__["MatAutocompleteModule"],
                _core_entity_subrecord_entity_subrecord_module__WEBPACK_IMPORTED_MODULE_24__["EntitySubrecordModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_19__["ReactiveFormsModule"],
                _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_27__["MatTooltipModule"],
                angulartics2__WEBPACK_IMPORTED_MODULE_28__["Angulartics2Module"],
            ]] });
    return SchoolsModule;
}());

(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](SchoolsModule, { declarations: [_school_block_school_block_component__WEBPACK_IMPORTED_MODULE_18__["SchoolBlockComponent"],
        _schools_list_schools_list_component__WEBPACK_IMPORTED_MODULE_2__["SchoolsListComponent"],
        _school_details_school_details_component__WEBPACK_IMPORTED_MODULE_17__["SchoolDetailsComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_material_table__WEBPACK_IMPORTED_MODULE_16__["MatTableModule"],
        _angular_material_form_field__WEBPACK_IMPORTED_MODULE_10__["MatFormFieldModule"],
        _angular_material_input__WEBPACK_IMPORTED_MODULE_12__["MatInputModule"],
        _angular_material_sort__WEBPACK_IMPORTED_MODULE_15__["MatSortModule"],
        _angular_material_expansion__WEBPACK_IMPORTED_MODULE_9__["MatExpansionModule"],
        _angular_material_button__WEBPACK_IMPORTED_MODULE_4__["MatButtonModule"],
        _angular_flex_layout__WEBPACK_IMPORTED_MODULE_20__["FlexLayoutModule"],
        _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_14__["MatSnackBarModule"],
        _angular_material_icon__WEBPACK_IMPORTED_MODULE_11__["MatIconModule"],
        _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_7__["MatCheckboxModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_19__["ReactiveFormsModule"],
        _angular_material_input__WEBPACK_IMPORTED_MODULE_12__["MatInputModule"],
        _angular_material_table__WEBPACK_IMPORTED_MODULE_16__["MatTableModule"],
        _angular_material_paginator__WEBPACK_IMPORTED_MODULE_21__["MatPaginatorModule"],
        _angular_material_sort__WEBPACK_IMPORTED_MODULE_15__["MatSortModule"],
        _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_22__["MatProgressSpinnerModule"],
        _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_19__["FormsModule"],
        _angular_flex_layout__WEBPACK_IMPORTED_MODULE_20__["FlexLayoutModule"],
        _angular_router__WEBPACK_IMPORTED_MODULE_25__["RouterModule"],
        _angular_material_form_field__WEBPACK_IMPORTED_MODULE_10__["MatFormFieldModule"],
        _angular_material_input__WEBPACK_IMPORTED_MODULE_12__["MatInputModule"],
        _angular_material_select__WEBPACK_IMPORTED_MODULE_23__["MatSelectModule"],
        _angular_material_expansion__WEBPACK_IMPORTED_MODULE_9__["MatExpansionModule"],
        _angular_material_sort__WEBPACK_IMPORTED_MODULE_15__["MatSortModule"],
        _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_13__["MatSidenavModule"],
        _angular_material_button__WEBPACK_IMPORTED_MODULE_4__["MatButtonModule"],
        _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_5__["MatButtonToggleModule"],
        _angular_material_icon__WEBPACK_IMPORTED_MODULE_11__["MatIconModule"],
        _angular_material_card__WEBPACK_IMPORTED_MODULE_6__["MatCardModule"],
        _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_14__["MatSnackBarModule"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_8__["MatDialogModule"],
        _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_3__["MatAutocompleteModule"],
        _core_entity_subrecord_entity_subrecord_module__WEBPACK_IMPORTED_MODULE_24__["EntitySubrecordModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_19__["ReactiveFormsModule"],
        _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_27__["MatTooltipModule"],
        angulartics2__WEBPACK_IMPORTED_MODULE_28__["Angulartics2Module"]], exports: [_school_block_school_block_component__WEBPACK_IMPORTED_MODULE_18__["SchoolBlockComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SchoolsModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_material_table__WEBPACK_IMPORTED_MODULE_16__["MatTableModule"],
                    _angular_material_form_field__WEBPACK_IMPORTED_MODULE_10__["MatFormFieldModule"],
                    _angular_material_input__WEBPACK_IMPORTED_MODULE_12__["MatInputModule"],
                    _angular_material_sort__WEBPACK_IMPORTED_MODULE_15__["MatSortModule"],
                    _angular_material_expansion__WEBPACK_IMPORTED_MODULE_9__["MatExpansionModule"],
                    _angular_material_button__WEBPACK_IMPORTED_MODULE_4__["MatButtonModule"],
                    _angular_flex_layout__WEBPACK_IMPORTED_MODULE_20__["FlexLayoutModule"],
                    _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_14__["MatSnackBarModule"],
                    _angular_material_icon__WEBPACK_IMPORTED_MODULE_11__["MatIconModule"],
                    _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_7__["MatCheckboxModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_19__["ReactiveFormsModule"],
                    _angular_material_input__WEBPACK_IMPORTED_MODULE_12__["MatInputModule"],
                    _angular_material_table__WEBPACK_IMPORTED_MODULE_16__["MatTableModule"],
                    _angular_material_paginator__WEBPACK_IMPORTED_MODULE_21__["MatPaginatorModule"],
                    _angular_material_sort__WEBPACK_IMPORTED_MODULE_15__["MatSortModule"],
                    _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_22__["MatProgressSpinnerModule"],
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_19__["FormsModule"],
                    _angular_flex_layout__WEBPACK_IMPORTED_MODULE_20__["FlexLayoutModule"],
                    _angular_router__WEBPACK_IMPORTED_MODULE_25__["RouterModule"],
                    _angular_material_form_field__WEBPACK_IMPORTED_MODULE_10__["MatFormFieldModule"],
                    _angular_material_input__WEBPACK_IMPORTED_MODULE_12__["MatInputModule"],
                    _angular_material_select__WEBPACK_IMPORTED_MODULE_23__["MatSelectModule"],
                    _angular_material_expansion__WEBPACK_IMPORTED_MODULE_9__["MatExpansionModule"],
                    _angular_material_sort__WEBPACK_IMPORTED_MODULE_15__["MatSortModule"],
                    _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_13__["MatSidenavModule"],
                    _angular_material_button__WEBPACK_IMPORTED_MODULE_4__["MatButtonModule"],
                    _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_5__["MatButtonToggleModule"],
                    _angular_material_icon__WEBPACK_IMPORTED_MODULE_11__["MatIconModule"],
                    _angular_material_card__WEBPACK_IMPORTED_MODULE_6__["MatCardModule"],
                    _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_14__["MatSnackBarModule"],
                    _angular_material_dialog__WEBPACK_IMPORTED_MODULE_8__["MatDialogModule"],
                    _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_3__["MatAutocompleteModule"],
                    _core_entity_subrecord_entity_subrecord_module__WEBPACK_IMPORTED_MODULE_24__["EntitySubrecordModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_19__["ReactiveFormsModule"],
                    _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_27__["MatTooltipModule"],
                    angulartics2__WEBPACK_IMPORTED_MODULE_28__["Angulartics2Module"],
                ],
                declarations: [
                    _school_block_school_block_component__WEBPACK_IMPORTED_MODULE_18__["SchoolBlockComponent"],
                    _schools_list_schools_list_component__WEBPACK_IMPORTED_MODULE_2__["SchoolsListComponent"],
                    _school_details_school_details_component__WEBPACK_IMPORTED_MODULE_17__["SchoolDetailsComponent"],
                ],
                exports: [_school_block_school_block_component__WEBPACK_IMPORTED_MODULE_18__["SchoolBlockComponent"]],
                providers: [_schools_service__WEBPACK_IMPORTED_MODULE_26__["SchoolsService"]],
            }]
    }], null, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/schools/schools.service.ts":
/*!**************************************************************!*\
  !*** ./src/app/child-dev-project/schools/schools.service.ts ***!
  \**************************************************************/
/*! exports provided: SchoolsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SchoolsService", function() { return SchoolsService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _model_school__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./model/school */ "./src/app/child-dev-project/schools/model/school.ts");
/* harmony import */ var _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/entity/entity-mapper.service */ "./src/app/core/entity/entity-mapper.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _core_database_database__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/database/database */ "./src/app/core/database/database.ts");
/* harmony import */ var _core_entity_schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/entity/schema/entity-schema.service */ "./src/app/core/entity/schema/entity-schema.service.ts");
/* harmony import */ var _children_children_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../children/children.service */ "./src/app/child-dev-project/children/children.service.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};












var SchoolsService = /** @class */ (function () {
    function SchoolsService(entityMapper, entitySchemaService, db, childrenService) {
        this.entityMapper = entityMapper;
        this.entitySchemaService = entitySchemaService;
        this.db = db;
        this.childrenService = childrenService;
    }
    SchoolsService.prototype.getSchools = function () {
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(this.entityMapper.loadType(_model_school__WEBPACK_IMPORTED_MODULE_1__["School"]));
    };
    SchoolsService.prototype.getChildrenForSchool = function (schoolId) {
        return __awaiter(this, void 0, void 0, function () {
            var relations, children, relations_1, relations_1_1, relation, _a, _b, e_1_1;
            var e_1, _c;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0: return [4 /*yield*/, this.childrenService.queryRelationsOf("school", schoolId)];
                    case 1:
                        relations = _d.sent();
                        children = [];
                        _d.label = 2;
                    case 2:
                        _d.trys.push([2, 7, 8, 9]);
                        relations_1 = __values(relations), relations_1_1 = relations_1.next();
                        _d.label = 3;
                    case 3:
                        if (!!relations_1_1.done) return [3 /*break*/, 6];
                        relation = relations_1_1.value;
                        _b = (_a = children).push;
                        return [4 /*yield*/, this.childrenService.getChild(relation.childId).toPromise()];
                    case 4:
                        _b.apply(_a, [_d.sent()]);
                        _d.label = 5;
                    case 5:
                        relations_1_1 = relations_1.next();
                        return [3 /*break*/, 3];
                    case 6: return [3 /*break*/, 9];
                    case 7:
                        e_1_1 = _d.sent();
                        e_1 = { error: e_1_1 };
                        return [3 /*break*/, 9];
                    case 8:
                        try {
                            if (relations_1_1 && !relations_1_1.done && (_c = relations_1.return)) _c.call(relations_1);
                        }
                        finally { if (e_1) throw e_1.error; }
                        return [7 /*endfinally*/];
                    case 9: return [2 /*return*/, children];
                }
            });
        });
    };
    SchoolsService.ɵfac = function SchoolsService_Factory(t) { return new (t || SchoolsService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__["EntityMapperService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_core_entity_schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_5__["EntitySchemaService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_core_database_database__WEBPACK_IMPORTED_MODULE_4__["Database"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_children_children_service__WEBPACK_IMPORTED_MODULE_6__["ChildrenService"])); };
    SchoolsService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: SchoolsService, factory: SchoolsService.ɵfac });
    return SchoolsService;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SchoolsService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__["EntityMapperService"] }, { type: _core_entity_schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_5__["EntitySchemaService"] }, { type: _core_database_database__WEBPACK_IMPORTED_MODULE_4__["Database"] }, { type: _children_children_service__WEBPACK_IMPORTED_MODULE_6__["ChildrenService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/child-dev-project/warning-level.ts":
/*!****************************************************!*\
  !*** ./src/app/child-dev-project/warning-level.ts ***!
  \****************************************************/
/*! exports provided: WarningLevel, WarningLevelColor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WarningLevel", function() { return WarningLevel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WarningLevelColor", function() { return WarningLevelColor; });
var WarningLevel;
(function (WarningLevel) {
    WarningLevel["OK"] = "OK";
    WarningLevel["WARNING"] = "WARNING";
    WarningLevel["URGENT"] = "URGENT";
    WarningLevel["NONE"] = "";
})(WarningLevel || (WarningLevel = {}));
function WarningLevelColor(warningLevel) {
    switch (warningLevel) {
        case WarningLevel.OK:
            return "#90ee9040";
        case WarningLevel.WARNING:
            return "#ffa50080";
        case WarningLevel.URGENT:
            return "#fd727280";
        default:
            return "";
    }
}


/***/ }),

/***/ "./src/app/conflict-resolution/auto-resolution/conflict-resolution-strategy.ts":
/*!*************************************************************************************!*\
  !*** ./src/app/conflict-resolution/auto-resolution/conflict-resolution-strategy.ts ***!
  \*************************************************************************************/
/*! exports provided: CONFLICT_RESOLUTION_STRATEGY */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CONFLICT_RESOLUTION_STRATEGY", function() { return CONFLICT_RESOLUTION_STRATEGY; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");

/**
 * Use this token to provide (and thereby register) custom implementations of {@link ConflictResolutionStrategy}.
 *
 * `{ provide: CONFLICT_RESOLUTION_STRATEGY, useClass: MyConflictResolutionStrategy, multi: true }`
 *
 * see {@link ConflictResolutionModule}
 */
var CONFLICT_RESOLUTION_STRATEGY = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]("ConflictResolutionStrategy");


/***/ }),

/***/ "./src/app/core/admin/admin.guard.ts":
/*!*******************************************!*\
  !*** ./src/app/core/admin/admin.guard.ts ***!
  \*******************************************/
/*! exports provided: AdminGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdminGuard", function() { return AdminGuard; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _session_session_service_session_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../session/session-service/session.service */ "./src/app/core/session/session-service/session.service.ts");




/**
 * Guard checking for the currently logged in user's admin permissions.
 */
var AdminGuard = /** @class */ (function () {
    function AdminGuard(_sessionService) {
        this._sessionService = _sessionService;
    }
    /**
     * Whether the currently logged in user (if any) has administrative rights.
     */
    AdminGuard.prototype.isAdmin = function () {
        if (this._sessionService.isLoggedIn()) {
            return this._sessionService.getCurrentUser().isAdmin();
        }
    };
    /**
     * Allows activation (i.e. returns true) only if a user with admin rights is currently logged in.
     * (used by Angular Routing system when added to certain routes)
     *
     * @param next The next route navigated to if allowed (provided by Angular Routing)
     * @param state The current state (provided by Angular Routing)
     */
    AdminGuard.prototype.canActivate = function (next, state) {
        return this.isAdmin();
    };
    AdminGuard.ɵfac = function AdminGuard_Factory(t) { return new (t || AdminGuard)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_1__["SessionService"])); };
    AdminGuard.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: AdminGuard, factory: AdminGuard.ɵfac, providedIn: "root" });
    return AdminGuard;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AdminGuard, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root",
            }]
    }], function () { return [{ type: _session_session_service_session_service__WEBPACK_IMPORTED_MODULE_1__["SessionService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/admin/admin.module.ts":
/*!********************************************!*\
  !*** ./src/app/core/admin/admin.module.ts ***!
  \********************************************/
/*! exports provided: AdminModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdminModule", function() { return AdminModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _admin_admin_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./admin/admin.component */ "./src/app/core/admin/admin/admin.component.ts");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/snack-bar */ "./node_modules/@angular/material/fesm5/snack-bar.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _alerts_alerts_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../alerts/alerts.module */ "./src/app/core/alerts/alerts.module.ts");
/* harmony import */ var _entity_subrecord_entity_subrecord_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../entity-subrecord/entity-subrecord.module */ "./src/app/core/entity-subrecord/entity-subrecord.module.ts");
/* harmony import */ var _admin_guard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./admin.guard */ "./src/app/core/admin/admin.guard.ts");
/* harmony import */ var _entity_entity_module__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../entity/entity.module */ "./src/app/core/entity/entity.module.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _services_child_photo_update_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./services/child-photo-update.service */ "./src/app/core/admin/services/child-photo-update.service.ts");
/* harmony import */ var _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/checkbox */ "./node_modules/@angular/material/fesm5/checkbox.js");
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/table */ "./node_modules/@angular/material/fesm5/table.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/fesm5/dialog.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _user_list_user_list_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./user-list/user-list.component */ "./src/app/core/admin/user-list/user-list.component.ts");
/* harmony import */ var _export_data_export_data_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./export-data/export-data.component */ "./src/app/core/admin/export-data/export-data.component.ts");
/* harmony import */ var _services_backup_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./services/backup.service */ "./src/app/core/admin/services/backup.service.ts");
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @angular/material/tooltip */ "./node_modules/@angular/material/fesm5/tooltip.js");
























/**
 * GUI for administrative users to manage and maintain background and technical aspects of the app.
 */
var AdminModule = /** @class */ (function () {
    function AdminModule() {
    }
    AdminModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: AdminModule });
    AdminModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function AdminModule_Factory(t) { return new (t || AdminModule)(); }, providers: [
            _admin_guard__WEBPACK_IMPORTED_MODULE_8__["AdminGuard"],
            _services_child_photo_update_service__WEBPACK_IMPORTED_MODULE_11__["ChildPhotoUpdateService"],
            _services_backup_service__WEBPACK_IMPORTED_MODULE_21__["BackupService"],
            _export_data_export_data_component__WEBPACK_IMPORTED_MODULE_20__["ExportDataComponent"],
        ], imports: [[
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_5__["BrowserModule"],
                _angular_material_button__WEBPACK_IMPORTED_MODULE_3__["MatButtonModule"],
                _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_4__["MatSnackBarModule"],
                _angular_material_table__WEBPACK_IMPORTED_MODULE_13__["MatTableModule"],
                _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_12__["MatCheckboxModule"],
                _alerts_alerts_module__WEBPACK_IMPORTED_MODULE_6__["AlertsModule"],
                _entity_subrecord_entity_subrecord_module__WEBPACK_IMPORTED_MODULE_7__["EntitySubrecordModule"],
                _entity_entity_module__WEBPACK_IMPORTED_MODULE_9__["EntityModule"],
                _angular_common_http__WEBPACK_IMPORTED_MODULE_10__["HttpClientModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_14__["FormsModule"],
                _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__["MatDialogModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_14__["ReactiveFormsModule"],
                _angular_material_form_field__WEBPACK_IMPORTED_MODULE_16__["MatFormFieldModule"],
                _angular_material_input__WEBPACK_IMPORTED_MODULE_17__["MatInputModule"],
                _angular_material_icon__WEBPACK_IMPORTED_MODULE_18__["MatIconModule"],
                _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_22__["MatTooltipModule"],
            ]] });
    return AdminModule;
}());

(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](AdminModule, { declarations: [_admin_admin_component__WEBPACK_IMPORTED_MODULE_2__["AdminComponent"], _user_list_user_list_component__WEBPACK_IMPORTED_MODULE_19__["UserListComponent"], _export_data_export_data_component__WEBPACK_IMPORTED_MODULE_20__["ExportDataComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_platform_browser__WEBPACK_IMPORTED_MODULE_5__["BrowserModule"],
        _angular_material_button__WEBPACK_IMPORTED_MODULE_3__["MatButtonModule"],
        _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_4__["MatSnackBarModule"],
        _angular_material_table__WEBPACK_IMPORTED_MODULE_13__["MatTableModule"],
        _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_12__["MatCheckboxModule"],
        _alerts_alerts_module__WEBPACK_IMPORTED_MODULE_6__["AlertsModule"],
        _entity_subrecord_entity_subrecord_module__WEBPACK_IMPORTED_MODULE_7__["EntitySubrecordModule"],
        _entity_entity_module__WEBPACK_IMPORTED_MODULE_9__["EntityModule"],
        _angular_common_http__WEBPACK_IMPORTED_MODULE_10__["HttpClientModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_14__["FormsModule"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__["MatDialogModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_14__["ReactiveFormsModule"],
        _angular_material_form_field__WEBPACK_IMPORTED_MODULE_16__["MatFormFieldModule"],
        _angular_material_input__WEBPACK_IMPORTED_MODULE_17__["MatInputModule"],
        _angular_material_icon__WEBPACK_IMPORTED_MODULE_18__["MatIconModule"],
        _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_22__["MatTooltipModule"]], exports: [_export_data_export_data_component__WEBPACK_IMPORTED_MODULE_20__["ExportDataComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AdminModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_platform_browser__WEBPACK_IMPORTED_MODULE_5__["BrowserModule"],
                    _angular_material_button__WEBPACK_IMPORTED_MODULE_3__["MatButtonModule"],
                    _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_4__["MatSnackBarModule"],
                    _angular_material_table__WEBPACK_IMPORTED_MODULE_13__["MatTableModule"],
                    _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_12__["MatCheckboxModule"],
                    _alerts_alerts_module__WEBPACK_IMPORTED_MODULE_6__["AlertsModule"],
                    _entity_subrecord_entity_subrecord_module__WEBPACK_IMPORTED_MODULE_7__["EntitySubrecordModule"],
                    _entity_entity_module__WEBPACK_IMPORTED_MODULE_9__["EntityModule"],
                    _angular_common_http__WEBPACK_IMPORTED_MODULE_10__["HttpClientModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_14__["FormsModule"],
                    _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__["MatDialogModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_14__["ReactiveFormsModule"],
                    _angular_material_form_field__WEBPACK_IMPORTED_MODULE_16__["MatFormFieldModule"],
                    _angular_material_input__WEBPACK_IMPORTED_MODULE_17__["MatInputModule"],
                    _angular_material_icon__WEBPACK_IMPORTED_MODULE_18__["MatIconModule"],
                    _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_22__["MatTooltipModule"],
                ],
                declarations: [_admin_admin_component__WEBPACK_IMPORTED_MODULE_2__["AdminComponent"], _user_list_user_list_component__WEBPACK_IMPORTED_MODULE_19__["UserListComponent"], _export_data_export_data_component__WEBPACK_IMPORTED_MODULE_20__["ExportDataComponent"]],
                providers: [
                    _admin_guard__WEBPACK_IMPORTED_MODULE_8__["AdminGuard"],
                    _services_child_photo_update_service__WEBPACK_IMPORTED_MODULE_11__["ChildPhotoUpdateService"],
                    _services_backup_service__WEBPACK_IMPORTED_MODULE_21__["BackupService"],
                    _export_data_export_data_component__WEBPACK_IMPORTED_MODULE_20__["ExportDataComponent"],
                ],
                exports: [_export_data_export_data_component__WEBPACK_IMPORTED_MODULE_20__["ExportDataComponent"]],
            }]
    }], null, null); })();


/***/ }),

/***/ "./src/app/core/admin/admin/admin.component.ts":
/*!*****************************************************!*\
  !*** ./src/app/core/admin/admin/admin.component.ts ***!
  \*****************************************************/
/*! exports provided: AdminComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdminComponent", function() { return AdminComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_config_app_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../app-config/app-config */ "./src/app/core/app-config/app-config.ts");
/* harmony import */ var _alerts_alert_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../alerts/alert.service */ "./src/app/core/alerts/alert.service.ts");
/* harmony import */ var file_saver__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! file-saver */ "./node_modules/file-saver/dist/FileSaver.min.js");
/* harmony import */ var file_saver__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _services_backup_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/backup.service */ "./src/app/core/admin/services/backup.service.ts");
/* harmony import */ var _confirmation_dialog_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../confirmation-dialog/confirmation-dialog.service */ "./src/app/core/confirmation-dialog/confirmation-dialog.service.ts");
/* harmony import */ var _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/snack-bar */ "./node_modules/@angular/material/fesm5/snack-bar.js");
/* harmony import */ var pouchdb_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! pouchdb-browser */ "./node_modules/pouchdb-browser/lib/index.es.js");
/* harmony import */ var _services_child_photo_update_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../services/child-photo-update.service */ "./src/app/core/admin/services/child-photo-update.service.ts");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");

















function AdminComponent_tr_57_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var alert_r3 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](alert_r3.type);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](alert_r3.message);
} }
/**
 * Admin GUI giving administrative users different options/actions.
 */
var AdminComponent = /** @class */ (function () {
    function AdminComponent(alertService, backupService, confirmationDialog, snackBar, childPhotoUpdateService) {
        this.alertService = alertService;
        this.backupService = backupService;
        this.confirmationDialog = confirmationDialog;
        this.snackBar = snackBar;
        this.childPhotoUpdateService = childPhotoUpdateService;
        /** app-wide configuration */
        this.appConfig = _app_config_app_config__WEBPACK_IMPORTED_MODULE_1__["AppConfig"].settings;
    }
    AdminComponent.prototype.ngOnInit = function () {
        this.alerts = this.alertService.alerts;
        this.db = new pouchdb_browser__WEBPACK_IMPORTED_MODULE_7__["default"](_app_config_app_config__WEBPACK_IMPORTED_MODULE_1__["AppConfig"].settings.database.name);
    };
    /**
     * Trigger an automatic detection & update of Child entities' photo filenames.
     */
    AdminComponent.prototype.updatePhotoFilenames = function () {
        this.childPhotoUpdateService.updateChildrenPhotoFilenames();
    };
    /**
     * Send a reference of the PouchDB to the browser's developer console for real-time debugging.
     */
    AdminComponent.prototype.debugDatabase = function () {
        console.log(this.db);
    };
    /**
     * Download a full backup of the database as (json) file.
     */
    AdminComponent.prototype.saveBackup = function () {
        var _this = this;
        this.backupService
            .getJsonExport()
            .then(function (bac) { return _this.startDownload(bac, "text/json", "backup.json"); });
    };
    /**
     * Download a full export of the database as csv file.
     */
    AdminComponent.prototype.saveCsvExport = function () {
        var _this = this;
        this.backupService
            .getCsvExport()
            .then(function (csv) { return _this.startDownload(csv, "text/csv", "export.csv"); });
    };
    AdminComponent.prototype.startDownload = function (data, type, name) {
        var blob = new Blob([data], { type: type });
        file_saver__WEBPACK_IMPORTED_MODULE_3___default.a.saveAs(blob, name);
    };
    AdminComponent.prototype.readFile = function (file) {
        return new Promise(function (resolve) {
            var fileReader = new FileReader();
            fileReader.onload = function () {
                resolve(fileReader.result);
            };
            fileReader.readAsText(file);
        });
    };
    /**
     * Reset the database to the state from the loaded backup file.
     * @param file The file object of the backup to be restored
     */
    AdminComponent.prototype.loadBackup = function (file) {
        var _this = this;
        var pRestorePoint = this.backupService.getJsonExport();
        var pLoadedData = this.readFile(file);
        Promise.all([pLoadedData, pRestorePoint]).then(function (r) {
            var newData = r[0];
            var restorePoint = r[1];
            var dialogRef = _this.confirmationDialog.openDialog("Overwrite complete database?", "Are you sure you want to restore this backup? " +
                "This will delete all " +
                restorePoint.split("\n").length +
                " existing records in the database, " +
                "restoring " +
                newData.split("\n").length +
                " records from the loaded file.");
            dialogRef.afterClosed().subscribe(function (confirmed) {
                if (confirmed) {
                    _this.backupService.clearDatabase();
                    _this.backupService.importJson(newData, true);
                    var snackBarRef = _this.snackBar.open("Backup restored", "Undo", {
                        duration: 8000,
                    });
                    snackBarRef.onAction().subscribe(function () {
                        _this.backupService.clearDatabase();
                        _this.backupService.importJson(restorePoint, true);
                    });
                }
            });
        });
    };
    /**
     * Add the data from the loaded file to the database, inserting and updating records.
     * @param file The file object of the csv data to be loaded
     */
    AdminComponent.prototype.loadCsv = function (file) {
        var _this = this;
        var pRestorePoint = this.backupService.getJsonExport();
        var pLoadedData = this.readFile(file);
        Promise.all([pLoadedData, pRestorePoint]).then(function (r) {
            var newData = r[0];
            var restorePoint = r[1];
            var dialogRef = _this.confirmationDialog.openDialog("Import new data?", "Are you sure you want to import this file? " +
                "This will add or update " +
                (newData.trim().split("\n").length - 1) +
                " records from the loaded file. " +
                'Existing records with same "_id" in the database will be overwritten!');
            dialogRef.afterClosed().subscribe(function (confirmed) {
                if (confirmed) {
                    _this.backupService.importCsv(newData, true);
                    var snackBarRef = _this.snackBar.open("Import completed", "Undo", {
                        duration: 8000,
                    });
                    snackBarRef.onAction().subscribe(function () {
                        _this.backupService.clearDatabase();
                        _this.backupService.importJson(restorePoint, true);
                    });
                }
            });
        });
    };
    /**
     * Reset the database removing all entities except user accounts.
     */
    AdminComponent.prototype.clearDatabase = function () {
        var _this = this;
        this.backupService.getJsonExport().then(function (restorePoint) {
            var dialogRef = _this.confirmationDialog.openDialog("Empty complete database?", "Are you sure you want to clear the database? " +
                "This will delete all " +
                restorePoint.split("\n").length +
                " existing records in the database!");
            dialogRef.afterClosed().subscribe(function (confirmed) {
                if (confirmed) {
                    _this.backupService.clearDatabase();
                    var snackBarRef = _this.snackBar.open("Import completed", "Undo", {
                        duration: 8000,
                    });
                    snackBarRef.onAction().subscribe(function () {
                        _this.backupService.importJson(restorePoint, true);
                    });
                }
            });
        });
    };
    AdminComponent.ɵfac = function AdminComponent_Factory(t) { return new (t || AdminComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_alerts_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_backup_service__WEBPACK_IMPORTED_MODULE_4__["BackupService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_confirmation_dialog_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_5__["ConfirmationDialogService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_6__["MatSnackBar"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_child_photo_update_service__WEBPACK_IMPORTED_MODULE_8__["ChildPhotoUpdateService"])); };
    AdminComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AdminComponent, selectors: [["app-admin"]], decls: 58, vars: 4, consts: [[2, "font-style", "italic", "font-weight", "bold"], ["mat-stroked-button", "", 3, "click"], ["type", "file", 2, "display", "none", 3, "change"], ["backupImport", ""], ["csvImport", ""], [4, "ngFor", "ngForOf"]], template: function AdminComponent_Template(rf, ctx) { if (rf & 1) {
            var _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "h1");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Administration & Configuration\n");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "p", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, " Warning: This section is intended for system administrators only. Make sure you know what you are doing.\n");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "br");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](5, "hr");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "h2");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7, "Utility Functions");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "p");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "button", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AdminComponent_Template_button_click_9_listener() { return ctx.updatePhotoFilenames(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](10, "Auto-Update children's photo filenames");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](11, "br");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](12, "hr");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "h2");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](14, "Backup");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "p");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "button", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AdminComponent_Template_button_click_16_listener() { return ctx.saveBackup(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](17, "Download Backup (.json)");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](18, "\u00A0 ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](19, "button", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AdminComponent_Template_button_click_19_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); var _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](22); return _r0.click(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](20, "Restore Backup (.json)");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](21, "input", 2, 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function AdminComponent_Template_input_change_21_listener($event) { return ctx.loadBackup($event.target.files[0]); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](23, "br");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](24, "hr");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](25, "h2");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](26, "Export");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](27, "p");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](28, "button", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AdminComponent_Template_button_click_28_listener() { return ctx.saveCsvExport(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](29, "Download whole database (.csv)");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](30, "\u00A0 ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](31, "button", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AdminComponent_Template_button_click_31_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); var _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](34); return _r1.click(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](32, "Import (.csv)");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](33, "input", 2, 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function AdminComponent_Template_input_change_33_listener($event) { return ctx.loadCsv($event.target.files[0]); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](35, "br");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](36, "hr");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](37, "h2");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](38, "AppConfig");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](39, "p");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](40);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](41, "json");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](42, "br");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](43, "hr");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](44, "h2");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](45, "Debug the PouchDB");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](46, "p");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](47, "button", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AdminComponent_Template_button_click_47_listener() { return ctx.debugDatabase(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](48, "Send to console.log()");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](49, "p");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](50, "button", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AdminComponent_Template_button_click_50_listener() { return ctx.clearDatabase(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](51, "Empty Database");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](52, "br");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](53, "hr");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](54, "h2");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](55, "Alert Log");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](56, "table");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](57, AdminComponent_tr_57_Template, 5, 2, "tr", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](40);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](41, 2, ctx.appConfig));
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](17);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.alerts.reverse());
        } }, directives: [_angular_material_button__WEBPACK_IMPORTED_MODULE_9__["MatButton"], _angular_common__WEBPACK_IMPORTED_MODULE_10__["NgForOf"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_10__["JsonPipe"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvcmUvYWRtaW4vYWRtaW4vYWRtaW4uY29tcG9uZW50LnNjc3MifQ== */"] });
    return AdminComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AdminComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-admin",
                templateUrl: "./admin.component.html",
                styleUrls: ["./admin.component.scss"],
            }]
    }], function () { return [{ type: _alerts_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"] }, { type: _services_backup_service__WEBPACK_IMPORTED_MODULE_4__["BackupService"] }, { type: _confirmation_dialog_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_5__["ConfirmationDialogService"] }, { type: _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_6__["MatSnackBar"] }, { type: _services_child_photo_update_service__WEBPACK_IMPORTED_MODULE_8__["ChildPhotoUpdateService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/admin/export-data/export-data.component.ts":
/*!*****************************************************************!*\
  !*** ./src/app/core/admin/export-data/export-data.component.ts ***!
  \*****************************************************************/
/*! exports provided: ExportDataComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExportDataComponent", function() { return ExportDataComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_backup_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/backup.service */ "./src/app/core/admin/services/backup.service.ts");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");





var _c0 = ["*"];
/**
 * Generic export data button that allows the user to download a file of the given data.
 */
var ExportDataComponent = /** @class */ (function () {
    function ExportDataComponent(backupService) {
        this.backupService = backupService;
        /** data to be exported */
        this.data = [];
        /** What kind of data should be export? Currently implemented are 'json', 'csv' */
        this.format = "csv";
        /** filename for the download of the exported data */
        this.filename = "exportedData";
    }
    /**
     * Trigger the download of the export file.
     */
    ExportDataComponent.prototype.exportData = function () {
        var blobData = this.getFormattedBlobData();
        var link = this.createDownloadLink(blobData);
        link.click();
    };
    ExportDataComponent.prototype.createDownloadLink = function (blobData) {
        var link = document.createElement("a");
        link.setAttribute("style", "display:none;");
        document.body.appendChild(link);
        link.href = window.URL.createObjectURL(blobData);
        link.download = this.filename + "." + this.format.toLowerCase();
        link.addEventListener("click", function () { return window.URL.revokeObjectURL(blobData); });
        return link;
    };
    ExportDataComponent.prototype.getFormattedBlobData = function () {
        var result = "";
        switch (this.format.toLowerCase()) {
            case "json":
                result = this.backupService.createJson(this.data);
                return new Blob([result], { type: "application/json" });
            case "csv":
                result = this.backupService.createCsv(this.data);
                return new Blob([result], { type: "text/csv" });
            default:
                console.warn("Not supported format:", this.format);
                return new Blob([""]);
        }
    };
    ExportDataComponent.ɵfac = function ExportDataComponent_Factory(t) { return new (t || ExportDataComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_backup_service__WEBPACK_IMPORTED_MODULE_1__["BackupService"])); };
    ExportDataComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ExportDataComponent, selectors: [["app-export-data"]], inputs: { data: "data", format: "format", filename: "filename" }, ngContentSelectors: _c0, decls: 2, vars: 0, consts: [["mat-stroked-button", "", "color", "accent", 3, "click"]], template: function ExportDataComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ExportDataComponent_Template_button_click_0_listener() { return ctx.exportData(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } }, directives: [_angular_material_button__WEBPACK_IMPORTED_MODULE_2__["MatButton"]], styles: ["button[_ngcontent-%COMP%] {\n  margin: 4px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY29yZS9hZG1pbi9leHBvcnQtZGF0YS9leHBvcnQtZGF0YS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29yZS9hZG1pbi9leHBvcnQtZGF0YS9leHBvcnQtZGF0YS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFdBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL2NvcmUvYWRtaW4vZXhwb3J0LWRhdGEvZXhwb3J0LWRhdGEuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJidXR0b24ge1xuICBtYXJnaW46IDRweDtcbn1cbiIsImJ1dHRvbiB7XG4gIG1hcmdpbjogNHB4O1xufSJdfQ== */"] });
    return ExportDataComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ExportDataComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-export-data",
                templateUrl: "./export-data.component.html",
                styleUrls: ["./export-data.component.scss"],
            }]
    }], function () { return [{ type: _services_backup_service__WEBPACK_IMPORTED_MODULE_1__["BackupService"] }]; }, { data: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], format: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], filename: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "./src/app/core/admin/services/backup.service.ts":
/*!*******************************************************!*\
  !*** ./src/app/core/admin/services/backup.service.ts ***!
  \*******************************************************/
/*! exports provided: BackupService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BackupService", function() { return BackupService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _database_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../database/database */ "./src/app/core/database/database.ts");
/* harmony import */ var _user_user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../user/user */ "./src/app/core/user/user.ts");
/* harmony import */ var ngx_papaparse__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ngx-papaparse */ "./node_modules/ngx-papaparse/fesm5/ngx-papaparse.js");
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};







/**
 * Create and load backups of the database.
 */
var BackupService = /** @class */ (function () {
    function BackupService(db, papa) {
        this.db = db;
        this.papa = papa;
    }
    /**
     * Creates a List of JSON elements separated by `BackupService.SEPARATOR_ROW` holding all elements of the database.
     * This method can be used to created a backup of the data.
     *
     * @returns Promise<string> a string containing all elements of the database separated by SEPARATOR_ROW
     */
    BackupService.prototype.getJsonExport = function () {
        var _this = this;
        return this.db.getAll().then(function (results) { return _this.createJson(results); });
    };
    /**
     * Creates a JSON string of the given data.
     *
     * @param data the data which should be converted to JSON
     * @returns string containing all the values stringified elements of the input data
     */
    BackupService.prototype.createJson = function (data) {
        var res = "";
        data.forEach(function (r) {
            res += JSON.stringify(r) + BackupService.SEPARATOR_ROW;
        });
        return res.trim();
    };
    /**
     * Creates a CSV string of the whole database
     *
     * @returns string a valid CSV string
     */
    BackupService.prototype.getCsvExport = function () {
        var _this = this;
        return this.db.getAll().then(function (results) { return _this.createCsv(results); });
    };
    /**
     * Creates a CSV string of the input data
     *
     * @param data an array of elements
     * @returns string a valid CSV string of the input data
     */
    BackupService.prototype.createCsv = function (data) {
        // create list of row descriptions for the csv string
        var allFields = ["_id", "_rev"];
        data.forEach(function (element) { return allFields.push.apply(allFields, __spread(Object.keys(element))); });
        var uniqueFields = __spread(new Set(allFields)); // creates list with unique elements
        return this.papa.unparse({ data: data, fields: uniqueFields }, { quotes: true, header: true });
    };
    /**
     * Removes all but the user entities of the database
     *
     * @returns Promise<any> a promise that resolves after all remove operations are done
     */
    BackupService.prototype.clearDatabase = function () {
        var _this = this;
        var userEntityPrefix = new _user_user__WEBPACK_IMPORTED_MODULE_2__["User"]("").getType() + ":";
        return this.db.getAll().then(function (allDocs) {
            var p = [];
            allDocs.forEach(function (row) {
                if (!row._id.startsWith(userEntityPrefix)) {
                    // skip User entities in order to not break login!
                    p.push(_this.db.remove(row));
                }
            });
            return Promise.all(p);
        });
    };
    /**
     * Fills the database with the provided JSON data.
     * Data should be generated by the `getJsonExport` function
     *
     * @param json An array of entities to be written to the database
     * @param forceUpdate should existing objects be overridden? Default false
     *
     * @returns Promise<any> a promise that resolves after all save operations are done
     */
    BackupService.prototype.importJson = function (json, forceUpdate) {
        var _this = this;
        if (forceUpdate === void 0) { forceUpdate = false; }
        var promises = [];
        json.split(BackupService.SEPARATOR_ROW).forEach(function (record) {
            promises.push(_this.db.put(JSON.parse(record), forceUpdate));
        });
        return Promise.all(promises);
    };
    /**
     * Fills the database with the elements of the CSV string
     *
     * @param csv a valid CSV string
     * @param forceUpdate should existing elements be overridden? Default false
     *
     * @returns Promise<any> a promise that resolves after all save operations are done
     */
    BackupService.prototype.importCsv = function (csv, forceUpdate) {
        var _this = this;
        if (forceUpdate === void 0) { forceUpdate = false; }
        var promises = [];
        var parsedCsv = this.papa.parse(csv, {
            header: true,
            dynamicTyping: true,
            skipEmptyLines: true,
        });
        parsedCsv.data.forEach(function (record) {
            // remove undefined properties
            for (var propertyName in record) {
                if (record[propertyName] === null) {
                    delete record[propertyName];
                }
            }
            promises.push(_this.db.put(record, forceUpdate));
        });
        return Promise.all(promises);
    };
    /** CSV row separator */
    BackupService.SEPARATOR_ROW = "\n";
    /** CSV column/field separator */
    BackupService.SEPARATOR_COL = ",";
    BackupService.ɵfac = function BackupService_Factory(t) { return new (t || BackupService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_database_database__WEBPACK_IMPORTED_MODULE_1__["Database"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](ngx_papaparse__WEBPACK_IMPORTED_MODULE_3__["Papa"])); };
    BackupService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: BackupService, factory: BackupService.ɵfac, providedIn: "root" });
    return BackupService;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BackupService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root",
            }]
    }], function () { return [{ type: _database_database__WEBPACK_IMPORTED_MODULE_1__["Database"] }, { type: ngx_papaparse__WEBPACK_IMPORTED_MODULE_3__["Papa"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/admin/services/child-photo-update.service.ts":
/*!*******************************************************************!*\
  !*** ./src/app/core/admin/services/child-photo-update.service.ts ***!
  \*******************************************************************/
/*! exports provided: ChildPhotoUpdateService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChildPhotoUpdateService", function() { return ChildPhotoUpdateService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../entity/entity-mapper.service */ "./src/app/core/entity/entity-mapper.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _child_dev_project_children_model_child__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../child-dev-project/children/model/child */ "./src/app/child-dev-project/children/model/child.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};







/**
 * Utility service to automatically detect and update filenames for Child entities' photos.
 */
var ChildPhotoUpdateService = /** @class */ (function () {
    function ChildPhotoUpdateService(entityService, httpClient) {
        this.entityService = entityService;
        this.httpClient = httpClient;
    }
    /**
     * Tries to detect and update the filename of an existing photo for all Child entities,
     * saving the entities that were updated.
     */
    ChildPhotoUpdateService.prototype.updateChildrenPhotoFilenames = function () {
        return __awaiter(this, void 0, void 0, function () {
            var children, children_1, children_1_1, child, e_1_1;
            var e_1, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0: return [4 /*yield*/, this.entityService.loadType(_child_dev_project_children_model_child__WEBPACK_IMPORTED_MODULE_3__["Child"])];
                    case 1:
                        children = _b.sent();
                        _b.label = 2;
                    case 2:
                        _b.trys.push([2, 8, 9, 10]);
                        children_1 = __values(children), children_1_1 = children_1.next();
                        _b.label = 3;
                    case 3:
                        if (!!children_1_1.done) return [3 /*break*/, 7];
                        child = children_1_1.value;
                        return [4 /*yield*/, this.updatePhotoIfFileExists(child, child.projectNumber + ".png")];
                    case 4:
                        _b.sent();
                        return [4 /*yield*/, this.updatePhotoIfFileExists(child, child.projectNumber + ".jpg")];
                    case 5:
                        _b.sent();
                        _b.label = 6;
                    case 6:
                        children_1_1 = children_1.next();
                        return [3 /*break*/, 3];
                    case 7: return [3 /*break*/, 10];
                    case 8:
                        e_1_1 = _b.sent();
                        e_1 = { error: e_1_1 };
                        return [3 /*break*/, 10];
                    case 9:
                        try {
                            if (children_1_1 && !children_1_1.done && (_a = children_1.return)) _a.call(children_1);
                        }
                        finally { if (e_1) throw e_1.error; }
                        return [7 /*endfinally*/];
                    case 10: return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Check (and if it exists update) the Child's photo file.
     * @param child The child to be updated
     * @param filename A guess for a likely filename that needs to be checked
     */
    ChildPhotoUpdateService.prototype.updatePhotoIfFileExists = function (child, filename) {
        return __awaiter(this, void 0, void 0, function () {
            var fileExists;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (child.photoFile && child.photoFile !== "") {
                            // do not overwrite existing path
                            return [2 /*return*/];
                        }
                        return [4 /*yield*/, this.checkIfFileExists(_child_dev_project_children_model_child__WEBPACK_IMPORTED_MODULE_3__["Child"].generatePhotoPath(filename))];
                    case 1:
                        fileExists = _a.sent();
                        if (fileExists) {
                            child.photoFile = filename;
                            this.entityService.save(child);
                            console.log("set photoFile for Child:" + child.getId() + " (" + child.projectNumber + ") to " + filename);
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    ChildPhotoUpdateService.prototype.checkIfFileExists = function (filename) {
        return __awaiter(this, void 0, void 0, function () {
            var e_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this.httpClient.get(filename).toPromise()];
                    case 1:
                        _a.sent();
                        return [2 /*return*/, true];
                    case 2:
                        e_2 = _a.sent();
                        if (e_2.status === 200) {
                            return [2 /*return*/, true];
                        }
                        return [2 /*return*/, false];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    ChildPhotoUpdateService.ɵfac = function ChildPhotoUpdateService_Factory(t) { return new (t || ChildPhotoUpdateService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_1__["EntityMapperService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"])); };
    ChildPhotoUpdateService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: ChildPhotoUpdateService, factory: ChildPhotoUpdateService.ɵfac, providedIn: "root" });
    return ChildPhotoUpdateService;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ChildPhotoUpdateService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root",
            }]
    }], function () { return [{ type: _entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_1__["EntityMapperService"] }, { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/admin/user-list/user-list.component.ts":
/*!*************************************************************!*\
  !*** ./src/app/core/admin/user-list/user-list.component.ts ***!
  \*************************************************************/
/*! exports provided: UserListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserListComponent", function() { return UserListComponent; });
/* harmony import */ var _user_user__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../user/user */ "./src/app/core/user/user.ts");
/* harmony import */ var _entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../entity/entity-mapper.service */ "./src/app/core/entity/entity-mapper.service.ts");
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/table */ "./node_modules/@angular/material/fesm5/table.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _session_session_service_session_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../session/session-service/session.service */ "./src/app/core/session/session-service/session.service.ts");
/* harmony import */ var _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/checkbox */ "./node_modules/@angular/material/fesm5/checkbox.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/tooltip */ "./node_modules/@angular/material/fesm5/tooltip.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};












function UserListComponent_th_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "th", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](1, " ID ");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} }
function UserListComponent_td_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "td", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} if (rf & 2) {
    var user_r10 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate1"](" ", user_r10.getId(), "");
} }
function UserListComponent_th_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "th", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](1, " Username ");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} }
function UserListComponent_td_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "td", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} if (rf & 2) {
    var user_r11 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate1"](" ", user_r11.name, "");
} }
function UserListComponent_th_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "th", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](1, " Admin ");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} }
function UserListComponent_td_9_Template(rf, ctx) { if (rf & 1) {
    var _r14 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "td", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](1, "mat-checkbox", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("change", function UserListComponent_td_9_Template_mat_checkbox_change_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r14); var user_r12 = ctx.$implicit; var ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](); return ctx_r13.makeAdmin(user_r12, $event.checked); });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} if (rf & 2) {
    var user_r12 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("checked", user_r12.isAdmin());
} }
function UserListComponent_th_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "th", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](1, " Details ");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} }
function UserListComponent_td_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "td", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](1, "mat-icon", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} if (rf & 2) {
    var user_r15 = ctx.$implicit;
    var ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("matTooltip", ctx_r7.debugDetails.get(user_r15.getId()));
} }
function UserListComponent_tr_13_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](0, "tr", 13);
} }
function UserListComponent_tr_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](0, "tr", 14);
} }
/**
 * Display all available users.
 */
var UserListComponent = /** @class */ (function () {
    function UserListComponent(entityMapperService, sessionService) {
        this.entityMapperService = entityMapperService;
        this.sessionService = sessionService;
        /** displayed columns for the list table in the template */
        this.displayedColumns = ["id", "name", "admin", "details"];
        /** datasource for the list table in the template */
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatTableDataSource"]();
        /** additional technical details of a user mapped to the user id as key */
        this.debugDetails = new Map();
    }
    UserListComponent.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadData()];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    UserListComponent.prototype.loadData = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            var _this = this;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = this.dataSource;
                        return [4 /*yield*/, this.entityMapperService.loadType(_user_user__WEBPACK_IMPORTED_MODULE_0__["User"])];
                    case 1:
                        _a.data = _b.sent();
                        this.dataSource.data.forEach(function (user) {
                            return _this.debugDetails.set(user.getId(), JSON.stringify(user));
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Change the admin role of the given user and save the entity.
     *
     * This requires the currently logged in user to be admin.
     *
     * @param user The user to be updated
     * @param admin Whether to assign or remove admin role to the given user
     */
    UserListComponent.prototype.makeAdmin = function (user, admin) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.sessionService.getCurrentUser().isAdmin()) {
                            this.loadData();
                            return [2 /*return*/];
                        }
                        if (this.sessionService.getCurrentUser().getId() === user.getId()) {
                            // do not change own user to avoid removing your own admin rights by accident
                            this.loadData();
                            return [2 /*return*/];
                        }
                        user.setAdmin(admin);
                        return [4 /*yield*/, this.entityMapperService.save(user)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    UserListComponent.ɵfac = function UserListComponent_Factory(t) { return new (t || UserListComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_1__["EntityMapperService"]), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_4__["SessionService"])); };
    UserListComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineComponent"]({ type: UserListComponent, selectors: [["app-user-list"]], decls: 15, vars: 3, consts: [["mat-table", "", 1, "user-table", "mat-elevation-z8", 3, "dataSource"], ["matColumnDef", "id"], ["mat-header-cell", "", 4, "matHeaderCellDef"], ["mat-cell", "", 4, "matCellDef"], ["matColumnDef", "name"], ["matColumnDef", "admin"], ["matColumnDef", "details"], ["mat-header-row", "", 4, "matHeaderRowDef"], ["mat-row", "", 4, "matRowDef", "matRowDefColumns"], ["mat-header-cell", ""], ["mat-cell", ""], [3, "checked", "change"], ["fontIcon", "fa-info-circle", 3, "matTooltip"], ["mat-header-row", ""], ["mat-row", ""]], template: function UserListComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "table", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerStart"](1, 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](2, UserListComponent_th_2_Template, 2, 0, "th", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](3, UserListComponent_td_3_Template, 2, 1, "td", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerStart"](4, 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](5, UserListComponent_th_5_Template, 2, 0, "th", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](6, UserListComponent_td_6_Template, 2, 1, "td", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerStart"](7, 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](8, UserListComponent_th_8_Template, 2, 0, "th", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](9, UserListComponent_td_9_Template, 2, 1, "td", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerStart"](10, 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](11, UserListComponent_th_11_Template, 2, 0, "th", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](12, UserListComponent_td_12_Template, 2, 1, "td", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](13, UserListComponent_tr_13_Template, 1, 0, "tr", 7);
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](14, UserListComponent_tr_14_Template, 1, 0, "tr", 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("dataSource", ctx.dataSource);
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](13);
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("matHeaderRowDef", ctx.displayedColumns);
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("matRowDefColumns", ctx.displayedColumns);
        } }, directives: [_angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatTable"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatColumnDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatHeaderCellDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatCellDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatHeaderRowDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatRowDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatHeaderCell"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatCell"], _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_5__["MatCheckbox"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_6__["MatIcon"], _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_7__["MatTooltip"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatHeaderRow"], _angular_material_table__WEBPACK_IMPORTED_MODULE_2__["MatRow"]], styles: [".user-table[_ngcontent-%COMP%] {\n  width: 100%;\n}\n\n.add-user-button[_ngcontent-%COMP%] {\n  margin-bottom: 5px;\n  float: left;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY29yZS9hZG1pbi91c2VyLWxpc3QvdXNlci1saXN0LmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jb3JlL2FkbWluL3VzZXItbGlzdC91c2VyLWxpc3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDRSxXQUFBO0FDQUY7O0FER0E7RUFDRSxrQkFBQTtFQUNBLFdBQUE7QUNBRiIsImZpbGUiOiJzcmMvYXBwL2NvcmUvYWRtaW4vdXNlci1saXN0L3VzZXItbGlzdC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLnVzZXItdGFibGUge1xuICB3aWR0aDogMTAwJTtcbn1cblxuLmFkZC11c2VyLWJ1dHRvbiB7XG4gIG1hcmdpbi1ib3R0b206IDVweDtcbiAgZmxvYXQ6IGxlZnQ7XG59XG4iLCIudXNlci10YWJsZSB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uYWRkLXVzZXItYnV0dG9uIHtcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xuICBmbG9hdDogbGVmdDtcbn0iXX0= */"] });
    return UserListComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵsetClassMetadata"](UserListComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"],
        args: [{
                selector: "app-user-list",
                templateUrl: "./user-list.component.html",
                styleUrls: ["./user-list.component.scss"],
            }]
    }], function () { return [{ type: _entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_1__["EntityMapperService"] }, { type: _session_session_service_session_service__WEBPACK_IMPORTED_MODULE_4__["SessionService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/alerts/alert-display.ts":
/*!**********************************************!*\
  !*** ./src/app/core/alerts/alert-display.ts ***!
  \**********************************************/
/*! exports provided: AlertDisplay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlertDisplay", function() { return AlertDisplay; });
/**
 * Different settings how to display an Alert.
 */
var AlertDisplay;
(function (AlertDisplay) {
    /** Never displayed */
    AlertDisplay[AlertDisplay["NONE"] = 0] = "NONE";
    /** Disappears automatically after a certain amount of time */
    AlertDisplay[AlertDisplay["TEMPORARY"] = 1] = "TEMPORARY";
    /** Remains visible until the user interacts with the element */
    AlertDisplay[AlertDisplay["PERSISTENT"] = 2] = "PERSISTENT";
})(AlertDisplay || (AlertDisplay = {}));


/***/ }),

/***/ "./src/app/core/alerts/alert.service.ts":
/*!**********************************************!*\
  !*** ./src/app/core/alerts/alert.service.ts ***!
  \**********************************************/
/*! exports provided: AlertService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlertService", function() { return AlertService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material/snack-bar */ "./node_modules/@angular/material/fesm5/snack-bar.js");
/* harmony import */ var _alert__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./alert */ "./src/app/core/alerts/alert.ts");
/* harmony import */ var _alerts_alert_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./alerts/alert.component */ "./src/app/core/alerts/alerts/alert.component.ts");
/* harmony import */ var _logging_logging_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../logging/logging.service */ "./src/app/core/logging/logging.service.ts");
/* harmony import */ var _alert_display__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./alert-display */ "./src/app/core/alerts/alert-display.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */









/**
 * Display alerts to the user as a hovering message at the bottom of the view.
 * (Angular Material "SnackBar")
 *
 * Inject this service in your classes to easily trigger alerts in the app consistent style.
 */
var AlertService = /** @class */ (function () {
    function AlertService(snackBar, loggingService) {
        this.snackBar = snackBar;
        this.loggingService = loggingService;
        /** All alerts currently to be displayed */
        this.alerts = [];
    }
    /**
     * Display the given alert.
     * @param alert The alert instance to be displayed
     */
    AlertService.prototype.addAlert = function (alert) {
        this.alerts.push(alert);
        this.displayAlert(alert);
        this.logToConsole(alert);
    };
    AlertService.prototype.displayAlert = function (alert) {
        var snackConfig = {
            data: alert,
            duration: 10000,
            panelClass: "alerts-snackbar",
        };
        switch (alert.display) {
            case _alert_display__WEBPACK_IMPORTED_MODULE_5__["AlertDisplay"].NONE:
                return;
            case _alert_display__WEBPACK_IMPORTED_MODULE_5__["AlertDisplay"].TEMPORARY:
                snackConfig.duration = 5000;
                break;
            case _alert_display__WEBPACK_IMPORTED_MODULE_5__["AlertDisplay"].PERSISTENT:
                snackConfig.duration = 3600000;
                break;
        }
        alert.notificationRef = this.snackBar.openFromComponent(_alerts_alert_component__WEBPACK_IMPORTED_MODULE_3__["AlertComponent"], snackConfig);
    };
    AlertService.prototype.logToConsole = function (alert) {
        switch (alert.type) {
            case _alert__WEBPACK_IMPORTED_MODULE_2__["Alert"].WARNING:
            case _alert__WEBPACK_IMPORTED_MODULE_2__["Alert"].DANGER:
                this.loggingService.warn(alert.message);
                break;
            case _alert__WEBPACK_IMPORTED_MODULE_2__["Alert"].INFO:
                this.loggingService.info(alert.message);
                break;
            case _alert__WEBPACK_IMPORTED_MODULE_2__["Alert"].DEBUG:
                this.loggingService.debug(alert.message);
                break;
        }
    };
    /**
     * Remove an existing alert so that it is no longer displayed.
     * @param alert The alert to be removed
     */
    AlertService.prototype.removeAlert = function (alert) {
        var index = this.alerts.indexOf(alert, 0);
        if (index > -1) {
            this.alerts.splice(index, 1);
        }
    };
    /**
     * Display an alert message of "Info" level, that will automatically dismiss itself after a timeout.
     * @param message The text to be displayed
     * @param display Optional override of the display style (e.g. whether the alert has to be actively dismissed by the user)
     */
    AlertService.prototype.addInfo = function (message, display) {
        if (display === void 0) { display = _alert_display__WEBPACK_IMPORTED_MODULE_5__["AlertDisplay"].TEMPORARY; }
        this.addAlert(new _alert__WEBPACK_IMPORTED_MODULE_2__["Alert"](message, _alert__WEBPACK_IMPORTED_MODULE_2__["Alert"].INFO, display));
    };
    /**
     * Display an alert message of "Warning" level, that will have to be actively dismissed by the user.
     * @param message The text to be displayed
     * @param display Optional override of the display style (e.g. whether the alert has to be actively dismissed by the user)
     */
    AlertService.prototype.addWarning = function (message, display) {
        if (display === void 0) { display = _alert_display__WEBPACK_IMPORTED_MODULE_5__["AlertDisplay"].PERSISTENT; }
        this.addAlert(new _alert__WEBPACK_IMPORTED_MODULE_2__["Alert"](message, _alert__WEBPACK_IMPORTED_MODULE_2__["Alert"].WARNING, display));
    };
    /**
     * Display an alert message of "Danger" level, that is highlighted and will have to be actively dismissed by the user.
     * @param message The text to be displayed
     * @param display Optional override of the display style (e.g. whether the alert has to be actively dismissed by the user)
     */
    AlertService.prototype.addDanger = function (message, display) {
        if (display === void 0) { display = _alert_display__WEBPACK_IMPORTED_MODULE_5__["AlertDisplay"].PERSISTENT; }
        this.addAlert(new _alert__WEBPACK_IMPORTED_MODULE_2__["Alert"](message, _alert__WEBPACK_IMPORTED_MODULE_2__["Alert"].DANGER, display));
    };
    /**
     * Display an alert message of "Debug" level, that will not be displayed to the user.
     * @param message The text to be displayed
     * @param display Optional override of the display style (e.g. whether the alert has to be actively dismissed by the user)
     */
    AlertService.prototype.addDebug = function (message, display) {
        if (display === void 0) { display = _alert_display__WEBPACK_IMPORTED_MODULE_5__["AlertDisplay"].NONE; }
        this.addAlert(new _alert__WEBPACK_IMPORTED_MODULE_2__["Alert"](message, _alert__WEBPACK_IMPORTED_MODULE_2__["Alert"].DEBUG, display));
    };
    AlertService.ɵfac = function AlertService_Factory(t) { return new (t || AlertService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_1__["MatSnackBar"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_logging_logging_service__WEBPACK_IMPORTED_MODULE_4__["LoggingService"])); };
    AlertService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: AlertService, factory: AlertService.ɵfac });
    return AlertService;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AlertService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_1__["MatSnackBar"] }, { type: _logging_logging_service__WEBPACK_IMPORTED_MODULE_4__["LoggingService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/alerts/alert.ts":
/*!**************************************!*\
  !*** ./src/app/core/alerts/alert.ts ***!
  \**************************************/
/*! exports provided: Alert */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Alert", function() { return Alert; });
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
/**
 * An Alert message to be displayed to the user through the {@link AlertService}.
 */
var Alert = /** @class */ (function () {
    /**
     * Create a container of a new Alert message.
     * @param message The text of the message
     * @param type The type of the message
     * @param display The display style (e.g. whether the alert has to be actively dismissed by the user)
     */
    function Alert(message, type, display) {
        this.message = message;
        this.type = type;
        this.display = display;
    }
    /** Info messages provide feedback or information to the user without any required action */
    Alert.INFO = "info";
    /** Warning messages provide feedback about unexpected or potentially unintended events */
    Alert.WARNING = "warning";
    /** Danger messages inform about errors or critical conditions that the user should not overlook */
    Alert.DANGER = "danger";
    /** Debug messages are not relevant to the normal user and only needed for developers troubleshooting errors */
    Alert.DEBUG = "debug";
    return Alert;
}());



/***/ }),

/***/ "./src/app/core/alerts/alerts.module.ts":
/*!**********************************************!*\
  !*** ./src/app/core/alerts/alerts.module.ts ***!
  \**********************************************/
/*! exports provided: AlertsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlertsModule", function() { return AlertsModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _alerts_alert_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./alerts/alert.component */ "./src/app/core/alerts/alerts/alert.component.ts");
/* harmony import */ var _alert_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./alert.service */ "./src/app/core/alerts/alert.service.ts");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/card */ "./node_modules/@angular/material/fesm5/card.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/snack-bar */ "./node_modules/@angular/material/fesm5/snack-bar.js");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */









/**
 * Show alert message to the user informing about events or errors.
 */
var AlertsModule = /** @class */ (function () {
    function AlertsModule() {
    }
    AlertsModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: AlertsModule });
    AlertsModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function AlertsModule_Factory(t) { return new (t || AlertsModule)(); }, providers: [_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"]], imports: [[
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_7__["MatSnackBarModule"],
                _angular_material_card__WEBPACK_IMPORTED_MODULE_5__["MatCardModule"],
                _angular_material_button__WEBPACK_IMPORTED_MODULE_4__["MatButtonModule"],
                _angular_material_icon__WEBPACK_IMPORTED_MODULE_6__["MatIconModule"],
            ]] });
    return AlertsModule;
}());

(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](AlertsModule, { declarations: [_alerts_alert_component__WEBPACK_IMPORTED_MODULE_2__["AlertComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_7__["MatSnackBarModule"],
        _angular_material_card__WEBPACK_IMPORTED_MODULE_5__["MatCardModule"],
        _angular_material_button__WEBPACK_IMPORTED_MODULE_4__["MatButtonModule"],
        _angular_material_icon__WEBPACK_IMPORTED_MODULE_6__["MatIconModule"]], exports: [_alerts_alert_component__WEBPACK_IMPORTED_MODULE_2__["AlertComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AlertsModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_7__["MatSnackBarModule"],
                    _angular_material_card__WEBPACK_IMPORTED_MODULE_5__["MatCardModule"],
                    _angular_material_button__WEBPACK_IMPORTED_MODULE_4__["MatButtonModule"],
                    _angular_material_icon__WEBPACK_IMPORTED_MODULE_6__["MatIconModule"],
                ],
                declarations: [_alerts_alert_component__WEBPACK_IMPORTED_MODULE_2__["AlertComponent"]],
                exports: [_alerts_alert_component__WEBPACK_IMPORTED_MODULE_2__["AlertComponent"]],
                providers: [_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"]],
            }]
    }], null, null); })();


/***/ }),

/***/ "./src/app/core/alerts/alerts/alert.component.ts":
/*!*******************************************************!*\
  !*** ./src/app/core/alerts/alerts/alert.component.ts ***!
  \*******************************************************/
/*! exports provided: AlertComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlertComponent", function() { return AlertComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material/snack-bar */ "./node_modules/@angular/material/fesm5/snack-bar.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */





/**
 * Display an {@link Alert} with basic formatting and UI controls.
 */
var AlertComponent = /** @class */ (function () {
    /**
     * This component is created through MatSnackBar which provides the required data during creation.
     * @param data The alert instance to be displayed
     */
    function AlertComponent(data) {
        this.data = data;
        this.alert = data;
    }
    AlertComponent.ɵfac = function AlertComponent_Factory(t) { return new (t || AlertComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_1__["MAT_SNACK_BAR_DATA"])); };
    AlertComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AlertComponent, selectors: [["ng-component"]], decls: 5, vars: 4, consts: [["mat-icon-button", "", 1, "ndb-alert-dismiss", 3, "click"], ["fontIcon", "fa-window-close-o", 1, "ndb-alert-dismiss-icon"]], template: function AlertComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "button", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AlertComponent_Template_button_click_1_listener() { return ctx.alert.notificationRef.dismiss(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "mat-icon", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "p");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("ndb-alert ndb-alert-", ctx.alert.type, "");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.alert.message);
        } }, directives: [_angular_material_button__WEBPACK_IMPORTED_MODULE_2__["MatButton"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_3__["MatIcon"]], styles: [".ndb-alert[_ngcontent-%COMP%] {\n  padding: 5px 10px;\n  box-shadow: 0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);\n  font-size: 0.8em;\n  border-radius: 4px;\n  text-align: center;\n  font-family: sans-serif;\n}\n.ndb-alert-info[_ngcontent-%COMP%] {\n  background-color: lightblue;\n  color: black;\n}\n.ndb-alert-warning[_ngcontent-%COMP%] {\n  background-color: orangered;\n  color: black;\n}\n.ndb-alert-danger[_ngcontent-%COMP%] {\n  background-color: orangered;\n  color: black;\n}\n.ndb-alert-dismiss[_ngcontent-%COMP%] {\n  float: right;\n}\n.ndb-alert-dismiss-icon[_ngcontent-%COMP%] {\n  font-size: 14px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY29yZS9hbGVydHMvYWxlcnRzL2FsZXJ0LmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jb3JlL2FsZXJ0cy9hbGVydHMvYWxlcnQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7OztFQUFBO0FBa0JBO0VBQ0UsaUJBQUE7RUFDQSwySEFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtFQUNBLHVCQUFBO0FDREY7QURJQTtFQUNFLDJCQUFBO0VBQ0EsWUFBQTtBQ0RGO0FER0E7RUFDRSwyQkFBQTtFQUNBLFlBQUE7QUNBRjtBREVBO0VBQ0UsMkJBQUE7RUFDQSxZQUFBO0FDQ0Y7QURFQTtFQUNFLFlBQUE7QUNDRjtBRENBO0VBQ0UsZUFBQTtBQ0VGIiwiZmlsZSI6InNyYy9hcHAvY29yZS9hbGVydHMvYWxlcnRzL2FsZXJ0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiBuZGItY29yZS5cbiAqXG4gKiAgICAgbmRiLWNvcmUgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiAgICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqICAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqICAgICBuZGItY29yZSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiAgICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiAgICAgYWxvbmcgd2l0aCBuZGItY29yZS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5cbi5uZGItYWxlcnQge1xuICBwYWRkaW5nOiA1cHggMTBweDtcbiAgYm94LXNoYWRvdzogMHB4IDNweCA1cHggLTFweCByZ2JhKDAsIDAsIDAsIDAuMiksIDBweCA2cHggMTBweCAwcHggcmdiYSgwLCAwLCAwLCAwLjE0KSwgMHB4IDFweCAxOHB4IDBweCAgcmdiYSgwLCAwLCAwLCAwLjEyKTtcbiAgZm9udC1zaXplOiAwLjhlbTtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO1xufVxuXG4ubmRiLWFsZXJ0LWluZm8ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGJsdWU7XG4gIGNvbG9yOiBibGFjaztcbn1cbi5uZGItYWxlcnQtd2FybmluZyB7XG4gIGJhY2tncm91bmQtY29sb3I6IG9yYW5nZXJlZDtcbiAgY29sb3I6IGJsYWNrO1xufVxuLm5kYi1hbGVydC1kYW5nZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBvcmFuZ2VyZWQ7XG4gIGNvbG9yOiBibGFjaztcbn1cblxuLm5kYi1hbGVydC1kaXNtaXNzIHtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuLm5kYi1hbGVydC1kaXNtaXNzLWljb24ge1xuICBmb250LXNpemU6IDE0cHg7XG59XG4iLCIvKlxuICogICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIG5kYi1jb3JlLlxuICpcbiAqICAgICBuZGItY29yZSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiAgICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqICAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogICAgIG5kYi1jb3JlIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiAgICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqICAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiAgICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiAgICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqICAgICBhbG9uZyB3aXRoIG5kYi1jb3JlLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG4ubmRiLWFsZXJ0IHtcbiAgcGFkZGluZzogNXB4IDEwcHg7XG4gIGJveC1zaGFkb3c6IDBweCAzcHggNXB4IC0xcHggcmdiYSgwLCAwLCAwLCAwLjIpLCAwcHggNnB4IDEwcHggMHB4IHJnYmEoMCwgMCwgMCwgMC4xNCksIDBweCAxcHggMThweCAwcHggcmdiYSgwLCAwLCAwLCAwLjEyKTtcbiAgZm9udC1zaXplOiAwLjhlbTtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO1xufVxuXG4ubmRiLWFsZXJ0LWluZm8ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGJsdWU7XG4gIGNvbG9yOiBibGFjaztcbn1cblxuLm5kYi1hbGVydC13YXJuaW5nIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogb3JhbmdlcmVkO1xuICBjb2xvcjogYmxhY2s7XG59XG5cbi5uZGItYWxlcnQtZGFuZ2VyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogb3JhbmdlcmVkO1xuICBjb2xvcjogYmxhY2s7XG59XG5cbi5uZGItYWxlcnQtZGlzbWlzcyB7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuLm5kYi1hbGVydC1kaXNtaXNzLWljb24ge1xuICBmb250LXNpemU6IDE0cHg7XG59Il19 */"] });
    return AlertComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AlertComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                templateUrl: "./alert.component.html",
                styleUrls: ["./alert.component.scss"],
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_1__["MAT_SNACK_BAR_DATA"]]
            }] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/analytics/analytics.service.ts":
/*!*****************************************************!*\
  !*** ./src/app/core/analytics/analytics.service.ts ***!
  \*****************************************************/
/*! exports provided: AnalyticsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnalyticsService", function() { return AnalyticsService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var angulartics2_piwik__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! angulartics2/piwik */ "./node_modules/angulartics2/piwik/fesm2015/angulartics2-piwik.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");





var md5 = __webpack_require__(/*! md5 */ "./node_modules/md5/md5.js");
var AnalyticsService = /** @class */ (function () {
    function AnalyticsService(angulartics2Piwik) {
        this.angulartics2Piwik = angulartics2Piwik;
        AnalyticsService.angulartics2Piwik = angulartics2Piwik;
    }
    AnalyticsService.eventTrack = function (action, properties) {
        if (properties === void 0) { properties = {
            category: "no_category",
            label: "no_label",
            value: -1,
        }; }
        AnalyticsService.angulartics2Piwik.eventTrack(action, properties);
    };
    AnalyticsService.setUser = function (username) {
        AnalyticsService.angulartics2Piwik.setUsername(AnalyticsService.getUserHash(username));
    };
    AnalyticsService.setVersion = function () {
        AnalyticsService.angulartics2Piwik.setUserProperties({
            dimension1: "ndb-core@" + _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].appVersion,
        });
    };
    AnalyticsService.getUserHash = function (username) {
        return md5(username);
    };
    AnalyticsService.prototype.init = function () {
        AnalyticsService.angulartics2Piwik.startTracking();
        AnalyticsService.setVersion();
    };
    AnalyticsService.ɵfac = function AnalyticsService_Factory(t) { return new (t || AnalyticsService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](angulartics2_piwik__WEBPACK_IMPORTED_MODULE_1__["Angulartics2Piwik"])); };
    AnalyticsService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: AnalyticsService, factory: AnalyticsService.ɵfac, providedIn: "root" });
    return AnalyticsService;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AnalyticsService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root",
            }]
    }], function () { return [{ type: angulartics2_piwik__WEBPACK_IMPORTED_MODULE_1__["Angulartics2Piwik"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/app-config/app-config.module.ts":
/*!******************************************************!*\
  !*** ./src/app/core/app-config/app-config.module.ts ***!
  \******************************************************/
/*! exports provided: AppConfigModule, initializeAppConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppConfigModule", function() { return AppConfigModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initializeAppConfig", function() { return initializeAppConfig; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _app_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app-config */ "./src/app/core/app-config/app-config.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */





/**
 * Management of central configuration for the app that can a set by an administrator independent of code
 * in the assets/config.json file.
 *
 * Just import this module in your root module to ensure the AppConfig is properly initialized on startup.
 *
 * You can then use the static `AppConfig.settings` object (which exactly represents the contents of the config.json)
 * to access the configuration values without need for dependency injection of a service.
 */
var AppConfigModule = /** @class */ (function () {
    function AppConfigModule() {
    }
    AppConfigModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: AppConfigModule });
    AppConfigModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function AppConfigModule_Factory(t) { return new (t || AppConfigModule)(); }, providers: [
            _app_config__WEBPACK_IMPORTED_MODULE_2__["AppConfig"],
            {
                provide: _angular_core__WEBPACK_IMPORTED_MODULE_0__["APP_INITIALIZER"],
                useFactory: initializeAppConfig,
                deps: [_app_config__WEBPACK_IMPORTED_MODULE_2__["AppConfig"]],
                multi: true,
            },
        ], imports: [[_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClientModule"]]] });
    return AppConfigModule;
}());

(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](AppConfigModule, { imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClientModule"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AppConfigModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClientModule"]],
                declarations: [],
                providers: [
                    _app_config__WEBPACK_IMPORTED_MODULE_2__["AppConfig"],
                    {
                        provide: _angular_core__WEBPACK_IMPORTED_MODULE_0__["APP_INITIALIZER"],
                        useFactory: initializeAppConfig,
                        deps: [_app_config__WEBPACK_IMPORTED_MODULE_2__["AppConfig"]],
                        multi: true,
                    },
                ],
            }]
    }], null, null); })();
/**
 * Factory method for APP_INITIALIZER to load essential things before any other modules.
 * This is required to ensure the AppConfig.settings are available before other code needs it.
 *
 * @param appConfig The AppConfig service (through dependency injection)
 */
function initializeAppConfig(appConfig) {
    return function () { return appConfig.load(); };
}


/***/ }),

/***/ "./src/app/core/app-config/app-config.ts":
/*!***********************************************!*\
  !*** ./src/app/core/app-config/app-config.ts ***!
  \***********************************************/
/*! exports provided: AppConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppConfig", function() { return AppConfig; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */




/**
 * Central app configuration.
 *
 * The settings are defined in a json file and can therefore be changed for different deployments
 * without code changes.
 *
 * Simply use the static `AppConfig.settings` for easy access to the app's configuration.
 * You do _not_ have to inject the AppConfig service into your code in order to access the app settings.
 * AppConfig is an Angular service only because this is required for initially loading the remote settings into
 * the static AppConfig.settings object.
 *
 * @example
 * this.title = AppConfig.settings.site_name;
 * // just directly use AppConfig and let your IDE add an "import" statement to the file
 * // no need for dependency injection here
 */
var AppConfig = /** @class */ (function () {
    function AppConfig(http) {
        this.http = http;
        /** file location of the config file to be created by the administrator */
        this.CONFIG_FILE = "assets/config.json";
        /** fallback file location of the config that is part of the project already if the "real" config file isn't found */
        this.DEFAULT_CONFIG_FILE = "assets/config.default.json";
    }
    /**
     * Load the config file into the `AppConfig.settings` so they can be used synchronously anywhere in the code after that.
     *
     * If the config file does not exist, uses the default config as a fallback.
     */
    AppConfig.prototype.load = function () {
        var _this = this;
        return this.loadAppConfigJson(this.CONFIG_FILE).then(function (result) { return result; }, function () { return _this.loadAppConfigJson(_this.DEFAULT_CONFIG_FILE); });
    };
    /**
     * Load the given file and set it as AppConfig.settings.
     *
     * This requires a HTTP request because the "assets" folder including the config.json is on our server
     * while this javascript code is executed in the users browser.
     *
     * @param jsonFileLocation The file path of the json file to be loaded as config
     */
    AppConfig.prototype.loadAppConfigJson = function (jsonFileLocation) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.http
                .get(jsonFileLocation)
                .toPromise()
                .then(function (result) {
                AppConfig.settings = result;
                resolve();
            })
                .catch(function (response) {
                reject("Could not load file '" + jsonFileLocation + "': " + JSON.stringify(response));
            });
        });
    };
    AppConfig.ɵfac = function AppConfig_Factory(t) { return new (t || AppConfig)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"])); };
    AppConfig.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: AppConfig, factory: AppConfig.ɵfac });
    return AppConfig;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AppConfig, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/config/config-fix.json":
/*!*********************************************!*\
  !*** ./src/app/core/config/config-fix.json ***!
  \*********************************************/
/*! exports provided: navigationMenu, view:, view:user, view:note, view:admin, view:admin/conflicts, view:users, view:help, view:attendance, view:attendance/analysis, view:attendance/add/month, view:attendance/add/day, view:school, view:school/:id, view:child, view:child/:id, default */
/***/ (function(module) {

module.exports = JSON.parse("{\"navigationMenu\":{\"items\":[{\"name\":\"Dashboard\",\"icon\":\"home\",\"link\":\"/dashboard\"},{\"name\":\"Children\",\"icon\":\"child\",\"link\":\"/child\"},{\"name\":\"Schools\",\"icon\":\"university\",\"link\":\"/school\"},{\"name\":\"Notes\",\"icon\":\"file-text\",\"link\":\"/note\"},{\"name\":\"Attendance Register\",\"icon\":\"table\",\"link\":\"/attendance\"},{\"name\":\"Admin\",\"icon\":\"wrench\",\"link\":\"/admin\"},{\"name\":\"Users\",\"icon\":\"user\",\"link\":\"/users\"},{\"name\":\"Database Conflicts\",\"icon\":\"wrench\",\"link\":\"/admin/conflicts\"},{\"name\":\"Help\",\"icon\":\"question-circle\",\"link\":\"/help\"}]},\"view:\":{\"component\":\"Dashboard\",\"config\":{\"widgets\":[{\"component\":\"ChildrenCountDashboard\"},{\"component\":\"RecentNotesDashboard\"},{\"component\":\"NoRecentNotesDashboard\",\"config\":{\"sinceDays\":28,\"fromBeginningOfWeek\":false}},{\"component\":\"AttendanceWeekDashboard\",\"config\":{\"daysOffset\":0,\"periodLabel\":\"last week\"}},{\"component\":\"AttendanceWeekDashboard\",\"config\":{\"daysOffset\":7,\"periodLabel\":\"this week\"}},{\"component\":\"ProgressDashboard\",\"config\":{\"dashboardConfigId\":\"1\"}},{\"component\":\"AttendanceAverageDashboard\"},{\"component\":\"AttendanceWarningsDashboard\"}]}},\"view:user\":{\"component\":\"UserAccount\"},\"view:note\":{\"component\":\"NotesManager\"},\"view:admin\":{\"component\":\"Admin\",\"requiresAdmin\":true},\"view:admin/conflicts\":{\"component\":\"Admin\",\"requiresAdmin\":true},\"view:users\":{\"component\":\"UserList\",\"requiresAdmin\":true},\"view:help\":{\"component\":\"Help\"},\"view:attendance\":{\"component\":\"AttendanceManager\"},\"view:attendance/analysis\":{\"component\":\"AttendanceAnalysis\"},\"view:attendance/add/month\":{\"component\":\"AddMonthAttendance\"},\"view:attendance/add/day\":{\"component\":\"AddDayAttendance\"},\"view:school\":{\"component\":\"SchoolsList\"},\"view:school/:id\":{\"component\":\"SchoolDetails\",\"config\":{\"submenu\":[{\"name\":\"Education\",\"components\":[\"previousSchools\",\"aserResults\"]}]}},\"view:child\":{\"component\":\"ChildrenList\"},\"view:child/:id\":{\"component\":\"ChildDetails\",\"config\":{\"submenu\":[{\"name\":\"Education\",\"components\":[\"previousSchools\",\"aserResults\"]}]}}}");

/***/ }),

/***/ "./src/app/core/config/config.module.ts":
/*!**********************************************!*\
  !*** ./src/app/core/config/config.module.ts ***!
  \**********************************************/
/*! exports provided: ConfigModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfigModule", function() { return ConfigModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _config_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./config.service */ "./src/app/core/config/config.service.ts");




var ConfigModule = /** @class */ (function () {
    function ConfigModule() {
    }
    ConfigModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: ConfigModule });
    ConfigModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function ConfigModule_Factory(t) { return new (t || ConfigModule)(); }, providers: [_config_service__WEBPACK_IMPORTED_MODULE_2__["ConfigService"]], imports: [[_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]]] });
    return ConfigModule;
}());

(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](ConfigModule, { imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ConfigModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                declarations: [],
                imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]],
                providers: [_config_service__WEBPACK_IMPORTED_MODULE_2__["ConfigService"]],
            }]
    }], null, null); })();


/***/ }),

/***/ "./src/app/core/config/config.service.ts":
/*!***********************************************!*\
  !*** ./src/app/core/config/config.service.ts ***!
  \***********************************************/
/*! exports provided: ConfigService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfigService", function() { return ConfigService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _config_fix_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config-fix.json */ "./src/app/core/config/config-fix.json");
var _config_fix_json__WEBPACK_IMPORTED_MODULE_1___namespace = /*#__PURE__*/__webpack_require__.t(/*! ./config-fix.json */ "./src/app/core/config/config-fix.json", 1);
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};



var ConfigService = /** @class */ (function () {
    function ConfigService() {
    }
    ConfigService.prototype.loadConfig = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, new Promise(function (resolve) {
                            setTimeout(function () {
                                console.log("config loaded"), resolve();
                            }, 300);
                        })];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    ConfigService.prototype.getConfig = function (id) {
        return _config_fix_json__WEBPACK_IMPORTED_MODULE_1__[id];
    };
    ConfigService.prototype.getAllConfigs = function (prefix) {
        var e_1, _a;
        var matchingConfigs = [];
        try {
            for (var _b = __values(Object.keys(_config_fix_json__WEBPACK_IMPORTED_MODULE_1__)), _c = _b.next(); !_c.done; _c = _b.next()) {
                var id = _c.value;
                if (id.startsWith(prefix)) {
                    _config_fix_json__WEBPACK_IMPORTED_MODULE_1__[id]._id = id;
                    matchingConfigs.push(_config_fix_json__WEBPACK_IMPORTED_MODULE_1__[id]);
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
        return matchingConfigs;
    };
    ConfigService.ɵfac = function ConfigService_Factory(t) { return new (t || ConfigService)(); };
    ConfigService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: ConfigService, factory: ConfigService.ɵfac, providedIn: "root" });
    return ConfigService;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ConfigService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root",
            }]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "./src/app/core/confirmation-dialog/confirmation-dialog.module.ts":
/*!************************************************************************!*\
  !*** ./src/app/core/confirmation-dialog/confirmation-dialog.module.ts ***!
  \************************************************************************/
/*! exports provided: ConfirmationDialogModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmationDialogModule", function() { return ConfirmationDialogModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _confirmation_dialog_confirmation_dialog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./confirmation-dialog/confirmation-dialog.component */ "./src/app/core/confirmation-dialog/confirmation-dialog/confirmation-dialog.component.ts");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/fesm5/dialog.js");
/* harmony import */ var _confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./confirmation-dialog.service */ "./src/app/core/confirmation-dialog/confirmation-dialog.service.ts");







/**
 * A helper utility module helping to display configurable confirmation dialog boxes
 * without having to create a custom template every time.
 *
 * Use the {@link ConfirmationDialogService} for this.
 */
var ConfirmationDialogModule = /** @class */ (function () {
    function ConfirmationDialogModule() {
    }
    ConfirmationDialogModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: ConfirmationDialogModule });
    ConfirmationDialogModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function ConfirmationDialogModule_Factory(t) { return new (t || ConfirmationDialogModule)(); }, providers: [_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_5__["ConfirmationDialogService"]], imports: [[_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialogModule"], _angular_material_button__WEBPACK_IMPORTED_MODULE_3__["MatButtonModule"]]] });
    return ConfirmationDialogModule;
}());

(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](ConfirmationDialogModule, { declarations: [_confirmation_dialog_confirmation_dialog_component__WEBPACK_IMPORTED_MODULE_2__["ConfirmationDialogComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialogModule"], _angular_material_button__WEBPACK_IMPORTED_MODULE_3__["MatButtonModule"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ConfirmationDialogModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialogModule"], _angular_material_button__WEBPACK_IMPORTED_MODULE_3__["MatButtonModule"]],
                declarations: [_confirmation_dialog_confirmation_dialog_component__WEBPACK_IMPORTED_MODULE_2__["ConfirmationDialogComponent"]],
                providers: [_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_5__["ConfirmationDialogService"]],
            }]
    }], null, null); })();


/***/ }),

/***/ "./src/app/core/confirmation-dialog/confirmation-dialog.service.ts":
/*!*************************************************************************!*\
  !*** ./src/app/core/confirmation-dialog/confirmation-dialog.service.ts ***!
  \*************************************************************************/
/*! exports provided: ConfirmationDialogService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmationDialogService", function() { return ConfirmationDialogService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/fesm5/dialog.js");
/* harmony import */ var _confirmation_dialog_confirmation_dialog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./confirmation-dialog/confirmation-dialog.component */ "./src/app/core/confirmation-dialog/confirmation-dialog/confirmation-dialog.component.ts");





/**
 * Inject this service instead of MatDialog if you need a simple, configurable confirmation dialog box
 * to be displayed to the user.
 *
 * Import the {@link ConfirmationDialogModule} in your root module to provide this service.
 *
 * @example
 const dialogRef = this.confirmationDialog.openDialog('Delete?', 'Are you sure you want to delete this record?');
 dialogRef.afterClosed().subscribe(confirmed => {
    if (confirmed) {
       // delete
    }
 });
 */
var ConfirmationDialogService = /** @class */ (function () {
    function ConfirmationDialogService(dialog) {
        this.dialog = dialog;
    }
    /**
     * Open a dialog with the given configuration.
     * @param title The title displayed for the dialog
     * @param text The text displayed for the dialog
     * @param yesNoButtons Whether two buttons (yes/no) are shown to the user. Otherwise only an "Ok" button will be shown.
     * @return The reference to the opened MatDialog.
     *          You can use this to control the dialog or subscribe to its result:
     *          (`ref.afterClosed().subscribe(confirmed => myAction(confirmed));`
     */
    ConfirmationDialogService.prototype.openDialog = function (title, text, yesNoButtons) {
        if (yesNoButtons === void 0) { yesNoButtons = true; }
        return this.dialog.open(_confirmation_dialog_confirmation_dialog_component__WEBPACK_IMPORTED_MODULE_2__["ConfirmationDialogComponent"], {
            data: { title: title, text: text, yesNo: yesNoButtons },
        });
    };
    ConfirmationDialogService.ɵfac = function ConfirmationDialogService_Factory(t) { return new (t || ConfirmationDialogService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialog"])); };
    ConfirmationDialogService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: ConfirmationDialogService, factory: ConfirmationDialogService.ɵfac });
    return ConfirmationDialogService;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ConfirmationDialogService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialog"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/confirmation-dialog/confirmation-dialog/confirmation-dialog.component.ts":
/*!***********************************************************************************************!*\
  !*** ./src/app/core/confirmation-dialog/confirmation-dialog/confirmation-dialog.component.ts ***!
  \***********************************************************************************************/
/*! exports provided: ConfirmationDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmationDialogComponent", function() { return ConfirmationDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/fesm5/dialog.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");






function ConfirmationDialogComponent_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "button", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "Yes");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "button", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, "No");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("mat-dialog-close", true);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("mat-dialog-close", false);
} }
function ConfirmationDialogComponent_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "button", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "OK");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("mat-dialog-close", true);
} }
/**
 * A configurable confirmation dialog box
 * used by the {@link ConfirmationDialogService}.
 */
var ConfirmationDialogComponent = /** @class */ (function () {
    /**
     * This component is used as a template for MatDialog, created with the required dependencies through that service.
     * @param dialogRef The reference to the dialog this component is displayed within
     * @param data The configuration defining what text and buttons will be displayed
     */
    function ConfirmationDialogComponent(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
    }
    ConfirmationDialogComponent.ɵfac = function ConfirmationDialogComponent_Factory(t) { return new (t || ConfirmationDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])); };
    ConfirmationDialogComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ConfirmationDialogComponent, selectors: [["app-confirmation-dialog"]], decls: 7, vars: 4, consts: [["mat-dialog-title", ""], ["mat-dialog-content", ""], ["mat-dialog-actions", "", 4, "ngIf"], ["mat-dialog-actions", ""], ["mat-stroked-button", "", "cdkFocusInitial", "", 3, "mat-dialog-close"], ["mat-stroked-button", "", 3, "mat-dialog-close"]], template: function ConfirmationDialogComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "h1", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "p");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, ConfirmationDialogComponent_div_5_Template, 5, 2, "div", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, ConfirmationDialogComponent_div_6_Template, 3, 1, "div", 2);
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.data.title);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.data.text);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.data.yesNo);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.data.yesNo);
        } }, directives: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogTitle"], _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogContent"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogActions"], _angular_material_button__WEBPACK_IMPORTED_MODULE_3__["MatButton"], _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogClose"]], styles: [".mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n  margin-right: 4px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY29yZS9jb25maXJtYXRpb24tZGlhbG9nL2NvbmZpcm1hdGlvbi1kaWFsb2cvY29uZmlybWF0aW9uLWRpYWxvZy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29yZS9jb25maXJtYXRpb24tZGlhbG9nL2NvbmZpcm1hdGlvbi1kaWFsb2cvY29uZmlybWF0aW9uLWRpYWxvZy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGlCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9jb3JlL2NvbmZpcm1hdGlvbi1kaWFsb2cvY29uZmlybWF0aW9uLWRpYWxvZy9jb25maXJtYXRpb24tZGlhbG9nLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1hdC1kaWFsb2ctYWN0aW9ucyBidXR0b24ge1xuICBtYXJnaW4tcmlnaHQ6IDRweDtcbn1cbiIsIi5tYXQtZGlhbG9nLWFjdGlvbnMgYnV0dG9uIHtcbiAgbWFyZ2luLXJpZ2h0OiA0cHg7XG59Il19 */"] });
    return ConfirmationDialogComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ConfirmationDialogComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-confirmation-dialog",
                templateUrl: "./confirmation-dialog.component.html",
                styleUrls: ["./confirmation-dialog.component.scss"],
            }]
    }], function () { return [{ type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"] }, { type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"]]
            }] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/dashboard/dashboard.module.ts":
/*!****************************************************!*\
  !*** ./src/app/core/dashboard/dashboard.module.ts ***!
  \****************************************************/
/*! exports provided: DashboardModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DashboardModule", function() { return DashboardModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dashboard/dashboard.component */ "./src/app/core/dashboard/dashboard/dashboard.component.ts");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var _view_view_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../view/view.module */ "./src/app/core/view/view.module.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */






var DashboardModule = /** @class */ (function () {
    function DashboardModule() {
    }
    DashboardModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: DashboardModule });
    DashboardModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function DashboardModule_Factory(t) { return new (t || DashboardModule)(); }, imports: [[_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _angular_flex_layout__WEBPACK_IMPORTED_MODULE_3__["FlexLayoutModule"], _view_view_module__WEBPACK_IMPORTED_MODULE_4__["ViewModule"]]] });
    return DashboardModule;
}());

(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](DashboardModule, { declarations: [_dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_2__["DashboardComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _angular_flex_layout__WEBPACK_IMPORTED_MODULE_3__["FlexLayoutModule"], _view_view_module__WEBPACK_IMPORTED_MODULE_4__["ViewModule"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DashboardModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _angular_flex_layout__WEBPACK_IMPORTED_MODULE_3__["FlexLayoutModule"], _view_view_module__WEBPACK_IMPORTED_MODULE_4__["ViewModule"]],
                declarations: [_dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_2__["DashboardComponent"]],
            }]
    }], null, null); })();


/***/ }),

/***/ "./src/app/core/dashboard/dashboard/dashboard.component.ts":
/*!*****************************************************************!*\
  !*** ./src/app/core/dashboard/dashboard/dashboard.component.ts ***!
  \*****************************************************************/
/*! exports provided: DashboardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DashboardComponent", function() { return DashboardComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/flex-layout/flex */ "./node_modules/@angular/flex-layout/esm5/flex.es5.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _view_dynamic_components_dynamic_component_directive__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../view/dynamic-components/dynamic-component.directive */ "./src/app/core/view/dynamic-components/dynamic-component.directive.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */







function DashboardComponent_div_1_ng_template_1_Template(rf, ctx) { }
function DashboardComponent_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, DashboardComponent_div_1_ng_template_1_Template, 0, 0, "ng-template", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var widgetConfig_r1 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("appDynamicComponent", widgetConfig_r1);
} }
var DashboardComponent = /** @class */ (function () {
    function DashboardComponent(activatedRoute) {
        this.activatedRoute = activatedRoute;
        this.widgets = [];
    }
    DashboardComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.activatedRoute.data.subscribe(function (config) {
            _this.widgets = config.widgets;
        });
    };
    DashboardComponent.ɵfac = function DashboardComponent_Factory(t) { return new (t || DashboardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"])); };
    DashboardComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: DashboardComponent, selectors: [["app-dashboard"]], decls: 2, vars: 1, consts: [["fxLayout", "row wrap", "fxLayout.xs", "column wrap", "fxLayoutGap", "20px", 1, "widget-wrapper"], ["fxFlex", "30", 4, "ngFor", "ngForOf"], ["fxFlex", "30"], [3, "appDynamicComponent"]], template: function DashboardComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, DashboardComponent_div_1_Template, 2, 1, "div", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.widgets);
        } }, directives: [_angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_2__["DefaultLayoutDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_2__["DefaultLayoutGapDirective"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgForOf"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_2__["DefaultFlexDirective"], _view_dynamic_components_dynamic_component_directive__WEBPACK_IMPORTED_MODULE_4__["DynamicComponentDirective"]], styles: [".widget-wrapper[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\n  margin-bottom: 20px;\n  min-width: -webkit-min-content;\n  min-width: -moz-min-content;\n  min-width: min-content;\n  margin-right: 10px !important;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY29yZS9kYXNoYm9hcmQvZGFzaGJvYXJkL2Rhc2hib2FyZC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29yZS9kYXNoYm9hcmQvZGFzaGJvYXJkL2Rhc2hib2FyZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7O0VBQUE7QUFpQkE7RUFDRSxtQkFBQTtFQUNBLDhCQUFBO0VBQUEsMkJBQUE7RUFBQSxzQkFBQTtFQUNBLDZCQUFBO0FDQUYiLCJmaWxlIjoic3JjL2FwcC9jb3JlL2Rhc2hib2FyZC9kYXNoYm9hcmQvZGFzaGJvYXJkLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiBuZGItY29yZS5cbiAqXG4gKiAgICAgbmRiLWNvcmUgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiAgICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqICAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqICAgICBuZGItY29yZSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiAgICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiAgICAgYWxvbmcgd2l0aCBuZGItY29yZS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG4ud2lkZ2V0LXdyYXBwZXIgPiAqIHtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgbWluLXdpZHRoOiBtaW4tY29udGVudDtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4ICFpbXBvcnRhbnQ7XG59XG5cbiIsIi8qXG4gKiAgICAgVGhpcyBmaWxlIGlzIHBhcnQgb2YgbmRiLWNvcmUuXG4gKlxuICogICAgIG5kYi1jb3JlIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqICAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAgICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiAgICAgbmRiLWNvcmUgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqICAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqICAgICBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqICAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogICAgIGFsb25nIHdpdGggbmRiLWNvcmUuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cbi53aWRnZXQtd3JhcHBlciA+ICoge1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICBtaW4td2lkdGg6IG1pbi1jb250ZW50O1xuICBtYXJnaW4tcmlnaHQ6IDEwcHggIWltcG9ydGFudDtcbn0iXX0= */"] });
    return DashboardComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DashboardComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-dashboard",
                templateUrl: "./dashboard.component.html",
                styleUrls: ["./dashboard.component.scss"],
            }]
    }], function () { return [{ type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/database/database.service.provider.ts":
/*!************************************************************!*\
  !*** ./src/app/core/database/database.service.provider.ts ***!
  \************************************************************/
/*! exports provided: databaseServiceProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "databaseServiceProvider", function() { return databaseServiceProvider; });
/* harmony import */ var _database__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./database */ "./src/app/core/database/database.ts");
/* harmony import */ var _session_session_service_session_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../session/session-service/session.service */ "./src/app/core/session/session-service/session.service.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */


/**
 * Provider of Database service for the Angular dependency injection.
 *
 * This depends on the SessionService that is set up
 * (which in turn considers the app-config.json to switch between an in-memory database and a synced persistent database).
 */
var databaseServiceProvider = {
    provide: _database__WEBPACK_IMPORTED_MODULE_0__["Database"],
    useFactory: function (_sessionService) {
        return _sessionService.getDatabase();
    },
    deps: [_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_1__["SessionService"]],
};


/***/ }),

/***/ "./src/app/core/database/database.ts":
/*!*******************************************!*\
  !*** ./src/app/core/database/database.ts ***!
  \*******************************************/
/*! exports provided: Database */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Database", function() { return Database; });
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
/**
 * An implementation of this abstract class provides functions for direct database access.
 * This interface is an extension of the [PouchDB API](https://pouchdb.com/api.html).
 *
 * A `Database` instance is injected into the app through the {@link databaseServiceProvider}
 * with the help of the {@link SessionService}.
 */
var Database = /** @class */ (function () {
    function Database() {
    }
    /**
     * Load all documents (with the given prefix) from the database.
     * @param prefix The string prefix of document ids that should be retrieved
     */
    Database.prototype.getAll = function (prefix) {
        if (prefix === void 0) { prefix = ""; }
        return this.allDocs({
            include_docs: true,
            startkey: prefix,
            endkey: prefix + "\ufff0",
        });
    };
    return Database;
}());



/***/ }),

/***/ "./src/app/core/database/mock-database.ts":
/*!************************************************!*\
  !*** ./src/app/core/database/mock-database.ts ***!
  \************************************************/
/*! exports provided: MockDatabase */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MockDatabase", function() { return MockDatabase; });
/* harmony import */ var _database__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./database */ "./src/app/core/database/database.ts");
/* harmony import */ var _child_dev_project_notes_model_note__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../child-dev-project/notes/model/note */ "./src/app/child-dev-project/notes/model/note.ts");
/* harmony import */ var _child_dev_project_attendance_model_attendance_month__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../child-dev-project/attendance/model/attendance-month */ "./src/app/child-dev-project/attendance/model/attendance-month.ts");
/* harmony import */ var _child_dev_project_children_model_childSchoolRelation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../child-dev-project/children/model/childSchoolRelation */ "./src/app/child-dev-project/children/model/childSchoolRelation.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




/**
 * In-Memory database implementation that works as a drop-in replacement of {@link PouchDatabase}
 *
 * The MockDatabase internally stores all documents in a variable and tries to simulate functionality
 * as similar as possible to the PouchDatabase.
 */
var MockDatabase = /** @class */ (function (_super) {
    __extends(MockDatabase, _super);
    /**
     * Create an in-memory database manager.
     */
    function MockDatabase() {
        var _this = _super.call(this) || this;
        _this.data = [];
        return _this;
    }
    /**
     * see {@link Database}
     * @param id The primary id of the document
     */
    MockDatabase.prototype.get = function (id) {
        if (!this.exists(id)) {
            return Promise.reject({ status: 404, message: "object not found" });
        }
        var index = this.findIndex(id);
        var result = this.data[index];
        return Promise.resolve(result);
    };
    /**
     * see {@link Database}
     * @param options Only 'startkey' is considered by the MockDatabase implementation
     */
    MockDatabase.prototype.allDocs = function (options) {
        var result = this.data;
        // default options provided through getAll(prefix): {include_docs: true, startkey: prefix, endkey: prefix + '\ufff0'}
        // MockDatabase ignores endkey and only implements filtering based on startkey/prefix
        if (options && options.hasOwnProperty("startkey")) {
            result = this.data.filter(function (o) { return o._id.startsWith(options.startkey); });
        }
        return Promise.resolve(result);
    };
    /**
     * see {@link Database}
     * @param object The document to be saved
     * @param forceUpdate Whether a conflicting document will be forcefully overwritten
     */
    MockDatabase.prototype.put = function (object, forceUpdate) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (this.exists(object._id)) {
                    return [2 /*return*/, this.overwriteExisting(object)];
                }
                else {
                    object._rev = "x";
                    this.data.push(object);
                    return [2 /*return*/, Promise.resolve(this.generateWriteResponse(object))];
                }
                return [2 /*return*/];
            });
        });
    };
    MockDatabase.prototype.overwriteExisting = function (object) {
        return __awaiter(this, void 0, void 0, function () {
            var existingObject, index;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.get(object._id)];
                    case 1:
                        existingObject = _a.sent();
                        if (object._rev !== existingObject._rev) {
                            return [2 /*return*/, Promise.reject({ message: "_id already exists" })];
                        }
                        index = this.data.findIndex(function (e) { return e._id === object._id; });
                        if (index > -1) {
                            object._rev = object._rev + "x";
                            this.data[index] = object;
                            return [2 /*return*/, Promise.resolve(this.generateWriteResponse(object))];
                        }
                        else {
                            return [2 /*return*/, Promise.reject({ message: "failed to overwrite existing object" })];
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    MockDatabase.prototype.generateWriteResponse = function (writtenObject) {
        return {
            ok: true,
            id: writtenObject._id,
            rev: writtenObject._rev,
        };
    };
    /**
     * see {@link Database}
     * @param object The document to be deleted
     */
    MockDatabase.prototype.remove = function (object) {
        if (!this.exists(object._id)) {
            return Promise.reject({ status: 404, message: "object not found" });
        }
        var index = this.findIndex(object._id);
        if (index > -1) {
            this.data.splice(index, 1);
        }
        return Promise.resolve(true);
    };
    MockDatabase.prototype.exists = function (id) {
        return this.findIndex(id) > -1;
    };
    MockDatabase.prototype.findIndex = function (id) {
        return this.data.findIndex(function (o) { return o._id === id; });
    };
    /**
     * A "simulation" of queries as the PouchDatabase implementation would handle them.
     *
     * This has hard-coded response logic for some individual indices that are used in the app
     * and at the moment cannot handle generic creating and executing real queries.
     * You can add a mock implementation here for your specific query/index if necessary.
     *
     * @param fun The name of the previously created index
     * @param options Additional options for the query
     */
    MockDatabase.prototype.query = function (fun, options) {
        return __awaiter(this, void 0, void 0, function () {
            var filterFun, reducerFun, allData, filteredResults, reducedResults, allData;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        switch (fun) {
                            case "notes_index/by_child":
                                filterFun = function (e) {
                                    return e._id.startsWith(_child_dev_project_notes_model_note__WEBPACK_IMPORTED_MODULE_1__["Note"].ENTITY_TYPE) &&
                                        e.children.includes(options.key);
                                };
                                break;
                            case "attendances_index/by_child":
                                filterFun = function (e) {
                                    return e._id.startsWith(_child_dev_project_attendance_model_attendance_month__WEBPACK_IMPORTED_MODULE_2__["AttendanceMonth"].ENTITY_TYPE) &&
                                        e.student === options.key;
                                };
                                break;
                            case "attendances_index/by_month":
                                filterFun = function (e) {
                                    if (!e._id.startsWith(_child_dev_project_attendance_model_attendance_month__WEBPACK_IMPORTED_MODULE_2__["AttendanceMonth"].ENTITY_TYPE)) {
                                        return false;
                                    }
                                    e.month = new Date(e.month);
                                    return (e.month.getFullYear().toString() +
                                        "-" +
                                        (e.month.getMonth() + 1).toString() ===
                                        options.key);
                                };
                                break;
                            case "avg_attendance_index/three_months":
                                filterFun = function (e) {
                                    return e._id.startsWith(_child_dev_project_attendance_model_attendance_month__WEBPACK_IMPORTED_MODULE_2__["AttendanceMonth"].ENTITY_TYPE) &&
                                        _this.isWithinLastMonths(e.month, new Date(), 3);
                                };
                                reducerFun = this.getStatsReduceFun(function (e) { return e.student; }, function (e) {
                                    return e.daysAttended / (e.daysWorking - e.daysExcused);
                                });
                                break;
                            case "avg_attendance_index/last_month":
                                filterFun = function (e) {
                                    return e._id.startsWith(_child_dev_project_attendance_model_attendance_month__WEBPACK_IMPORTED_MODULE_2__["AttendanceMonth"].ENTITY_TYPE) &&
                                        _this.isWithinLastMonths(e.month, new Date(), 1);
                                };
                                reducerFun = this.getStatsReduceFun(function (e) { return e.student; }, function (e) {
                                    return e.daysAttended / (e.daysWorking - e.daysExcused);
                                });
                                break;
                            case "childSchoolRelations_index/by_child":
                                filterFun = function (e) {
                                    return e._id.startsWith(_child_dev_project_children_model_childSchoolRelation__WEBPACK_IMPORTED_MODULE_3__["ChildSchoolRelation"].ENTITY_TYPE) &&
                                        e.childId === options.key;
                                };
                                break;
                            case "childSchoolRelations_index/by_school":
                                filterFun = function (e) {
                                    return e._id.startsWith(_child_dev_project_children_model_childSchoolRelation__WEBPACK_IMPORTED_MODULE_3__["ChildSchoolRelation"].ENTITY_TYPE) &&
                                        ((e.start <= new Date().setHours(0, 0, 0, 0) && !e.end) ||
                                            e.end >= new Date().setHours(0, 0, 0, 0)) &&
                                        e.schoolId === options.key;
                                };
                                break;
                            case "search_index/by_name":
                                filterFun = function (e) {
                                    return (e.hasOwnProperty("searchIndices") &&
                                        e.searchIndices.some(function (word) {
                                            return word.toString().toLowerCase().includes(options.startkey);
                                        }));
                                };
                                break;
                            case "childSchoolRelations_index/by_date":
                                return [2 /*return*/, this.filterForLatestRelationOfChild(options.endkey, options.limit)];
                        }
                        if (!(filterFun !== undefined)) return [3 /*break*/, 4];
                        if (!(reducerFun !== undefined)) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.getAll()];
                    case 1:
                        allData = _a.sent();
                        filteredResults = allData.filter(filterFun);
                        reducedResults = filteredResults.reduce(reducerFun, []);
                        return [2 /*return*/, { rows: reducedResults }];
                    case 2: return [4 /*yield*/, this.getAll()];
                    case 3:
                        allData = _a.sent();
                        return [2 /*return*/, {
                                rows: allData.filter(filterFun).map(function (e) {
                                    return { id: e._id, doc: e };
                                }),
                            }];
                    case 4:
                        console.warn('MockDatabase does not implement "query()"');
                        return [2 /*return*/, { rows: [] }];
                }
            });
        });
    };
    MockDatabase.prototype.filterForLatestRelationOfChild = function (childKey, limit) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve) {
                        _this.getAll().then(function (all) {
                            var relations = all.filter(function (e) {
                                return e._id.startsWith(_child_dev_project_children_model_childSchoolRelation__WEBPACK_IMPORTED_MODULE_3__["ChildSchoolRelation"].ENTITY_TYPE);
                            });
                            var sorted = relations.sort(function (a, b) {
                                var aValue = a.childId + "_" + _this.zeroPad(new Date(a.start).valueOf());
                                var bValue = b.childId + "_" + _this.zeroPad(new Date(b.start).valueOf());
                                return aValue < bValue ? 1 : aValue === bValue ? 0 : -1;
                            });
                            var filtered = sorted.filter(function (doc) { return doc.childId + "_" === childKey; });
                            var results = filtered.map(function (relation) {
                                return { doc: relation };
                            });
                            if (limit) {
                                results = results.slice(0, limit);
                            }
                            resolve({ rows: results });
                        });
                    })];
            });
        });
    };
    /**
     * This function is useful when comparing numbers on string level.
     * For example: 123 < 1111 but "123" > "1111"
     * That is why its being transformed to "0123" and "1111" so "0123" < "1111"
     * @param str the string that should be padded with zeros
     * @param length the length to which the string should be padded
     * @return string of the padded input
     */
    MockDatabase.prototype.zeroPad = function (str, length) {
        if (length === void 0) { length = 14; }
        // with ECMAScript 2017 you can do a one-liner: 'return str.toString().padStart(length, '0');'
        var res = str.toString();
        while (res.length < length) {
            res = "0" + res;
        }
        return res;
    };
    MockDatabase.prototype.isWithinLastMonths = function (date, now, numberOfMonths) {
        if (!date) {
            return false;
        }
        date = new Date(date);
        var months;
        months = (now.getFullYear() - date.getFullYear()) * 12;
        months -= date.getMonth();
        months += now.getMonth();
        if (months < 0) {
            return false;
        }
        return months <= numberOfMonths;
    };
    MockDatabase.prototype.getStatsReduceFun = function (keyFun, valueFun) {
        return function (acc, value) {
            var stats = {
                key: keyFun(value),
                value: { count: 1, sum: valueFun(value) },
            };
            var existing = acc.filter(function (x) { return x.key === keyFun(value); });
            if (existing.length > 0) {
                var v = existing[0].value;
                v.count++;
                v.sum = v.sum + stats.value.sum;
            }
            else {
                acc.push(stats);
            }
            return acc;
        };
    };
    /**
     * Currently not implemented for MockDatabase!
     *
     * Check (and extend) the `query` method for hard-coded mocks of some specific queries.
     *
     * @param designDoc
     */
    MockDatabase.prototype.saveDatabaseIndex = function (designDoc) {
        // TODO: implement mock query
        /* SAMPLE INPUT:
        const designDoc = {
          _id: '_design/attendance_index',
          views: {
            by_name: {
              map: (doc) => { emit(doc.child); }
            },
            by_month: {
              map: (doc) => { emit(doc.month); }
            }
          }
        };
         */
        // tslint:disable-next-line:no-console
        console.debug('MockDatabase does not implement "saveDatabaseIndex()"');
        return Promise.resolve({});
    };
    return MockDatabase;
}(_database__WEBPACK_IMPORTED_MODULE_0__["Database"]));



/***/ }),

/***/ "./src/app/core/database/pouch-database.ts":
/*!*************************************************!*\
  !*** ./src/app/core/database/pouch-database.ts ***!
  \*************************************************/
/*! exports provided: PouchDatabase */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PouchDatabase", function() { return PouchDatabase; });
/* harmony import */ var _database__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./database */ "./src/app/core/database/database.ts");
/* harmony import */ var _alerts_alert_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../alerts/alert-display */ "./src/app/core/alerts/alert-display.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_2__);
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};



/**
 * Wrapper for a PouchDB instance to decouple the code from
 * that external library.
 *
 * Additional convenience functions on top of the PouchDB API
 * should be implemented in the abstract {@link Database}.
 */
var PouchDatabase = /** @class */ (function (_super) {
    __extends(PouchDatabase, _super);
    /**
     * Create a PouchDB database manager.
     * @param _pouchDB An (initialized) PouchDB database instance from the PouchDB library.
     * @param alertService The AlertService instance of the app to be able to display problems to users.
     * @param loggingService The LoggingService instance of the app to log and report problems.
     */
    function PouchDatabase(_pouchDB, alertService, loggingService) {
        var _this = _super.call(this) || this;
        _this._pouchDB = _pouchDB;
        _this.alertService = alertService;
        _this.loggingService = loggingService;
        return _this;
    }
    /**
     * Load a single document by id from the database.
     * (see {@link Database})
     * @param id The primary key of the document to be loaded
     * @param options Optional PouchDB options for the request
     * @param returnUndefined (Optional) return undefined instead of throwing error if doc is not found in database
     */
    PouchDatabase.prototype.get = function (id, options, returnUndefined) {
        var _this = this;
        if (options === void 0) { options = {}; }
        return this._pouchDB.get(id, options).catch(function (err) {
            if (err.status === 404) {
                _this.loggingService.debug("Doc not found in database: " + id);
                if (returnUndefined) {
                    return undefined;
                }
                else {
                    throw err;
                }
            }
            else {
                _this.notifyError(err);
                throw err;
            }
        });
    };
    /**
     * Load all documents (matching the given PouchDB options) from the database.
     * (see {@link Database})
     *
     * Normally you should rather use "getAll()" or another well typed method of this class
     * instead of passing PouchDB specific options here
     * because that will make your code tightly coupled with PouchDB rather than any other database provider.
     *
     * @param options PouchDB options object as in the normal PouchDB library
     */
    PouchDatabase.prototype.allDocs = function (options) {
        return this._pouchDB.allDocs(options).then(function (result) {
            var e_1, _a;
            var resultArray = [];
            try {
                for (var _b = __values(result.rows), _c = _b.next(); !_c.done; _c = _b.next()) {
                    var row = _c.value;
                    resultArray.push(row.doc);
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                }
                finally { if (e_1) throw e_1.error; }
            }
            return resultArray;
        });
    };
    /**
     * Save a document to the database.
     * (see {@link Database})
     *
     * @param object The document to be saved
     * @param forceOverwrite (Optional) Whether conflicts should be ignored and an existing conflicting document forcefully overwritten.
     */
    PouchDatabase.prototype.put = function (object, forceOverwrite) {
        var _this = this;
        var options = {};
        // if (forceOverwrite) {
        //   options.force = true;
        // }
        return this._pouchDB.put(object, options).catch(function (err) {
            if (err.status === 409) {
                _this.resolveConflict(object, forceOverwrite, err);
            }
            else {
                _this.notifyError(err);
                throw err;
            }
        });
    };
    /**
     * Delete a document from the database
     * (see {@link Database})
     *
     * @param object The document to be deleted (usually this object must at least contain the _id and _rev)
     */
    PouchDatabase.prototype.remove = function (object) {
        var _this = this;
        return this._pouchDB.remove(object).catch(function (err) {
            _this.notifyError(err);
            throw err;
        });
    };
    /**
     * Query data from the database based on a more complex, indexed request.
     * (see {@link Database})
     *
     * This is directly calling the PouchDB implementation of this function.
     * Also see the documentation there: {@link https://pouchdb.com/api.html#query_database}
     *
     * @param fun The name of a previously saved database index
     * @param options Additional options for the query, like a `key`. See the PouchDB docs for details.
     */
    PouchDatabase.prototype.query = function (fun, options) {
        return this._pouchDB.query(fun, options);
    };
    /**
     * Create a database index to `query()` certain data more efficiently in the future.
     * (see {@link Database})
     *
     * Also see the PouchDB documentation regarding indices and queries: {@link https://pouchdb.com/api.html#query_database}
     *
     * @param designDoc The PouchDB style design document for the map/reduce query
     */
    PouchDatabase.prototype.saveDatabaseIndex = function (designDoc) {
        return __awaiter(this, void 0, void 0, function () {
            var existingDesignDoc;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.get(designDoc._id, {}, true)];
                    case 1:
                        existingDesignDoc = _a.sent();
                        if (!existingDesignDoc) {
                            this.loggingService.debug("creating new database index");
                        }
                        else if (JSON.stringify(existingDesignDoc.views) !==
                            JSON.stringify(designDoc.views)) {
                            this.loggingService.debug("replacing existing database index");
                            designDoc._rev = existingDesignDoc._rev;
                        }
                        else {
                            // already up to date, nothing more to do
                            return [2 /*return*/];
                        }
                        return [4 /*yield*/, this.put(designDoc)];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, this.prebuildViewsOfDesignDoc(designDoc)];
                    case 3:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PouchDatabase.prototype.prebuildViewsOfDesignDoc = function (designDoc) {
        return __awaiter(this, void 0, void 0, function () {
            var _a, _b, viewName, queryName, startTime, indexingTime, err_1, e_2_1;
            var e_2, _c;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        _d.trys.push([0, 7, 8, 9]);
                        _a = __values(Object.keys(designDoc.views)), _b = _a.next();
                        _d.label = 1;
                    case 1:
                        if (!!_b.done) return [3 /*break*/, 6];
                        viewName = _b.value;
                        _d.label = 2;
                    case 2:
                        _d.trys.push([2, 4, , 5]);
                        queryName = designDoc._id.replace(/_design\//, "") + "/" + viewName;
                        console.log("start indexing " + queryName);
                        startTime = moment__WEBPACK_IMPORTED_MODULE_2___default()();
                        return [4 /*yield*/, this.query(queryName, { key: "1" })];
                    case 3:
                        _d.sent();
                        indexingTime = moment__WEBPACK_IMPORTED_MODULE_2___default()().diff(startTime, "milliseconds");
                        console.log("done indexing " + queryName, indexingTime);
                        if (indexingTime > 1000) {
                            this.loggingService.warn({
                                action: "Indexing for query",
                                query: queryName,
                                duration: indexingTime,
                            });
                        }
                        return [3 /*break*/, 5];
                    case 4:
                        err_1 = _d.sent();
                        this.alertService.addWarning("failed to trigger query for new index: ", err_1);
                        return [3 /*break*/, 5];
                    case 5:
                        _b = _a.next();
                        return [3 /*break*/, 1];
                    case 6: return [3 /*break*/, 9];
                    case 7:
                        e_2_1 = _d.sent();
                        e_2 = { error: e_2_1 };
                        return [3 /*break*/, 9];
                    case 8:
                        try {
                            if (_b && !_b.done && (_c = _a.return)) _c.call(_a);
                        }
                        finally { if (e_2) throw e_2.error; }
                        return [7 /*endfinally*/];
                    case 9: return [2 /*return*/];
                }
            });
        });
    };
    PouchDatabase.prototype.notifyError = function (err) {
        this.alertService.addWarning("PouchDB Error " + err.status + ": " + JSON.stringify(err), _alerts_alert_display__WEBPACK_IMPORTED_MODULE_1__["AlertDisplay"].NONE);
    };
    /**
     * Attempt to intelligently resolve conflicting document versions automatically.
     * @param newObject
     * @param overwriteChanges
     * @param existingError
     */
    PouchDatabase.prototype.resolveConflict = function (newObject, overwriteChanges, existingError) {
        var _this = this;
        this.get(newObject._id).then(function (existingObject) {
            var resolvedObject = _this.mergeObjects(existingObject, newObject);
            if (resolvedObject) {
                _this.alertService.addDebug("resolved document conflict automatically (" +
                    resolvedObject._id +
                    ")");
                _this.put(resolvedObject);
            }
            else if (overwriteChanges) {
                _this.alertService.addDebug("overwriting conflicting document version (" + newObject._id + ")");
                newObject._rev = existingObject._rev;
                _this.put(newObject);
            }
            else {
                existingError.message = existingError.message + " (unable to resolve)";
                throw existingError;
            }
        });
    };
    PouchDatabase.prototype.mergeObjects = function (existingObject, newObject) {
        // TODO: implement automatic merging of conflicting entity versions
        return undefined;
    };
    return PouchDatabase;
}(_database__WEBPACK_IMPORTED_MODULE_0__["Database"]));



/***/ }),

/***/ "./src/app/core/demo-data/demo-data-generating-progress-dialog.component.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/core/demo-data/demo-data-generating-progress-dialog.component.ts ***!
  \**********************************************************************************/
/*! exports provided: DemoDataGeneratingProgressDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DemoDataGeneratingProgressDialogComponent", function() { return DemoDataGeneratingProgressDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/fesm5/dialog.js");
/* harmony import */ var _demo_data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./demo-data.service */ "./src/app/core/demo-data/demo-data.service.ts");
/* harmony import */ var _logging_logging_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../logging/logging.service */ "./src/app/core/logging/logging.service.ts");
/* harmony import */ var _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/progress-bar */ "./node_modules/@angular/material/fesm5/progress-bar.js");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */









/**
 * Loading box during demo data generation.
 *
 * see {@link DemoDataModule}
 */
var DemoDataGeneratingProgressDialogComponent = /** @class */ (function () {
    function DemoDataGeneratingProgressDialogComponent(demoDataService, dialogRef, loggingService) {
        this.demoDataService = demoDataService;
        this.dialogRef = dialogRef;
        this.loggingService = loggingService;
    }
    /**
     * Display a loading dialog while generating demo data from all register generators.
     * @param dialog
     */
    DemoDataGeneratingProgressDialogComponent.loadDemoDataWithLoadingDialog = function (dialog) {
        dialog.open(DemoDataGeneratingProgressDialogComponent);
    };
    DemoDataGeneratingProgressDialogComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.dialogRef.disableClose = true;
        this.dialogRef.afterOpened().subscribe(function () {
            _this.demoDataService
                .publishDemoData()
                .then(function () {
                // don't use await this.demoDataService - dialogRef.close doesn't seem to work consistently in that case
                _this.dialogRef.close(true);
            })
                .catch(function (err) {
                return _this.loggingService.error({
                    title: "error during demo data generation",
                    details: err,
                });
            });
        });
    };
    DemoDataGeneratingProgressDialogComponent.ɵfac = function DemoDataGeneratingProgressDialogComponent_Factory(t) { return new (t || DemoDataGeneratingProgressDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_demo_data_service__WEBPACK_IMPORTED_MODULE_2__["DemoDataService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_logging_logging_service__WEBPACK_IMPORTED_MODULE_3__["LoggingService"])); };
    DemoDataGeneratingProgressDialogComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: DemoDataGeneratingProgressDialogComponent, selectors: [["ng-component"]], decls: 3, vars: 0, consts: [["mode", "indeterminate"]], template: function DemoDataGeneratingProgressDialogComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Generating sample data for this demo ...");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "mat-progress-bar", 0);
        } }, directives: [_angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_4__["MatProgressBar"]], encapsulation: 2 });
    return DemoDataGeneratingProgressDialogComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DemoDataGeneratingProgressDialogComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                template: "<p>Generating sample data for this demo ...</p>" +
                    '<mat-progress-bar mode="indeterminate"></mat-progress-bar>',
            }]
    }], function () { return [{ type: _demo_data_service__WEBPACK_IMPORTED_MODULE_2__["DemoDataService"] }, { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"] }, { type: _logging_logging_service__WEBPACK_IMPORTED_MODULE_3__["LoggingService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/demo-data/demo-data-generator.ts":
/*!*******************************************************!*\
  !*** ./src/app/core/demo-data/demo-data-generator.ts ***!
  \*******************************************************/
/*! exports provided: DemoDataGenerator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DemoDataGenerator", function() { return DemoDataGenerator; });
/**
 * Abstract base class for demo data generator services.
 *
 * For usage refer to the How-To Guides:
 * - [How to Generate Demo Data]{@link /additional-documentation/how-to-guides/generate-demo-data.html}
 */
var DemoDataGenerator = /** @class */ (function () {
    function DemoDataGenerator() {
    }
    Object.defineProperty(DemoDataGenerator.prototype, "entities", {
        /**
         * generated demo entities
         */
        get: function () {
            if (!this._entities) {
                this._entities = this.generateEntities();
            }
            return this._entities;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Remove all previously generated entities.
     */
    DemoDataGenerator.prototype.reset = function () {
        delete this._entities;
    };
    return DemoDataGenerator;
}());



/***/ }),

/***/ "./src/app/core/demo-data/demo-data.module.ts":
/*!****************************************************!*\
  !*** ./src/app/core/demo-data/demo-data.module.ts ***!
  \****************************************************/
/*! exports provided: DemoDataModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DemoDataModule", function() { return DemoDataModule; });
/* harmony import */ var _demo_data_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./demo-data.service */ "./src/app/core/demo-data/demo-data.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _demo_data_generating_progress_dialog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./demo-data-generating-progress-dialog.component */ "./src/app/core/demo-data/demo-data-generating-progress-dialog.component.ts");
/* harmony import */ var _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/progress-bar */ "./node_modules/@angular/material/fesm5/progress-bar.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/fesm5/dialog.js");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */






/**
 * Generate realist mock entities for testing and demo purposes.
 *
 * Import this module in the root AppModule to automatically write demo data into the database on loading of the module.
 * You need to pass providers for {@link DemoDataGenerator} implementations to the `forRoot()` method to register them.
 *
  ```
  DemoDataModule.forRoot([
     ...DemoChildGenerator.provider({count: 150}),
     { provide: DemoUserGeneratorService, useClass: DemoUserGeneratorService }
  ])
  ```
 *
 * In addition to importing the `DemoDataModule` you need to call the {@link DemoDataService}'s `publishDemoData()` method
 * to actually start the data generation.
 * Use `DemoDataGeneratingProgressDialogComponent.loadDemoDataWithLoadingDialog(this.dialog);` passing a `MatDialog` service
 * to display a dialog box to the user and automatically handle the data generation.
 *
 * To implement your own demo data generator, refer to the How-To Guides:
 * - [How to Generate Demo Data]{@link /additional-documentation/how-to-guides/generate-demo-data.html}
 */
var DemoDataModule = /** @class */ (function () {
    function DemoDataModule() {
    }
    /**
     * Get a provider for the module while also passing the DemoDataGenerator services to be registered with the module.
     * @param demoDataGeneratorProviders An array of providers of DemoDataGenerator service implementations.
     *        These generators will be registered and called when demo data generation is triggered.
     */
    DemoDataModule.forRoot = function (demoDataGeneratorProviders) {
        return {
            ngModule: DemoDataModule,
            providers: [
                _demo_data_service__WEBPACK_IMPORTED_MODULE_0__["DemoDataService"],
                {
                    provide: _demo_data_service__WEBPACK_IMPORTED_MODULE_0__["DemoDataServiceConfig"],
                    useValue: { dataGeneratorProviders: demoDataGeneratorProviders },
                },
                demoDataGeneratorProviders,
            ],
        };
    };
    DemoDataModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({ type: DemoDataModule });
    DemoDataModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({ factory: function DemoDataModule_Factory(t) { return new (t || DemoDataModule)(); }, imports: [[_angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_3__["MatProgressBarModule"], _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialogModule"]]] });
    return DemoDataModule;
}());

(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵsetNgModuleScope"](DemoDataModule, { declarations: [_demo_data_generating_progress_dialog_component__WEBPACK_IMPORTED_MODULE_2__["DemoDataGeneratingProgressDialogComponent"]], imports: [_angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_3__["MatProgressBarModule"], _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialogModule"]], exports: [_demo_data_generating_progress_dialog_component__WEBPACK_IMPORTED_MODULE_2__["DemoDataGeneratingProgressDialogComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](DemoDataModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"],
        args: [{
                imports: [_angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_3__["MatProgressBarModule"], _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialogModule"]],
                declarations: [_demo_data_generating_progress_dialog_component__WEBPACK_IMPORTED_MODULE_2__["DemoDataGeneratingProgressDialogComponent"]],
                exports: [_demo_data_generating_progress_dialog_component__WEBPACK_IMPORTED_MODULE_2__["DemoDataGeneratingProgressDialogComponent"]],
            }]
    }], null, null); })();


/***/ }),

/***/ "./src/app/core/demo-data/demo-data.service.ts":
/*!*****************************************************!*\
  !*** ./src/app/core/demo-data/demo-data.service.ts ***!
  \*****************************************************/
/*! exports provided: DemoDataServiceConfig, DemoDataService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DemoDataServiceConfig", function() { return DemoDataServiceConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DemoDataService", function() { return DemoDataService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _demo_data_generator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./demo-data-generator */ "./src/app/core/demo-data/demo-data-generator.ts");
/* harmony import */ var _entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../entity/entity-mapper.service */ "./src/app/core/entity/entity-mapper.service.ts");
/* harmony import */ var _alerts_alert_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../alerts/alert.service */ "./src/app/core/alerts/alert.service.ts");
/* harmony import */ var _alerts_alert_display__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../alerts/alert-display */ "./src/app/core/alerts/alert-display.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */








/**
 * General config object to pass all initially register DemoDataGenerators
 * with `DemoDataModule.forRoot()`.
 *
 * see docs at {@link DemoDataModule}
 */
var DemoDataServiceConfig = /** @class */ (function () {
    function DemoDataServiceConfig() {
        /**
         * Providers for DemoDataGenerator service implementations to be registered for data generation.
         *
         * This may also include providers for services a DemoDataGenerator depends on.
         */
        this.dataGeneratorProviders = [];
    }
    return DemoDataServiceConfig;
}());

/**
 * The DemoDataService is the manager for all provided DemoDataGenerator implementations.
 * It serves as the central service to trigger the demo data generation into the database.
 *
 * To add more demo data generators, refer the documentation
 * [How to Generate Demo Data]{@link /additional-documentation/how-to-guides/generate-demo-data.html}
 */
var DemoDataService = /** @class */ (function () {
    function DemoDataService(entityMapper, alertService, injector, config) {
        this.entityMapper = entityMapper;
        this.alertService = alertService;
        this.injector = injector;
        this.config = config;
        /** All registered demo data generator services */
        this.dataGenerators = [];
        this.registerAllProvidedDemoDataGenerators();
    }
    DemoDataService.prototype.registerAllProvidedDemoDataGenerators = function () {
        var e_1, _a;
        try {
            for (var _b = __values(this.config.dataGeneratorProviders), _c = _b.next(); !_c.done; _c = _b.next()) {
                var provider = _c.value;
                var service = this.injector.get(provider.provide);
                if (service && service instanceof _demo_data_generator__WEBPACK_IMPORTED_MODULE_1__["DemoDataGenerator"]) {
                    this.dataGenerators.push(service);
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
    };
    /**
     * Trigger all registered DemoDataGenerator implementations to generate demo entities
     * and add all the generated entities to the Database.
     */
    DemoDataService.prototype.publishDemoData = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a, _b, generator, _c, _d, entity, e_2, e_3_1, e_4_1;
            var e_4, _e, e_3, _f;
            return __generator(this, function (_g) {
                switch (_g.label) {
                    case 0:
                        // completely generate all data (i.e. call every generator) before starting to save the data
                        // to allow generators to delete unwanted entities of other generators before they are saved
                        // (e.g. the DropoutChildGenerator should be able to delete Attendance records of the Child after its dropout date)
                        this.dataGenerators.forEach(function (generator) { return generator.entities; });
                        _g.label = 1;
                    case 1:
                        _g.trys.push([1, 14, 15, 16]);
                        _a = __values(this.dataGenerators), _b = _a.next();
                        _g.label = 2;
                    case 2:
                        if (!!_b.done) return [3 /*break*/, 13];
                        generator = _b.value;
                        _g.label = 3;
                    case 3:
                        _g.trys.push([3, 10, 11, 12]);
                        _c = (e_3 = void 0, __values(generator.entities)), _d = _c.next();
                        _g.label = 4;
                    case 4:
                        if (!!_d.done) return [3 /*break*/, 9];
                        entity = _d.value;
                        _g.label = 5;
                    case 5:
                        _g.trys.push([5, 7, , 8]);
                        return [4 /*yield*/, this.entityMapper.save(entity)];
                    case 6:
                        _g.sent();
                        return [3 /*break*/, 8];
                    case 7:
                        e_2 = _g.sent();
                        this.alertService.addWarning(e_2, _alerts_alert_display__WEBPACK_IMPORTED_MODULE_4__["AlertDisplay"].NONE);
                        return [3 /*break*/, 8];
                    case 8:
                        _d = _c.next();
                        return [3 /*break*/, 4];
                    case 9: return [3 /*break*/, 12];
                    case 10:
                        e_3_1 = _g.sent();
                        e_3 = { error: e_3_1 };
                        return [3 /*break*/, 12];
                    case 11:
                        try {
                            if (_d && !_d.done && (_f = _c.return)) _f.call(_c);
                        }
                        finally { if (e_3) throw e_3.error; }
                        return [7 /*endfinally*/];
                    case 12:
                        _b = _a.next();
                        return [3 /*break*/, 2];
                    case 13: return [3 /*break*/, 16];
                    case 14:
                        e_4_1 = _g.sent();
                        e_4 = { error: e_4_1 };
                        return [3 /*break*/, 16];
                    case 15:
                        try {
                            if (_b && !_b.done && (_e = _a.return)) _e.call(_a);
                        }
                        finally { if (e_4) throw e_4.error; }
                        return [7 /*endfinally*/];
                    case 16: return [2 /*return*/];
                }
            });
        });
    };
    DemoDataService.ɵfac = function DemoDataService_Factory(t) { return new (t || DemoDataService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__["EntityMapperService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_alerts_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](DemoDataServiceConfig)); };
    DemoDataService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: DemoDataService, factory: DemoDataService.ɵfac });
    return DemoDataService;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DemoDataService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__["EntityMapperService"] }, { type: _alerts_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"] }, { type: DemoDataServiceConfig }]; }, null); })();


/***/ }),

/***/ "./src/app/core/demo-data/faker.ts":
/*!*****************************************!*\
  !*** ./src/app/core/demo-data/faker.ts ***!
  \*****************************************/
/*! exports provided: faker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "faker", function() { return faker; });
/* harmony import */ var faker_locale_en_IND__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! faker/locale/en_IND */ "./node_modules/faker/locale/en_IND.js");
/* harmony import */ var faker_locale_en_IND__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(faker_locale_en_IND__WEBPACK_IMPORTED_MODULE_0__);

/**
 * Extension of faker.js implementing additional data generation methods.
 */
var CustomFaker = /** @class */ (function () {
    /**
     * Merge the created CustomFaker's implementation with a given faker's standard methods.
     * @param baseFaker A standard faker.js
     */
    function CustomFaker(
    // @ts-ignore
    baseFaker) {
        this.baseFaker = baseFaker;
        // make baseFaker methods available from instances of this class
        Object.assign(this, baseFaker);
    }
    /**
     * Generate a date that works as a date of birth in the given age range.
     * @param minAge The minimum age (today) of a person with the generated random birth date.
     * @param maxAge The maximum age (today) of a person with the generated random birth date.
     */
    CustomFaker.prototype.dateOfBirth = function (minAge, maxAge) {
        var currentYear = new Date().getFullYear();
        var latest = new Date();
        latest.setFullYear(currentYear - minAge);
        var earliest = new Date();
        earliest.setFullYear(currentYear - maxAge);
        return this.baseFaker.date.between(earliest, latest);
    };
    /**
     * Return the given date if it is defined and earlier than today's date
     * otherwise return a Date representing today.
     * @param date The date to be compared
     */
    CustomFaker.prototype.getEarlierDateOrToday = function (date) {
        var today = new Date();
        if (!date || date > today) {
            return today;
        }
        else {
            return date;
        }
    };
    return CustomFaker;
}());
faker_locale_en_IND__WEBPACK_IMPORTED_MODULE_0__["seed"](1);
/**
 * (Extended) faker module
 */
var faker = new CustomFaker(faker_locale_en_IND__WEBPACK_IMPORTED_MODULE_0__);


/***/ }),

/***/ "./src/app/core/entity-subrecord/entity-subrecord.module.ts":
/*!******************************************************************!*\
  !*** ./src/app/core/entity-subrecord/entity-subrecord.module.ts ***!
  \******************************************************************/
/*! exports provided: EntitySubrecordModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EntitySubrecordModule", function() { return EntitySubrecordModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/autocomplete */ "./node_modules/@angular/material/fesm5/autocomplete.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/fesm5/dialog.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_material_select__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/select */ "./node_modules/@angular/material/fesm5/select.js");
/* harmony import */ var _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/snack-bar */ "./node_modules/@angular/material/fesm5/snack-bar.js");
/* harmony import */ var _angular_material_sort__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/sort */ "./node_modules/@angular/material/fesm5/sort.js");
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/table */ "./node_modules/@angular/material/fesm5/table.js");
/* harmony import */ var _entity_subrecord_entity_subrecord_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./entity-subrecord/entity-subrecord.component */ "./src/app/core/entity-subrecord/entity-subrecord/entity-subrecord.component.ts");
/* harmony import */ var _keys_pipe_keys_pipe__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./keys-pipe/keys.pipe */ "./src/app/core/entity-subrecord/keys-pipe/keys.pipe.ts");
/* harmony import */ var _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/datepicker */ "./node_modules/@angular/material/fesm5/datepicker.js");
/* harmony import */ var _confirmation_dialog_confirmation_dialog_module__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../confirmation-dialog/confirmation-dialog.module */ "./src/app/core/confirmation-dialog/confirmation-dialog.module.ts");
/* harmony import */ var _form_dialog_form_dialog_module__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../form-dialog/form-dialog.module */ "./src/app/core/form-dialog/form-dialog.module.ts");

















/**
 * EntitySubrecord provides generic components to display and edit a list of entities
 * which are related to the "primary" entity whose details are currently displayed.
 *
 * For example, all Notes related to a certain Child are displayed within the Child's detail view
 * with the help of the {@link EntitySubrecordComponent}.
 */
var EntitySubrecordModule = /** @class */ (function () {
    function EntitySubrecordModule() {
    }
    EntitySubrecordModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: EntitySubrecordModule });
    EntitySubrecordModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function EntitySubrecordModule_Factory(t) { return new (t || EntitySubrecordModule)(); }, imports: [[
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialogModule"],
                _angular_material_button__WEBPACK_IMPORTED_MODULE_3__["MatButtonModule"],
                _angular_material_table__WEBPACK_IMPORTED_MODULE_10__["MatTableModule"],
                _angular_material_input__WEBPACK_IMPORTED_MODULE_6__["MatInputModule"],
                _angular_material_select__WEBPACK_IMPORTED_MODULE_7__["MatSelectModule"],
                _angular_material_icon__WEBPACK_IMPORTED_MODULE_5__["MatIconModule"],
                _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_8__["MatSnackBarModule"],
                _angular_material_sort__WEBPACK_IMPORTED_MODULE_9__["MatSortModule"],
                _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_2__["MatAutocompleteModule"],
                _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_13__["MatDatepickerModule"],
                _form_dialog_form_dialog_module__WEBPACK_IMPORTED_MODULE_15__["FormDialogModule"],
                _confirmation_dialog_confirmation_dialog_module__WEBPACK_IMPORTED_MODULE_14__["ConfirmationDialogModule"],
            ]] });
    return EntitySubrecordModule;
}());

(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](EntitySubrecordModule, { declarations: [_entity_subrecord_entity_subrecord_component__WEBPACK_IMPORTED_MODULE_11__["EntitySubrecordComponent"], _keys_pipe_keys_pipe__WEBPACK_IMPORTED_MODULE_12__["KeysPipe"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialogModule"],
        _angular_material_button__WEBPACK_IMPORTED_MODULE_3__["MatButtonModule"],
        _angular_material_table__WEBPACK_IMPORTED_MODULE_10__["MatTableModule"],
        _angular_material_input__WEBPACK_IMPORTED_MODULE_6__["MatInputModule"],
        _angular_material_select__WEBPACK_IMPORTED_MODULE_7__["MatSelectModule"],
        _angular_material_icon__WEBPACK_IMPORTED_MODULE_5__["MatIconModule"],
        _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_8__["MatSnackBarModule"],
        _angular_material_sort__WEBPACK_IMPORTED_MODULE_9__["MatSortModule"],
        _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_2__["MatAutocompleteModule"],
        _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_13__["MatDatepickerModule"],
        _form_dialog_form_dialog_module__WEBPACK_IMPORTED_MODULE_15__["FormDialogModule"],
        _confirmation_dialog_confirmation_dialog_module__WEBPACK_IMPORTED_MODULE_14__["ConfirmationDialogModule"]], exports: [_entity_subrecord_entity_subrecord_component__WEBPACK_IMPORTED_MODULE_11__["EntitySubrecordComponent"], _keys_pipe_keys_pipe__WEBPACK_IMPORTED_MODULE_12__["KeysPipe"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](EntitySubrecordModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialogModule"],
                    _angular_material_button__WEBPACK_IMPORTED_MODULE_3__["MatButtonModule"],
                    _angular_material_table__WEBPACK_IMPORTED_MODULE_10__["MatTableModule"],
                    _angular_material_input__WEBPACK_IMPORTED_MODULE_6__["MatInputModule"],
                    _angular_material_select__WEBPACK_IMPORTED_MODULE_7__["MatSelectModule"],
                    _angular_material_icon__WEBPACK_IMPORTED_MODULE_5__["MatIconModule"],
                    _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_8__["MatSnackBarModule"],
                    _angular_material_sort__WEBPACK_IMPORTED_MODULE_9__["MatSortModule"],
                    _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_2__["MatAutocompleteModule"],
                    _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_13__["MatDatepickerModule"],
                    _form_dialog_form_dialog_module__WEBPACK_IMPORTED_MODULE_15__["FormDialogModule"],
                    _confirmation_dialog_confirmation_dialog_module__WEBPACK_IMPORTED_MODULE_14__["ConfirmationDialogModule"],
                ],
                declarations: [_entity_subrecord_entity_subrecord_component__WEBPACK_IMPORTED_MODULE_11__["EntitySubrecordComponent"], _keys_pipe_keys_pipe__WEBPACK_IMPORTED_MODULE_12__["KeysPipe"]],
                exports: [_entity_subrecord_entity_subrecord_component__WEBPACK_IMPORTED_MODULE_11__["EntitySubrecordComponent"], _keys_pipe_keys_pipe__WEBPACK_IMPORTED_MODULE_12__["KeysPipe"]],
            }]
    }], null, null); })();


/***/ }),

/***/ "./src/app/core/entity-subrecord/entity-subrecord/column-description-input-type.enum.ts":
/*!**********************************************************************************************!*\
  !*** ./src/app/core/entity-subrecord/entity-subrecord/column-description-input-type.enum.ts ***!
  \**********************************************************************************************/
/*! exports provided: ColumnDescriptionInputType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ColumnDescriptionInputType", function() { return ColumnDescriptionInputType; });
/**
 * Input types available for columns generated by the {@link EntitySubrecordComponent}.
 * Defines what form field is offered to the user to edit the column's value.
 */
var ColumnDescriptionInputType;
(function (ColumnDescriptionInputType) {
    ColumnDescriptionInputType["TEXT"] = "text";
    ColumnDescriptionInputType["NUMBER"] = "number";
    ColumnDescriptionInputType["DATE"] = "date";
    ColumnDescriptionInputType["MONTH"] = "month";
    ColumnDescriptionInputType["TEXTAREA"] = "textarea";
    ColumnDescriptionInputType["SELECT"] = "select";
    ColumnDescriptionInputType["AUTOCOMPLETE"] = "autocomplete";
    ColumnDescriptionInputType["FUNCTION"] = "function";
    ColumnDescriptionInputType["READONLY"] = "readonly";
})(ColumnDescriptionInputType || (ColumnDescriptionInputType = {}));


/***/ }),

/***/ "./src/app/core/entity-subrecord/entity-subrecord/column-description.ts":
/*!******************************************************************************!*\
  !*** ./src/app/core/entity-subrecord/entity-subrecord/column-description.ts ***!
  \******************************************************************************/
/*! exports provided: ColumnDescription */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ColumnDescription", function() { return ColumnDescription; });
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
/**
 *  Objects of this class are used to define columns for the {@link EntitySubrecordComponent}.
 *  A ColumnDescription describes a single column to be generated in that generic component.
 */
var ColumnDescription = /** @class */ (function () {
    /**
     * @param name The identifier of the column
     * @param label The label for the column displayed in the table header
     * @param inputType How the value of this column is displayed and what kind of form field is provided to edit it
     * @param selectValues Array of possible values for editing this column; required for inputTypes select and autocomplete
     * @param formatter Function doing a custom transformation of the column's value before it is displayed.
     * @param visibleFrom The minimal screen size the column is shown.
     *           screen size classes: xs	'screen and (max-width: 599px)'
     *           sm	'screen and (min-width: 600px) and (max-width: 959px)'
     *           md	'screen and (min-width: 960px) and (max-width: 1279px)'
     *           lg	'screen and (min-width: 1280px) and (max-width: 1919px)'
     *           xl	'screen and (min-width: 1920px) and (max-width: 5000px)'
     * @param styleBuilder (Optional) function building a ngStyle value, receiving the value as a parameter
     */
    function ColumnDescription(name, label, inputType, selectValues, formatter, visibleFrom, styleBuilder) {
        if (selectValues === void 0) { selectValues = []; }
        if (formatter === void 0) { formatter = function (value) {
            return value;
        }; }
        if (visibleFrom === void 0) { visibleFrom = undefined; }
        if (styleBuilder === void 0) { styleBuilder = function () {
            return {};
        }; }
        this.name = name;
        this.label = label;
        this.inputType = inputType;
        this.selectValues = selectValues;
        this.formatter = formatter;
        this.visibleFrom = visibleFrom;
        this.styleBuilder = styleBuilder;
    }
    return ColumnDescription;
}());



/***/ }),

/***/ "./src/app/core/entity-subrecord/entity-subrecord/entity-subrecord.component.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/core/entity-subrecord/entity-subrecord/entity-subrecord.component.ts ***!
  \**************************************************************************************/
/*! exports provided: EntitySubrecordComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EntitySubrecordComponent", function() { return EntitySubrecordComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material/snack-bar */ "./node_modules/@angular/material/fesm5/snack-bar.js");
/* harmony import */ var _angular_material_sort__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/sort */ "./node_modules/@angular/material/fesm5/sort.js");
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/table */ "./node_modules/@angular/material/fesm5/table.js");
/* harmony import */ var _entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../entity/entity-mapper.service */ "./src/app/core/entity/entity-mapper.service.ts");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var app_core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/core/alerts/alert.service */ "./src/app/core/alerts/alert.service.ts");
/* harmony import */ var _confirmation_dialog_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../confirmation-dialog/confirmation-dialog.service */ "./src/app/core/confirmation-dialog/confirmation-dialog.service.ts");
/* harmony import */ var _column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./column-description-input-type.enum */ "./src/app/core/entity-subrecord/entity-subrecord/column-description-input-type.enum.ts");
/* harmony import */ var _form_dialog_form_dialog_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../form-dialog/form-dialog.service */ "./src/app/core/form-dialog/form-dialog.service.ts");
/* harmony import */ var _ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ngneat/until-destroy */ "./node_modules/@ngneat/until-destroy/fesm5/ngneat-until-destroy.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/datepicker */ "./node_modules/@angular/material/fesm5/datepicker.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_material_select__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/select */ "./node_modules/@angular/material/fesm5/select.js");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/core */ "./node_modules/@angular/material/fesm5/core.js");
/* harmony import */ var _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/autocomplete */ "./node_modules/@angular/material/fesm5/autocomplete.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





























function EntitySubrecordComponent_ng_container_1_th_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var col_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", col_r5.label, " ");
} }
function EntitySubrecordComponent_ng_container_1_td_2_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var rec_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    var col_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", col_r5.formatter(rec_r9[col_r5.name].bind(rec_r9)()), " ");
} }
function EntitySubrecordComponent_ng_container_1_td_2_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var rec_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    var col_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", col_r5.formatter(rec_r9[col_r5.name]), " ");
} }
var _c0 = function () { return {}; };
var _c1 = function (a0) { return { "table-show-number": a0 }; };
function EntitySubrecordComponent_ng_container_1_td_2_div_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var rec_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    var col_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngStyle", col_r5.styleBuilder ? col_r5.styleBuilder(rec_r9[col_r5.name]) : _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](3, _c0))("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](4, _c1, col_r5.inputType === "number"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", col_r5.formatter(rec_r9[col_r5.name]), " ");
} }
function EntitySubrecordComponent_ng_container_1_td_2_div_4_input_2_Template(rf, ctx) { if (rf & 1) {
    var _r31 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "input", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function EntitySubrecordComponent_ng_container_1_td_2_div_4_input_2_Template_input_change_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r31); var rec_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit; var col_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; return (rec_r9[col_r5.name] = $event.target.value); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var rec_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit;
    var col_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", col_r5.label)("value", rec_r9[col_r5.name]);
} }
function EntitySubrecordComponent_ng_container_1_td_2_div_4_input_3_Template(rf, ctx) { if (rf & 1) {
    var _r37 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "input", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function EntitySubrecordComponent_ng_container_1_td_2_div_4_input_3_Template_input_change_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r37); var rec_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit; var col_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; return (rec_r9[col_r5.name] = $event.target.valueAsNumber); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var rec_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit;
    var col_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", col_r5.label)("value", rec_r9[col_r5.name]);
} }
function EntitySubrecordComponent_ng_container_1_td_2_div_4_input_4_Template(rf, ctx) { if (rf & 1) {
    var _r43 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "input", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("dateChange", function EntitySubrecordComponent_ng_container_1_td_2_div_4_input_4_Template_input_dateChange_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r43); var rec_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit; var col_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; return (rec_r9[col_r5.name] = $event.target.value); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    var _r24 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](7);
    var rec_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    var col_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", col_r5.label)("value", rec_r9[col_r5.name])("matDatepicker", _r24);
} }
function EntitySubrecordComponent_ng_container_1_td_2_div_4_mat_datepicker_toggle_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "mat-datepicker-toggle", 29);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    var _r24 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("for", _r24);
} }
function EntitySubrecordComponent_ng_container_1_td_2_div_4_input_8_Template(rf, ctx) { if (rf & 1) {
    var _r49 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "input", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function EntitySubrecordComponent_ng_container_1_td_2_div_4_input_8_Template_input_change_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r49); var rec_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit; var col_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; return (rec_r9[col_r5.name] = $event.target.valueAsDate); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var rec_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit;
    var col_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", col_r5.label)("valueAsDate", rec_r9[col_r5.name]);
} }
function EntitySubrecordComponent_ng_container_1_td_2_div_4_textarea_9_Template(rf, ctx) { if (rf & 1) {
    var _r55 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "textarea", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function EntitySubrecordComponent_ng_container_1_td_2_div_4_textarea_9_Template_textarea_change_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r55); var rec_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit; var col_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; return (rec_r9[col_r5.name] = $event.target.value); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var rec_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit;
    var col_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", col_r5.label)("value", rec_r9[col_r5.name]);
} }
function EntitySubrecordComponent_ng_container_1_td_2_div_4_mat_select_10_mat_option_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var option_r60 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", option_r60.value);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](option_r60.label);
} }
function EntitySubrecordComponent_ng_container_1_td_2_div_4_mat_select_10_Template(rf, ctx) { if (rf & 1) {
    var _r63 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-select", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("valueChange", function EntitySubrecordComponent_ng_container_1_td_2_div_4_mat_select_10_Template_mat_select_valueChange_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r63); var rec_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit; var col_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; return (rec_r9[col_r5.name] = $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, EntitySubrecordComponent_ng_container_1_td_2_div_4_mat_select_10_mat_option_1_Template, 2, 2, "mat-option", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var rec_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit;
    var col_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", rec_r9[col_r5.name]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", col_r5.selectValues);
} }
function EntitySubrecordComponent_ng_container_1_td_2_div_4_span_11_mat_option_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var option_r69 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", option_r69.value);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](option_r69.label);
} }
function EntitySubrecordComponent_ng_container_1_td_2_div_4_span_11_Template(rf, ctx) { if (rf & 1) {
    var _r72 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "input", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("input", function EntitySubrecordComponent_ng_container_1_td_2_div_4_span_11_Template_input_input_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r72); var col_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3).$implicit; var ctx_r70 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r70.autocompleteSearch(col_r5, $event.target.value); })("change", function EntitySubrecordComponent_ng_container_1_td_2_div_4_span_11_Template_input_change_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r72); var rec_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit; var col_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; return (rec_r9[col_r5.name] = $event.target.value); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "mat-autocomplete", 36, 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("optionSelected", function EntitySubrecordComponent_ng_container_1_td_2_div_4_span_11_Template_mat_autocomplete_optionSelected_2_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r72); var rec_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit; var col_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; return (rec_r9[col_r5.name] = $event.option.value); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, EntitySubrecordComponent_ng_container_1_td_2_div_4_span_11_mat_option_4_Template, 2, 2, "mat-option", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var _r67 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](3);
    var rec_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit;
    var col_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matAutocomplete", _r67)("title", col_r5.label)("value", rec_r9[col_r5.name]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", col_r5.selectValues);
} }
var _c2 = function (a0, a1) { return { "table-input-number": a0, "table-input-month": a1 }; };
function EntitySubrecordComponent_ng_container_1_td_2_div_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-form-field", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, EntitySubrecordComponent_ng_container_1_td_2_div_4_input_2_Template, 1, 2, "input", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, EntitySubrecordComponent_ng_container_1_td_2_div_4_input_3_Template, 1, 2, "input", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, EntitySubrecordComponent_ng_container_1_td_2_div_4_input_4_Template, 1, 3, "input", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, EntitySubrecordComponent_ng_container_1_td_2_div_4_mat_datepicker_toggle_5_Template, 1, 1, "mat-datepicker-toggle", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "mat-datepicker", null, 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, EntitySubrecordComponent_ng_container_1_td_2_div_4_input_8_Template, 1, 2, "input", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, EntitySubrecordComponent_ng_container_1_td_2_div_4_textarea_9_Template, 1, 2, "textarea", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, EntitySubrecordComponent_ng_container_1_td_2_div_4_mat_select_10_Template, 2, 2, "mat-select", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, EntitySubrecordComponent_ng_container_1_td_2_div_4_span_11_Template, 5, 4, "span", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var col_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](9, _c2, col_r5.inputType === "number", col_r5.inputType === "month" || col_r5.inputType === "date"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", col_r5.inputType === "text");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", col_r5.inputType === "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", col_r5.inputType === "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", col_r5.inputType === "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", col_r5.inputType === "month");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", col_r5.inputType === "textarea");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", col_r5.inputType === "select");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", col_r5.inputType === "autocomplete");
} }
var _c3 = function (a0) { return { "table-link": a0 }; };
function EntitySubrecordComponent_ng_container_1_td_2_Template(rf, ctx) { if (rf & 1) {
    var _r83 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function EntitySubrecordComponent_ng_container_1_td_2_Template_td_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r83); var rec_r9 = ctx.$implicit; var ctx_r82 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r82.showRecord(rec_r9); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, EntitySubrecordComponent_ng_container_1_td_2_div_1_Template, 2, 1, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, EntitySubrecordComponent_ng_container_1_td_2_div_2_Template, 2, 1, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, EntitySubrecordComponent_ng_container_1_td_2_div_3_Template, 2, 6, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, EntitySubrecordComponent_ng_container_1_td_2_div_4_Template, 12, 12, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var rec_r9 = ctx.$implicit;
    var col_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    var ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](5, _c3, ctx_r7.detailsComponent !== undefined));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", col_r5.inputType === "function");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", col_r5.inputType === "readonly");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r7.recordsEditing.get(rec_r9.getId()) && !ctx_r7.isReadonlyInputType(col_r5.inputType));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r7.recordsEditing.get(rec_r9.getId()) && !ctx_r7.isReadonlyInputType(col_r5.inputType));
} }
function EntitySubrecordComponent_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0, 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, EntitySubrecordComponent_ng_container_1_th_1_Template, 2, 1, "th", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, EntitySubrecordComponent_ng_container_1_td_2_Template, 5, 7, "td", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    var col_r5 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matColumnDef", col_r5.name);
} }
function EntitySubrecordComponent_th_3_button_1_Template(rf, ctx) { if (rf & 1) {
    var _r87 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 40);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function EntitySubrecordComponent_th_3_button_1_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r87); var ctx_r86 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r86.create(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-icon", 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function EntitySubrecordComponent_th_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, EntitySubrecordComponent_th_3_button_1_Template, 2, 0, "button", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.showAddButton);
} }
function EntitySubrecordComponent_td_4_button_1_Template(rf, ctx) { if (rf & 1) {
    var _r94 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function EntitySubrecordComponent_td_4_button_1_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r94); var rec_r88 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; var ctx_r92 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r92.recordsEditing.set(rec_r88.getId(), true); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-icon", 46);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function EntitySubrecordComponent_td_4_button_2_Template(rf, ctx) { if (rf & 1) {
    var _r97 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function EntitySubrecordComponent_td_4_button_2_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r97); var rec_r88 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; var ctx_r95 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r95.save(rec_r88); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-icon", 47);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function EntitySubrecordComponent_td_4_button_3_Template(rf, ctx) { if (rf & 1) {
    var _r100 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function EntitySubrecordComponent_td_4_button_3_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r100); var rec_r88 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; var ctx_r98 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r98.resetChanges(rec_r88); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-icon", 48);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function EntitySubrecordComponent_td_4_Template(rf, ctx) { if (rf & 1) {
    var _r102 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 42);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, EntitySubrecordComponent_td_4_button_1_Template, 2, 0, "button", 43);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, EntitySubrecordComponent_td_4_button_2_Template, 2, 0, "button", 43);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, EntitySubrecordComponent_td_4_button_3_Template, 2, 0, "button", 43);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "button", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function EntitySubrecordComponent_td_4_Template_button_click_4_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r102); var rec_r88 = ctx.$implicit; var ctx_r101 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r101.delete(rec_r88); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](5, "mat-icon", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var rec_r88 = ctx.$implicit;
    var ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r2.recordsEditing.get(rec_r88.getId()));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r2.recordsEditing.get(rec_r88.getId()));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r2.recordsEditing.get(rec_r88.getId()));
} }
function EntitySubrecordComponent_tr_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "tr", 49);
} }
var _c4 = function (a0) { return { "background-color": a0 }; };
function EntitySubrecordComponent_tr_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "tr", 50);
} if (rf & 2) {
    var rec_r103 = ctx.$implicit;
    var ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngStyle", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](1, _c4, ctx_r4.getColor(rec_r103)));
} }
/**
 * Generically configurable component to display and edit a list of entities in a compact way
 * that can especially be used within another entity's details view to display related entities.
 *
 * For example, all Notes related to a certain Child are displayed within the Child's detail view
 * with the help of this component.
 *
 * A detailed Guide on how to use this component is available:
 * - [How to display related entities]{@link /additional-documentation/how-to-guides/display-related-entities.html}
 */
var EntitySubrecordComponent = /** @class */ (function () {
    function EntitySubrecordComponent(_entityMapper, _snackBar, _confirmationDialog, formDialog, alertService, media) {
        var _this = this;
        this._entityMapper = _entityMapper;
        this._snackBar = _snackBar;
        this._confirmationDialog = _confirmationDialog;
        this.formDialog = formDialog;
        this.alertService = alertService;
        this.media = media;
        /**
         * Whether an "Add" button to create a new entry should be displayed as part of the form.
         * Default is "true".
         */
        this.showAddButton = true;
        /**
         * Event whenever an entity in this table is changed.
         */
        this.changedRecordsInEntitySubrecordEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /** data displayed in the template's table */
        this.recordsDataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_3__["MatTableDataSource"]();
        /** columns displayed in the template's table */
        this.columnsToDisplay = [];
        /** map of entities' ids and whether this record's table row is currently in edit mode */
        this.recordsEditing = new Map();
        /** backup copies of the original state of records to allow reset */
        this.originalRecords = [];
        this.screenWidth = "";
        this.media.media$
            .pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_10__["untilDestroyed"])(this))
            .subscribe(function (change) {
            if (change.mqAlias !== _this.screenWidth) {
                _this.screenWidth = change.mqAlias;
                _this.setupTable();
            }
        });
    }
    EntitySubrecordComponent.prototype.ngOnInit = function () {
        this.recordsDataSource.sort = this.sort;
    };
    /**
     * Update the component if any of the @Input properties were changed from outside.
     * @param changes
     */
    EntitySubrecordComponent.prototype.ngOnChanges = function (changes) {
        var _this = this;
        if (changes["records"] && this.records !== undefined) {
            this.recordsDataSource.data = this.records;
            this.records.forEach(function (e) {
                return _this.originalRecords.push(Object.assign({}, e));
            });
        }
        if (changes["columns"]) {
            this.columnsToDisplay = this.columns.map(function (e) { return e.name; });
            this.columnsToDisplay.push("actions");
            this.setupTable();
        }
    };
    /**
     * Save an edited record to the database (if validation succeeds).
     * @param record The entity to be saved.
     */
    EntitySubrecordComponent.prototype.save = function (record) {
        var _this = this;
        if (this.formValidation) {
            var formValidationResult = this.formValidation(record);
            if (!formValidationResult.hasPassedValidation) {
                this.alertService.addWarning(formValidationResult.validationMessage);
                return;
            }
        }
        this._entityMapper.save(record).then(function () {
            _this.changedRecordsInEntitySubrecordEvent.emit();
        });
        // updated backup copies used for reset
        var i = this.originalRecords.findIndex(function (e) { return e.entityId === record.getId(); });
        this.originalRecords[i] = Object.assign({}, record);
        this.recordsEditing.set(record.getId(), false);
    };
    /**
     * Discard any changes to the given entity and reset it to the state before the user started editing.
     * @param record The entity to be reset.
     */
    EntitySubrecordComponent.prototype.resetChanges = function (record) {
        // reload original record from database
        var index = this.records.findIndex(function (a) { return a.getId() === record.getId(); });
        if (index > -1) {
            var originalRecord = this.originalRecords.find(function (e) { return e.entityId === record.getId(); });
            Object.assign(record, originalRecord);
            this.records[index] = record;
            this.recordsDataSource.data = this.records;
        }
        this.recordsEditing.set(record.getId(), false);
    };
    EntitySubrecordComponent.prototype.removeFromDataTable = function (record) {
        var index = this.records.findIndex(function (a) { return a.getId() === record.getId(); });
        if (index > -1) {
            this.records.splice(index, 1);
            this.recordsDataSource.data = this.records;
        }
    };
    /**
     * Delete the given entity from the database (after explicit user confirmation).
     * @param record The entity to be deleted.
     */
    EntitySubrecordComponent.prototype.delete = function (record) {
        var _this = this;
        var dialogRef = this._confirmationDialog.openDialog("Delete?", "Are you sure you want to delete this record?");
        dialogRef.afterClosed().subscribe(function (confirmed) {
            if (confirmed) {
                _this._entityMapper.remove(record).then(function () {
                    _this.changedRecordsInEntitySubrecordEvent.emit();
                });
                _this.removeFromDataTable(record);
                var snackBarRef = _this._snackBar.open("Record deleted", "Undo", {
                    duration: 8000,
                });
                snackBarRef.onAction().subscribe(function () {
                    _this._entityMapper.save(record, true);
                    _this.records.unshift(record);
                    _this.recordsDataSource.data = _this.records;
                });
            }
        });
    };
    /**
     * Create a new entity.
     * The entity is only written to the database when the user saves this record which is newly added in edit mode.
     */
    EntitySubrecordComponent.prototype.create = function () {
        var newRecord = this.newRecordFactory();
        this.records.unshift(newRecord);
        this.originalRecords.unshift(Object.assign({}, newRecord));
        this.recordsDataSource.data = this.records;
        if (this.detailsComponent === undefined) {
            // edit inline in table
            this.recordsEditing.set(newRecord.getId(), true);
        }
        else {
            // open in modal for comfortable editing
            this.showRecord(newRecord);
        }
    };
    /**
     * Show one record's details in a modal dialog (if configured).
     * @param record The entity whose details should be displayed.
     */
    EntitySubrecordComponent.prototype.showRecord = function (record) {
        if (this.detailsComponent === undefined ||
            this.recordsEditing.get(record.getId())) {
            return;
        }
        this.formDialog.openDialog(this.detailsComponent, record);
    };
    EntitySubrecordComponent.prototype.autocompleteSearch = function (col, input) {
        if (col.allSelectValues === undefined) {
            col.allSelectValues = col.selectValues;
        }
        col.selectValues = col.allSelectValues.filter(function (v) { return v.value.includes(input) || v.label.includes(input); });
    };
    /**
     * resets columnsToDisplay depending on current screensize
     */
    EntitySubrecordComponent.prototype.setupTable = function () {
        if (this.columns !== undefined && this.screenWidth !== "") {
            var columnsHelpArray_1 = [];
            var entitySubrecordComponent_1 = this;
            this.columns.forEach(function (col) {
                if (entitySubrecordComponent_1.isVisible(col)) {
                    columnsHelpArray_1.push(col.name);
                }
            });
            this.columnsToDisplay = columnsHelpArray_1;
            if (this.screenWidth !== "xs") {
                this.columnsToDisplay.push("actions");
            }
        }
    };
    /**
     * isVisible
     * compares the current screensize to the columns' property visibleFrom. screensize < visibleFrom? column not displayed
     * @param col column that is checked
     * @return returns true if column is visible
     */
    EntitySubrecordComponent.prototype.isVisible = function (col) {
        var returnVal;
        switch (col.visibleFrom) {
            case "xl": {
                returnVal = this.screenWidth.match("xl");
                break;
            }
            case "lg": {
                returnVal = this.screenWidth.match("(lg|xl)");
                break;
            }
            case "md": {
                returnVal = this.screenWidth.match("(md|lg|xl)");
                break;
            }
            case "sm": {
                returnVal = this.screenWidth.match("(sm|md|lg|xl)");
                break;
            }
            default: {
                returnVal = true;
            }
        }
        return returnVal;
    };
    /**
     * Checks whether the given column configuration's input type is readonly
     * and therefore not changing its template in edit mode.
     * @param inputType The input type to be checked.
     */
    EntitySubrecordComponent.prototype.isReadonlyInputType = function (inputType) {
        return (inputType === _column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_8__["ColumnDescriptionInputType"].FUNCTION ||
            inputType === _column_description_input_type_enum__WEBPACK_IMPORTED_MODULE_8__["ColumnDescriptionInputType"].READONLY);
    };
    /**
     * returns the color for a record.
     * If this entity id is undefined, this will return the default color. Otherwise it will attempt
     * to get a specific color for this specific entity id
     * @param record The record to check for. The record must be an entity that has a <code>getColor()</code>-Method specified.
     * If this entityId is set, a <code>getColorForId()</code>-Method must be specified, that accepts this id.
     */
    EntitySubrecordComponent.prototype.getColor = function (record) {
        if (this.entityId !== undefined) {
            return record.getColorForId(this.entityId);
        }
        return record.getColor();
    };
    EntitySubrecordComponent.ɵfac = function EntitySubrecordComponent_Factory(t) { return new (t || EntitySubrecordComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_4__["EntityMapperService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_1__["MatSnackBar"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_confirmation_dialog_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_7__["ConfirmationDialogService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_form_dialog_form_dialog_service__WEBPACK_IMPORTED_MODULE_9__["FormDialogService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_6__["AlertService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_flex_layout__WEBPACK_IMPORTED_MODULE_5__["MediaObserver"])); };
    EntitySubrecordComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: EntitySubrecordComponent, selectors: [["app-entity-subrecord"]], viewQuery: function EntitySubrecordComponent_Query(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_angular_material_sort__WEBPACK_IMPORTED_MODULE_2__["MatSort"], true);
        } if (rf & 2) {
            var _t;
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.sort = _t.first);
        } }, inputs: { records: "records", columns: "columns", newRecordFactory: "newRecordFactory", detailsComponent: "detailsComponent", showAddButton: "showAddButton", formValidation: "formValidation", entityId: "entityId" }, outputs: { changedRecordsInEntitySubrecordEvent: "changedRecordsInEntitySubrecordEvent" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 7, vars: 4, consts: [["mat-table", "", "matSort", "", 1, "mat-elevation-z8", "subrecord-table", 3, "dataSource"], [3, "matColumnDef", 4, "ngFor", "ngForOf"], ["matColumnDef", "actions"], ["mat-header-cell", "", 4, "matHeaderCellDef"], ["mat-cell", "", 4, "matCellDef"], ["mat-header-row", "", 4, "matHeaderRowDef"], ["mat-row", "", 3, "ngStyle", 4, "matRowDef", "matRowDefColumns"], [3, "matColumnDef"], ["mat-header-cell", "", "mat-sort-header", "", 4, "matHeaderCellDef"], ["mat-cell", "", 3, "ngClass", "click", 4, "matCellDef"], ["mat-header-cell", "", "mat-sort-header", ""], ["mat-cell", "", 3, "ngClass", "click"], ["class", "table-show-number", 4, "ngIf"], [3, "ngStyle", "ngClass", 4, "ngIf"], [4, "ngIf"], [1, "table-show-number"], [3, "ngStyle", "ngClass"], [3, "ngClass"], ["matInput", "", "type", "text", 3, "title", "value", "change", 4, "ngIf"], ["matInput", "", "type", "number", "min", "0", 3, "title", "value", "change", 4, "ngIf"], ["matInput", "", 3, "title", "value", "matDatepicker", "dateChange", 4, "ngIf"], ["matSuffix", "", 3, "for", 4, "ngIf"], ["subrecordDatepicker", ""], ["matInput", "", "type", "month", 3, "title", "valueAsDate", "change", 4, "ngIf"], ["matInput", "", 3, "title", "value", "change", 4, "ngIf"], [3, "value", "valueChange", 4, "ngIf"], ["matInput", "", "type", "text", 3, "title", "value", "change"], ["matInput", "", "type", "number", "min", "0", 3, "title", "value", "change"], ["matInput", "", 3, "title", "value", "matDatepicker", "dateChange"], ["matSuffix", "", 3, "for"], ["matInput", "", "type", "month", 3, "title", "valueAsDate", "change"], ["matInput", "", 3, "title", "value", "change"], [3, "value", "valueChange"], [3, "value", 4, "ngFor", "ngForOf"], [3, "value"], ["matInput", "", "type", "text", 3, "matAutocomplete", "title", "value", "input", "change"], [3, "optionSelected"], ["auto", "matAutocomplete"], ["mat-header-cell", ""], ["mat-stroked-button", "", "class", "table-action-button", "color", "accent", 3, "click", 4, "ngIf"], ["mat-stroked-button", "", "color", "accent", 1, "table-action-button", 3, "click"], ["aria-label", "add", "fontIcon", "fa-plus-circle", 1, "table-action-icon"], ["mat-cell", ""], ["mat-icon-button", "", 3, "click", 4, "ngIf"], ["mat-icon-button", "", 3, "click"], ["aria-label", "delete", "fontIcon", "fa-trash", 1, "table-action-icon"], ["aria-label", "edit", "fontIcon", "fa-pencil", 1, "table-action-icon"], ["aria-label", "save", "fontIcon", "fa-check-circle", 1, "table-action-icon"], ["aria-label", "cancel", "fontIcon", "fa-times-circle", 1, "table-action-icon"], ["mat-header-row", ""], ["mat-row", "", 3, "ngStyle"]], template: function EntitySubrecordComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "table", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, EntitySubrecordComponent_ng_container_1_Template, 3, 1, "ng-container", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](2, 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, EntitySubrecordComponent_th_3_Template, 2, 1, "th", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, EntitySubrecordComponent_td_4_Template, 6, 3, "td", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, EntitySubrecordComponent_tr_5_Template, 1, 0, "tr", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, EntitySubrecordComponent_tr_6_Template, 1, 3, "tr", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("dataSource", ctx.recordsDataSource);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.columns);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matHeaderRowDef", ctx.columnsToDisplay);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matRowDefColumns", ctx.columnsToDisplay);
        } }, directives: [_angular_material_table__WEBPACK_IMPORTED_MODULE_3__["MatTable"], _angular_material_sort__WEBPACK_IMPORTED_MODULE_2__["MatSort"], _angular_common__WEBPACK_IMPORTED_MODULE_11__["NgForOf"], _angular_material_table__WEBPACK_IMPORTED_MODULE_3__["MatColumnDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_3__["MatHeaderCellDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_3__["MatCellDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_3__["MatHeaderRowDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_3__["MatRowDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_3__["MatHeaderCell"], _angular_material_sort__WEBPACK_IMPORTED_MODULE_2__["MatSortHeader"], _angular_material_table__WEBPACK_IMPORTED_MODULE_3__["MatCell"], _angular_common__WEBPACK_IMPORTED_MODULE_11__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_11__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_11__["NgStyle"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_12__["MatFormField"], _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_13__["MatDatepicker"], _angular_material_input__WEBPACK_IMPORTED_MODULE_14__["MatInput"], _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_13__["MatDatepickerInput"], _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_13__["MatDatepickerToggle"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_12__["MatSuffix"], _angular_material_select__WEBPACK_IMPORTED_MODULE_15__["MatSelect"], _angular_material_core__WEBPACK_IMPORTED_MODULE_16__["MatOption"], _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_17__["MatAutocompleteTrigger"], _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_17__["MatAutocomplete"], _angular_material_button__WEBPACK_IMPORTED_MODULE_18__["MatButton"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_19__["MatIcon"], _angular_material_table__WEBPACK_IMPORTED_MODULE_3__["MatHeaderRow"], _angular_material_table__WEBPACK_IMPORTED_MODULE_3__["MatRow"]], styles: [".subrecord-table[_ngcontent-%COMP%] {\n  width: 100%;\n}\n\n.table-link[_ngcontent-%COMP%] {\n  cursor: pointer;\n  height: 30px;\n}\n\n.table-action-icon[_ngcontent-%COMP%] {\n  font-size: 1.5em;\n}\n\n.table-action-button[_ngcontent-%COMP%] {\n  min-width: auto !important;\n}\n\n.table-show-number[_ngcontent-%COMP%] {\n  \n}\n\n.table-input-number[_ngcontent-%COMP%] {\n  width: 40px;\n}\n\n.table-input-month[_ngcontent-%COMP%] {\n  width: 120px;\n}\n\n.mat-column-actions[_ngcontent-%COMP%] {\n  width: 1px;\n  white-space: nowrap;\n  text-align: center;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY29yZS9lbnRpdHktc3VicmVjb3JkL2VudGl0eS1zdWJyZWNvcmQvZW50aXR5LXN1YnJlY29yZC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29yZS9lbnRpdHktc3VicmVjb3JkL2VudGl0eS1zdWJyZWNvcmQvZW50aXR5LXN1YnJlY29yZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFdBQUE7QUNDRjs7QURFQTtFQUNFLGVBQUE7RUFFQSxZQUFBO0FDQUY7O0FER0E7RUFDRSxnQkFBQTtBQ0FGOztBREdBO0VBQ0UsMEJBQUE7QUNBRjs7QURJQTtFQUNFLHFCQUFBO0FDREY7O0FESUE7RUFDRSxXQUFBO0FDREY7O0FER0E7RUFDRSxZQUFBO0FDQUY7O0FER0E7RUFDRSxVQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtBQ0FGIiwiZmlsZSI6InNyYy9hcHAvY29yZS9lbnRpdHktc3VicmVjb3JkL2VudGl0eS1zdWJyZWNvcmQvZW50aXR5LXN1YnJlY29yZC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zdWJyZWNvcmQtdGFibGUge1xuICB3aWR0aDogMTAwJTtcbn1cblxuLnRhYmxlLWxpbmsge1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIC8vZm9udC1zaXplOiAxLjVlbTtcbiAgaGVpZ2h0OiAzMHB4O1xufVxuXG4udGFibGUtYWN0aW9uLWljb24ge1xuICBmb250LXNpemU6IDEuNWVtO1xufVxuXG4udGFibGUtYWN0aW9uLWJ1dHRvbiB7XG4gIG1pbi13aWR0aDogYXV0byAhaW1wb3J0YW50O1xuICAvL3BhZGRpbmctcmlnaHQ6IDA7XG59XG5cbi50YWJsZS1zaG93LW51bWJlciB7XG4gIC8qdGV4dC1hbGlnbjogcmlnaHQ7Ki9cbn1cblxuLnRhYmxlLWlucHV0LW51bWJlciB7XG4gIHdpZHRoOiA0MHB4O1xufVxuLnRhYmxlLWlucHV0LW1vbnRoIHtcbiAgd2lkdGg6IDEyMHB4O1xufVxuXG4ubWF0LWNvbHVtbi1hY3Rpb25zIHtcbiAgd2lkdGg6IDFweDtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuIiwiLnN1YnJlY29yZC10YWJsZSB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4udGFibGUtbGluayB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgaGVpZ2h0OiAzMHB4O1xufVxuXG4udGFibGUtYWN0aW9uLWljb24ge1xuICBmb250LXNpemU6IDEuNWVtO1xufVxuXG4udGFibGUtYWN0aW9uLWJ1dHRvbiB7XG4gIG1pbi13aWR0aDogYXV0byAhaW1wb3J0YW50O1xufVxuXG4udGFibGUtc2hvdy1udW1iZXIge1xuICAvKnRleHQtYWxpZ246IHJpZ2h0OyovXG59XG5cbi50YWJsZS1pbnB1dC1udW1iZXIge1xuICB3aWR0aDogNDBweDtcbn1cblxuLnRhYmxlLWlucHV0LW1vbnRoIHtcbiAgd2lkdGg6IDEyMHB4O1xufVxuXG4ubWF0LWNvbHVtbi1hY3Rpb25zIHtcbiAgd2lkdGg6IDFweDtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufSJdfQ== */"] });
    EntitySubrecordComponent = __decorate([
        Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_10__["UntilDestroy"])(),
        __metadata("design:paramtypes", [_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_4__["EntityMapperService"],
            _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_1__["MatSnackBar"],
            _confirmation_dialog_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_7__["ConfirmationDialogService"],
            _form_dialog_form_dialog_service__WEBPACK_IMPORTED_MODULE_9__["FormDialogService"],
            app_core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_6__["AlertService"],
            _angular_flex_layout__WEBPACK_IMPORTED_MODULE_5__["MediaObserver"]])
    ], EntitySubrecordComponent);
    return EntitySubrecordComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](EntitySubrecordComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-entity-subrecord",
                templateUrl: "./entity-subrecord.component.html",
                styleUrls: ["./entity-subrecord.component.scss"],
            }]
    }], function () { return [{ type: _entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_4__["EntityMapperService"] }, { type: _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_1__["MatSnackBar"] }, { type: _confirmation_dialog_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_7__["ConfirmationDialogService"] }, { type: _form_dialog_form_dialog_service__WEBPACK_IMPORTED_MODULE_9__["FormDialogService"] }, { type: app_core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_6__["AlertService"] }, { type: _angular_flex_layout__WEBPACK_IMPORTED_MODULE_5__["MediaObserver"] }]; }, { records: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], columns: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], newRecordFactory: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], detailsComponent: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showAddButton: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], formValidation: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], changedRecordsInEntitySubrecordEvent: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], entityId: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], sort: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: [_angular_material_sort__WEBPACK_IMPORTED_MODULE_2__["MatSort"]]
        }] }); })();


/***/ }),

/***/ "./src/app/core/entity-subrecord/keys-pipe/keys.pipe.ts":
/*!**************************************************************!*\
  !*** ./src/app/core/entity-subrecord/keys-pipe/keys.pipe.ts ***!
  \**************************************************************/
/*! exports provided: KeysPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KeysPipe", function() { return KeysPipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};


/**
 * Angular Pipe to transform a given object to an array of the object's keys.
 *
 * @example in a template to display keys of an enum:
 * `*ngFor="let g of enumGenders | keys"`
 */
var KeysPipe = /** @class */ (function () {
    function KeysPipe() {
    }
    KeysPipe.prototype.transform = function (value, args) {
        var e_1, _a;
        var keys = [];
        try {
            for (var _b = __values(Object.keys(value)), _c = _b.next(); !_c.done; _c = _b.next()) {
                var enumMember = _c.value;
                keys.push({ key: enumMember, value: value[enumMember] });
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
        return keys;
    };
    KeysPipe.ɵfac = function KeysPipe_Factory(t) { return new (t || KeysPipe)(); };
    KeysPipe.ɵpipe = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefinePipe"]({ name: "keys", type: KeysPipe, pure: true });
    return KeysPipe;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](KeysPipe, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"],
        args: [{
                name: "keys",
            }]
    }], null, null); })();


/***/ }),

/***/ "./src/app/core/entity/database-entity.decorator.ts":
/*!**********************************************************!*\
  !*** ./src/app/core/entity/database-entity.decorator.ts ***!
  \**********************************************************/
/*! exports provided: DatabaseEntity */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DatabaseEntity", function() { return DatabaseEntity; });
/**
 * Decorator (Annotation `@DatabaseEntity()`) to set the string ENTITY_TYPE to an Entity Type.
 *
 * also see {@link /additional-documentation/how-to-guides/create-a-new-entity-type.html}
 *
 * @param entityType The string key for this Entity Type, used as id prefix.
 */
function DatabaseEntity(entityType) {
    return function (constructor) {
        constructor.ENTITY_TYPE = entityType;
        // append parent schema definitions
        var parentConstructor = Object.getPrototypeOf(constructor);
        parentConstructor.schema.forEach(function (value, key) {
            return constructor.schema.set(key, value);
        });
    };
}


/***/ }),

/***/ "./src/app/core/entity/database-field.decorator.ts":
/*!*********************************************************!*\
  !*** ./src/app/core/entity/database-field.decorator.ts ***!
  \*********************************************************/
/*! exports provided: DatabaseField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DatabaseField", function() { return DatabaseField; });
/* harmony import */ var reflect_metadata__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! reflect-metadata */ "./node_modules/reflect-metadata/Reflect.js");
/* harmony import */ var reflect_metadata__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(reflect_metadata__WEBPACK_IMPORTED_MODULE_0__);

/**
 * Decorator (Annotation `@DatabaseField()`) to mark a property of an Entity that should be persisted in the database.
 *
 * also see {@link /additional-documentation/how-to-guides/create-a-new-entity-type.html}
 *
 * @param propertySchema (optional) SchemaField definition that configures additional options regarding this field
 */
function DatabaseField(propertySchema) {
    if (propertySchema === void 0) { propertySchema = {}; }
    return function (target, propertyName) {
        target[propertyName] = undefined; // This ensures that the field is not read only
        if (propertySchema.dataType === undefined) {
            propertySchema.dataType = Reflect.getMetadata("design:type", target, propertyName).name.toLowerCase();
        }
        if (Object.getOwnPropertyDescriptor(target.constructor, "schema") == null) {
            target.constructor.schema = new Map();
        }
        target.constructor.schema.set(propertyName, propertySchema);
        return target;
    };
}


/***/ }),

/***/ "./src/app/core/entity/database-indexing/database-indexing.service.ts":
/*!****************************************************************************!*\
  !*** ./src/app/core/entity/database-indexing/database-indexing.service.ts ***!
  \****************************************************************************/
/*! exports provided: DatabaseIndexingService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DatabaseIndexingService", function() { return DatabaseIndexingService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _database_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../database/database */ "./src/app/core/database/database.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */





/**
 * Manage database query index creation and use, working as a facade in front of the Database service.
 * This allows to track pending indexing processes and also show them to users in the UI.
 */
var DatabaseIndexingService = /** @class */ (function () {
    function DatabaseIndexingService(db) {
        this.db = db;
        this._indicesRegistered = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"]([]);
    }
    Object.defineProperty(DatabaseIndexingService.prototype, "indicesRegistered", {
        /** All currently registered indices with their status */
        get: function () {
            return this._indicesRegistered.asObservable();
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Register a new database query to be created/updated and indexed.
     *
     * This also triggers updates to the observable `indicesRegistered`.
     *
     * @param designDoc The design document (see @link{Database}) describing the query/index.
     */
    DatabaseIndexingService.prototype.createIndex = function (designDoc) {
        return __awaiter(this, void 0, void 0, function () {
            var indexState, indexCreationPromise, err_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        indexState = {
                            title: "Preparing data (Indexing)",
                            details: designDoc._id.replace(/_design\//, ""),
                            pending: true,
                        };
                        indexCreationPromise = this.db.saveDatabaseIndex(designDoc);
                        this._indicesRegistered.next(__spread(this._indicesRegistered.value, [
                            indexState,
                        ]));
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, indexCreationPromise];
                    case 2:
                        _a.sent();
                        return [3 /*break*/, 4];
                    case 3:
                        err_1 = _a.sent();
                        indexState.pending = false;
                        indexState.error = err_1;
                        this._indicesRegistered.next(this._indicesRegistered.value);
                        throw err_1;
                    case 4:
                        indexState.pending = false;
                        this._indicesRegistered.next(this._indicesRegistered.value);
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Load data from the Database through the given, previously created index.
     * @param indexName The name of the previously created index to be queried.
     * @param options Additional query options (see @link{Database})
     */
    DatabaseIndexingService.prototype.queryIndex = function (indexName, options) {
        return this.db.query(indexName, options);
    };
    DatabaseIndexingService.ɵfac = function DatabaseIndexingService_Factory(t) { return new (t || DatabaseIndexingService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_database_database__WEBPACK_IMPORTED_MODULE_1__["Database"])); };
    DatabaseIndexingService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: DatabaseIndexingService, factory: DatabaseIndexingService.ɵfac, providedIn: "root" });
    return DatabaseIndexingService;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DatabaseIndexingService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root",
            }]
    }], function () { return [{ type: _database_database__WEBPACK_IMPORTED_MODULE_1__["Database"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/entity/entity-mapper.service.ts":
/*!******************************************************!*\
  !*** ./src/app/core/entity/entity-mapper.service.ts ***!
  \******************************************************/
/*! exports provided: EntityMapperService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EntityMapperService", function() { return EntityMapperService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _database_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../database/database */ "./src/app/core/database/database.ts");
/* harmony import */ var _entity__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./entity */ "./src/app/core/entity/entity.ts");
/* harmony import */ var _schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./schema/entity-schema.service */ "./src/app/core/entity/schema/entity-schema.service.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */







/**
 * Handles loading and saving of data for any higher-level feature module.
 * The EntityMapperService implicitly transforms objects from instances of Entity classes to the format to be written
 * to the database and back - ensuring they you always receive instances of {@link Entity} subclasses, that you can
 * simply treat them as normal javascript class instances without worrying about database persistance logic.
 *
 * To understand more about how to use the Entity system in your own modules, refer to the How-To Guides:
 * - [How to Load and Save Data]{@link /additional-documentation/how-to-guides/load-and-save-data.html}
 * - [How to Create a new Entity Type]{@link /additional-documentation/how-to-guides/create-a-new-entity-type.html}
 */
var EntityMapperService = /** @class */ (function () {
    function EntityMapperService(_db, entitySchemaService) {
        this._db = _db;
        this.entitySchemaService = entitySchemaService;
    }
    /**
     * Load an Entity from the database with the given id.
     *
     * @param entityType Class that implements Entity, which is the type of Entity the results should be transformed to
     * @param id The id of the entity to load
     * @returns A Promise resolving to an instance of entityType filled with its data.
     */
    EntityMapperService.prototype.load = function (entityType, id) {
        return __awaiter(this, void 0, void 0, function () {
            var resultEntity, result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        resultEntity = new entityType("");
                        return [4 /*yield*/, this._db.get(_entity__WEBPACK_IMPORTED_MODULE_2__["Entity"].createPrefixedId(resultEntity.getType(), id))];
                    case 1:
                        result = _a.sent();
                        this.entitySchemaService.loadDataIntoEntity(resultEntity, result);
                        return [2 /*return*/, resultEntity];
                }
            });
        });
    };
    /**
     * Load all entities from the database of the given type (for example a list of entities of the type User).
     *
     * @param entityType Class that implements Entity, which is the type of Entity the results should be transformed to
     * @returns A Promise resolving to an array of instances of entityType with the data of the loaded entities.
     */
    EntityMapperService.prototype.loadType = function (entityType) {
        return __awaiter(this, void 0, void 0, function () {
            var resultArray, allRecordsOfType, allRecordsOfType_1, allRecordsOfType_1_1, record, entity;
            var e_1, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        resultArray = [];
                        return [4 /*yield*/, this._db.getAll(new entityType("").getType() + ":")];
                    case 1:
                        allRecordsOfType = _b.sent();
                        try {
                            for (allRecordsOfType_1 = __values(allRecordsOfType), allRecordsOfType_1_1 = allRecordsOfType_1.next(); !allRecordsOfType_1_1.done; allRecordsOfType_1_1 = allRecordsOfType_1.next()) {
                                record = allRecordsOfType_1_1.value;
                                entity = new entityType("");
                                this.entitySchemaService.loadDataIntoEntity(entity, record);
                                resultArray.push(entity);
                            }
                        }
                        catch (e_1_1) { e_1 = { error: e_1_1 }; }
                        finally {
                            try {
                                if (allRecordsOfType_1_1 && !allRecordsOfType_1_1.done && (_a = allRecordsOfType_1.return)) _a.call(allRecordsOfType_1);
                            }
                            finally { if (e_1) throw e_1.error; }
                        }
                        return [2 /*return*/, resultArray];
                }
            });
        });
    };
    /**
     * Save an entity to the database after transforming it to its database representation.
     * @param entity The entity to be saved
     * @param forceUpdate Optional flag whether any conflicting version in the database will be quietly overwritten.
     *          if a conflict occurs without the forceUpdate flag being set, the save will fail, rejecting the returned promise.
     */
    EntityMapperService.prototype.save = function (entity, forceUpdate) {
        if (forceUpdate === void 0) { forceUpdate = false; }
        return __awaiter(this, void 0, void 0, function () {
            var rawData, result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        rawData = this.entitySchemaService.transformEntityToDatabaseFormat(entity);
                        return [4 /*yield*/, this._db.put(rawData, forceUpdate)];
                    case 1:
                        result = _a.sent();
                        if (result.ok) {
                            entity._rev = result.rev;
                        }
                        return [2 /*return*/, result];
                }
            });
        });
    };
    /**
     * Delete an entity from the database.
     * @param entity The entity to be deleted
     */
    EntityMapperService.prototype.remove = function (entity) {
        return this._db.remove(entity);
    };
    EntityMapperService.ɵfac = function EntityMapperService_Factory(t) { return new (t || EntityMapperService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_database_database__WEBPACK_IMPORTED_MODULE_1__["Database"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_3__["EntitySchemaService"])); };
    EntityMapperService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: EntityMapperService, factory: EntityMapperService.ɵfac });
    return EntityMapperService;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](EntityMapperService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _database_database__WEBPACK_IMPORTED_MODULE_1__["Database"] }, { type: _schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_3__["EntitySchemaService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/entity/entity.module.ts":
/*!**********************************************!*\
  !*** ./src/app/core/entity/entity.module.ts ***!
  \**********************************************/
/*! exports provided: EntityModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EntityModule", function() { return EntityModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./entity-mapper.service */ "./src/app/core/entity/entity-mapper.service.ts");
/* harmony import */ var _schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./schema/entity-schema.service */ "./src/app/core/entity/schema/entity-schema.service.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */





/**
 * Generic system to manage saving and loading documents with the database
 * while offering certain transformations between the object and the database representation.
 * A key part of this is to return instances of {@link Entity} subclasses to other modules of the app
 * which can simply treat them as normal javascript class instances without worrying about database persistance logic.
 *
 * The main service used by other modules is {@link EntityMapperService}, which provides functions to load, save and query
 * data from the database (and return it after transformation to the correct Entity instances).
 *
 * The Entity schema system allows you to use annotations in the Entity classes to define which properties
 * are saved to the database, how they are transformed and which properties are ignored when writing to the database.
 * This is handled by the {@link EntitySchemaService} (which is internally used by the EntityMapperService.
 * You can register your own custom data-type transformations with the EntitySchemaService as well.
 *
 * To understand how to use the Entity system in your own modules, refer to the How-To Guides:
 * - [How to Load and Save Data]{@link /additional-documentation/how-to-guides/load-and-save-data.html}
 * - [How to Create a new Entity Type]{@link /additional-documentation/how-to-guides/create-a-new-entity-type.html}
 */
var EntityModule = /** @class */ (function () {
    function EntityModule() {
    }
    EntityModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: EntityModule });
    EntityModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function EntityModule_Factory(t) { return new (t || EntityModule)(); }, providers: [_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__["EntityMapperService"], _schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_3__["EntitySchemaService"]], imports: [[_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]]] });
    return EntityModule;
}());

(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](EntityModule, { imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](EntityModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]],
                declarations: [],
                providers: [_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__["EntityMapperService"], _schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_3__["EntitySchemaService"]],
            }]
    }], null, null); })();


/***/ }),

/***/ "./src/app/core/entity/entity.ts":
/*!***************************************!*\
  !*** ./src/app/core/entity/entity.ts ***!
  \***************************************/
/*! exports provided: Entity */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Entity", function() { return Entity; });
/* harmony import */ var _database_field_decorator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./database-field.decorator */ "./src/app/core/entity/database-field.decorator.ts");
/* harmony import */ var _child_dev_project_warning_level__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../child-dev-project/warning-level */ "./src/app/child-dev-project/warning-level.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


/**
 * "Entity" is a base class for all domain model classes.
 * It implements the basic general properties and methods that are required for all Entity types
 * e.g. supporting the Entity Schema system or basic database logic.
 *
 * Entity classes do not deal with database actions, use {@link EntityMapperService} with its find/save/delete functions.
 *
 * Do not use the Entity class directly. Instead implement your own Entity types, writing classes that extend "Entity".
 * A How-To Guide on how to implement your own types is available:
 * - [How to Create a new Entity Type]{@link /additional-documentation/how-to-guides/create-a-new-entity-type.html}
 */
var Entity = /** @class */ (function () {
    /**
     * Creates an entity object with the given id. This id is final and won't be changeable after this object has been
     * created.
     *
     * @param id a unique id for this entity
     */
    function Entity(id) {
        this.entityId = id;
    }
    /**
     * Extract the ENTITY_TYPE from an id.
     * @param id An entity's id including prefix.
     */
    Entity.extractTypeFromId = function (id) {
        var split = id.indexOf(":");
        return id.substring(0, split);
    };
    /**
     * Extract entityId without prefix.
     * @param id An entity's id including prefix.
     */
    Entity.extractEntityIdFromId = function (id) {
        var split = id.indexOf(":");
        return id.substring(split + 1);
    };
    /**
     * Create a prefixed id by adding the type prefix if it isn't already part of the given id.
     * @param type The type prefix to be added.
     * @param id The id to be extended with a prefix.
     */
    Entity.createPrefixedId = function (type, id) {
        id = String(id);
        var prefix = type + ":";
        if (!id.startsWith(prefix)) {
            return prefix + id;
        }
        else {
            return id;
        }
    };
    Object.defineProperty(Entity.prototype, "entityId", {
        /** actual id without prefix */
        get: function () {
            return Entity.extractEntityIdFromId(this._id);
        },
        /**
         * Set id without prefix.
         * @param newEntityId The new id without prefix.
         */
        set: function (newEntityId) {
            this._id = Entity.createPrefixedId(this.getType(), newEntityId);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Get the class (Entity or the actual subclass of the instance) to call static methods on the correct class considering inheritance
     */
    Entity.prototype.getConstructor = function () {
        return this.constructor;
    };
    /**
     * Returns the id of this entity.
     *
     * Note that an id is final and can't be changed after the object has been instantiated, hence there is no
     * <code>setId()</code> method.
     *
     * @returns {string} the unique id of this entity
     */
    Entity.prototype.getId = function () {
        return this.entityId;
    };
    /**
     * Returns the type which is used to categorize this entity in the database.
     *
     * <b>Important: Do not overwrite this method! Types are handled internally.</b>
     *
     * @returns {string} the entity's type (which is the class name).
     */
    Entity.prototype.getType = function () {
        return this.getConstructor().ENTITY_TYPE;
    };
    /**
     * Returns a string representation or summary of the instance.
     *
     * <b>Important: Overwrite this method in subtypes!</b>
     *
     * @returns {string} the instance's string representation.
     */
    Entity.prototype.toString = function () {
        return this.getId();
    };
    /**
     * Returns an array of strings by which the entity can be searched.
     *
     * By default the parts of the "name" property (split at spaces) is used if it is present.
     *
     * <b>Overwrite this method in subtypes if you want an entity type to be searchable by other properties.</b>
     *
     * @returns {string[]} an array of strings through which the entity can be searched.
     */
    Entity.prototype.generateSearchIndices = function () {
        var indices = [];
        // default indices generated from "name" property
        if (this.hasOwnProperty("name")) {
            indices = this["name"].split(" ");
        }
        return indices;
    };
    /**
     * Used by some generic UI components to set the color for the entity instance.
     * Override this method as needed.
     */
    Entity.prototype.getColor = function () {
        return Object(_child_dev_project_warning_level__WEBPACK_IMPORTED_MODULE_1__["WarningLevelColor"])(this.getWarningLevel());
    };
    /**
     * Override getWarningLevel() to define when the entity is in a critical condition and should be color-coded
     * and highlighted in generic components of the UI.
     */
    Entity.prototype.getWarningLevel = function () {
        return _child_dev_project_warning_level__WEBPACK_IMPORTED_MODULE_1__["WarningLevel"].NONE;
    };
    /**
     * The entity's type.
     * In classes extending Entity this is usually overridden by the class annotation `@DatabaseEntity('NewEntity')`.
     */
    Entity.ENTITY_TYPE = "Entity";
    __decorate([
        Object(_database_field_decorator__WEBPACK_IMPORTED_MODULE_0__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Entity.prototype, "_id", void 0);
    __decorate([
        Object(_database_field_decorator__WEBPACK_IMPORTED_MODULE_0__["DatabaseField"])(),
        __metadata("design:type", String)
    ], Entity.prototype, "_rev", void 0);
    return Entity;
}());



/***/ }),

/***/ "./src/app/core/entity/schema-datatypes/datatype-array.ts":
/*!****************************************************************!*\
  !*** ./src/app/core/entity/schema-datatypes/datatype-array.ts ***!
  \****************************************************************/
/*! exports provided: arrayEntitySchemaDatatype */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "arrayEntitySchemaDatatype", function() { return arrayEntitySchemaDatatype; });
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
/**
 * Datatype for the EntitySchemaService transforming values of an array recursively.
 *
 * (De)serialize each item in an array according to the given Datatype transformer.
 *
 * As TypeScript array types are not reliable, you have to explicitly configure the dataType for array items with the annotation.
 * For example:
 *
 * `@DatabaseField({ arrayDataType: 'month' }) dateArr: Date[];`
 * will ensure that in the database this property is saved as an array of "month" date strings
 * using the {@link monthEntitySchemaDatatype} (e.g. resulting in `['2020-01', '2020-04']` in the database).
 */
var arrayEntitySchemaDatatype = {
    name: "array",
    transformToDatabaseFormat: function (value, schemaField, schemaService, parent) {
        if (!Array.isArray(value)) {
            console.warn('property to be transformed with "array" EntitySchema is not an array', value);
            return value;
        }
        var arrayElementDatatype = schemaService.getDatatypeOrDefault(schemaField.arrayDataType);
        return value.map(function (el) {
            return arrayElementDatatype.transformToDatabaseFormat(el, generateSubSchemaField(schemaField), schemaService, parent);
        });
    },
    transformToObjectFormat: function (value, schemaField, schemaService, parent) {
        if (!Array.isArray(value)) {
            console.warn('property to be transformed with "array" EntitySchema is not an array', value);
            return value;
        }
        var arrayElementDatatype = schemaService.getDatatypeOrDefault(schemaField.arrayDataType);
        return value.map(function (el) {
            return arrayElementDatatype.transformToObjectFormat(el, generateSubSchemaField(schemaField), schemaService, parent);
        });
    },
};
/**
 * Generate an EntitySchemaField configuration object for the recursively called datatype for array items
 * based on the given main config for the array datatype.
 * @ignore
 *
 * @param arraySchemaField The schema field config as received by the array datatype from the annotation
 */
function generateSubSchemaField(arraySchemaField) {
    var subSchemaField = Object.assign({}, arraySchemaField);
    subSchemaField.dataType = arraySchemaField.arrayDataType;
    delete subSchemaField.arrayDataType;
    return subSchemaField;
}


/***/ }),

/***/ "./src/app/core/entity/schema-datatypes/datatype-date-only.ts":
/*!********************************************************************!*\
  !*** ./src/app/core/entity/schema-datatypes/datatype-date-only.ts ***!
  \********************************************************************/
/*! exports provided: dateOnlyEntitySchemaDatatype */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dateOnlyEntitySchemaDatatype", function() { return dateOnlyEntitySchemaDatatype; });
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
/**
 * Datatype for the EntitySchemaService transforming Date values to/from a date string format ("YYYY-mm-dd").
 *
 * Throws an exception if the property is set to something that is not a Date instance and cannot be cast to Date either.
 *
 * For example:
 *
 * `@DatabaseField({dataType: 'date-only'}) myDate: Date = new Date('2020-01-15'); // will be "2020-01-15" (without time) in the database`
 */
var dateOnlyEntitySchemaDatatype = {
    name: "date-only",
    transformToDatabaseFormat: function (value) {
        if (!value) {
            return undefined;
        }
        return (value.getFullYear() +
            "-" +
            (value.getMonth() + 1).toString().padStart(2, "0") +
            "-" +
            value.getDate().toString().padStart(2, "0"));
    },
    transformToObjectFormat: function (value) {
        if (!value) {
            return undefined;
        }
        var date = new Date(value);
        if (Number.isNaN(date.getTime())) {
            throw new Error("failed to convert data to Date object: " + value);
        }
        return date;
    },
};


/***/ }),

/***/ "./src/app/core/entity/schema-datatypes/datatype-date.ts":
/*!***************************************************************!*\
  !*** ./src/app/core/entity/schema-datatypes/datatype-date.ts ***!
  \***************************************************************/
/*! exports provided: dateEntitySchemaDatatype */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dateEntitySchemaDatatype", function() { return dateEntitySchemaDatatype; });
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
/**
 * Datatype for the EntitySchemaService transforming values to Date instances.
 *
 * This type is automatically used if you annotate a class's property that has the TypeScript type "Date"
 * ensuring that even if values in the database might be some kind of date string they will be cast to Date instances.
 *
 * For example:
 *
 * `@DatabaseField() myDate: Date; // will be a valid Date even if the database previously had "2020-01-15" as string`
 */
var dateEntitySchemaDatatype = {
    name: "date",
    transformToDatabaseFormat: function (value) {
        // TODO: should date format be saved as date object or as string "YYYY-mm-dd"?
        // return isValidDate(value) ? value.toISOString().slice(0, 10) : '';
        // DONE: date format is now being saved as date object
        return value;
    },
    transformToObjectFormat: function (value) {
        if (!value) {
            return undefined;
        }
        var date = new Date(value);
        if (Number.isNaN(date.getTime())) {
            throw new Error("failed to convert data to Date object: " + value);
        }
        return date;
    },
};


/***/ }),

/***/ "./src/app/core/entity/schema-datatypes/datatype-default.ts":
/*!******************************************************************!*\
  !*** ./src/app/core/entity/schema-datatypes/datatype-default.ts ***!
  \******************************************************************/
/*! exports provided: defaultEntitySchemaDatatype */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultEntitySchemaDatatype", function() { return defaultEntitySchemaDatatype; });
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
/**
 * The default fallback Datatype for the EntitySchemaService that keeps values unchanged between database and entity instance.
 *
 * This type is automatically used whenever no fitting Datatype can be found for that config or TypeScript type.
 */
var defaultEntitySchemaDatatype = {
    name: "any",
    transformToDatabaseFormat: function (value) {
        return value;
    },
    transformToObjectFormat: function (value) {
        return value;
    },
};


/***/ }),

/***/ "./src/app/core/entity/schema-datatypes/datatype-month.ts":
/*!****************************************************************!*\
  !*** ./src/app/core/entity/schema-datatypes/datatype-month.ts ***!
  \****************************************************************/
/*! exports provided: monthEntitySchemaDatatype */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "monthEntitySchemaDatatype", function() { return monthEntitySchemaDatatype; });
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
/**
 * Datatype for the EntitySchemaService transforming Date values to/from a short string month format ("YYYY-mm").
 *
 * Throws an exception if the property is set to something that is not a Date instance and cannot be cast to Date either.
 *
 * For example:
 *
 * `@DatabaseField({dataType: 'month'}) myMonth: Date = new Date('2020-01-15'); // will be "2020-01" in the database`
 */
var monthEntitySchemaDatatype = {
    name: "month",
    transformToDatabaseFormat: function (value) {
        if (!value) {
            return undefined;
        }
        if (!(value instanceof Date)) {
            value = new Date(value);
        }
        return (value.getFullYear().toString() +
            "-" +
            (value.getMonth() + 1).toString().replace(/^(\d)$/g, "0$1"));
    },
    transformToObjectFormat: function (value) {
        if (!value || value === "") {
            return undefined;
        }
        value = value
            .toString()
            .replace(/-(\d)-/g, "-0$1-")
            .replace(/-(\d)$/g, "-0$1");
        var date = new Date(value);
        if (Number.isNaN(date.getTime())) {
            console.log("value aus datatype-month.ts: " + value);
            throw new Error("failed to convert data to Date object: " + value);
        }
        return date;
    },
};


/***/ }),

/***/ "./src/app/core/entity/schema-datatypes/datatype-number.ts":
/*!*****************************************************************!*\
  !*** ./src/app/core/entity/schema-datatypes/datatype-number.ts ***!
  \*****************************************************************/
/*! exports provided: numberEntitySchemaDatatype */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "numberEntitySchemaDatatype", function() { return numberEntitySchemaDatatype; });
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
/**
 * Datatype for the EntitySchemaService transforming values to "number".
 *
 * This type is automatically used if you annotate a class's property that has the TypeScript type "number"
 * ensuring that even if values in the database from other sources are not of type number they will be cast to number.
 *
 * For example:
 *
 * `@DatabaseField() myNumber: number;`
 *
 * `@DatabaseField({dataType: 'number'}) myValue: any;`
 */
var numberEntitySchemaDatatype = {
    name: "number",
    transformToDatabaseFormat: function (value) {
        if (!value) {
            return undefined;
        }
        return Number(value);
    },
    transformToObjectFormat: function (value) {
        if (!value) {
            return undefined;
        }
        return Number(value);
    },
};


/***/ }),

/***/ "./src/app/core/entity/schema-datatypes/datatype-schema-embed.ts":
/*!***********************************************************************!*\
  !*** ./src/app/core/entity/schema-datatypes/datatype-schema-embed.ts ***!
  \***********************************************************************/
/*! exports provided: schemaEmbedEntitySchemaDatatype */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "schemaEmbedEntitySchemaDatatype", function() { return schemaEmbedEntitySchemaDatatype; });
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
/**
 * Datatype for the EntitySchemaService transforming values of complex objects recursively.
 *
 * (De)serialize instances of any class recognizing the normal @DatabaseField() annotations within that referenced class.
 * This is useful if your Entity type is complex and has properties that are instances of other classes
 * rather just basic value types like string or number.
 * You can then annotate some properties of that referenced class so they will be saved to the database while ignoring other properties.
 * The referenced class instance will be saved embedded into the entity's object and not as an own "stand-alone" entity.
 *
 * see the unit tests in entity-schema.service.spec.ts for an example
 *
 * Requires the class constructor as extension field in the schema field annotation:
 *
 * `@DatabaseField({ dataType: 'schema-embed', ext: MyClass })`
 */
var schemaEmbedEntitySchemaDatatype = {
    name: "schema-embed",
    transformToDatabaseFormat: function (value, schemaField, schemaService) {
        return schemaService.transformEntityToDatabaseFormat(value, schemaField.ext.schema);
    },
    transformToObjectFormat: function (value, schemaField, schemaService) {
        return schemaService.transformDatabaseToEntityFormat(value, schemaField.ext.schema);
    },
};


/***/ }),

/***/ "./src/app/core/entity/schema-datatypes/datatype-string.ts":
/*!*****************************************************************!*\
  !*** ./src/app/core/entity/schema-datatypes/datatype-string.ts ***!
  \*****************************************************************/
/*! exports provided: stringEntitySchemaDatatype */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stringEntitySchemaDatatype", function() { return stringEntitySchemaDatatype; });
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
/**
 * Datatype for the EntitySchemaService transforming values to "string".
 *
 * This type is automatically used if you annotate a class's property that has the TypeScript type "string"
 * ensuring that even if values in the database from other sources are not of type string, the property will be a string.
 *
 * For example:
 *
 * `@DatabaseField() myString: string;`
 *
 * `@DatabaseField({dataType: 'string'}) myValue: any;`
 */
var stringEntitySchemaDatatype = {
    name: "string",
    transformToDatabaseFormat: function (value) {
        if (!value) {
            return undefined;
        }
        return String(value);
    },
    transformToObjectFormat: function (value) {
        if (!value) {
            return undefined;
        }
        return String(value);
    },
};


/***/ }),

/***/ "./src/app/core/entity/schema/entity-schema.service.ts":
/*!*************************************************************!*\
  !*** ./src/app/core/entity/schema/entity-schema.service.ts ***!
  \*************************************************************/
/*! exports provided: EntitySchemaService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EntitySchemaService", function() { return EntitySchemaService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _schema_datatypes_datatype_default__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../schema-datatypes/datatype-default */ "./src/app/core/entity/schema-datatypes/datatype-default.ts");
/* harmony import */ var _schema_datatypes_datatype_string__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../schema-datatypes/datatype-string */ "./src/app/core/entity/schema-datatypes/datatype-string.ts");
/* harmony import */ var _schema_datatypes_datatype_number__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../schema-datatypes/datatype-number */ "./src/app/core/entity/schema-datatypes/datatype-number.ts");
/* harmony import */ var _schema_datatypes_datatype_date__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../schema-datatypes/datatype-date */ "./src/app/core/entity/schema-datatypes/datatype-date.ts");
/* harmony import */ var _schema_datatypes_datatype_month__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../schema-datatypes/datatype-month */ "./src/app/core/entity/schema-datatypes/datatype-month.ts");
/* harmony import */ var _schema_datatypes_datatype_array__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../schema-datatypes/datatype-array */ "./src/app/core/entity/schema-datatypes/datatype-array.ts");
/* harmony import */ var _schema_datatypes_datatype_schema_embed__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../schema-datatypes/datatype-schema-embed */ "./src/app/core/entity/schema-datatypes/datatype-schema-embed.ts");
/* harmony import */ var _schema_datatypes_datatype_date_only__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../schema-datatypes/datatype-date-only */ "./src/app/core/entity/schema-datatypes/datatype-date-only.ts");
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};










/**
 * Transform between entity instances and database objects
 * based on the dataType set for properties in Entity classes using the {@link DatabaseField} annotation.
 *
 * You can inject the EntitySchemaService in your code to register your custom {@link EntitySchemaDatatype} implementations.
 *
 * This service is used by the {@link EntityMapperService} to internally transform objects.
 * You should normally use the EntityMapperService instead of transforming objects yourself with the EntitySchemaService.
 *
 * also see the How-To Guides:
 * - [Create A New Entity Type]{@link /additional-documentation/how-to-guides/create-a-new-entity-type.html}
 */
var EntitySchemaService = /** @class */ (function () {
    function EntitySchemaService() {
        /**
         * Internal registry of data type definitions.
         * You can extend the Schema system with your data type conversions by using EntitySchema.registerSchemaDatatype()
         */
        this.schemaTypes = new Map();
        this.registerBasicDatatypes();
    }
    EntitySchemaService.prototype.registerBasicDatatypes = function () {
        this.registerSchemaDatatype(_schema_datatypes_datatype_string__WEBPACK_IMPORTED_MODULE_2__["stringEntitySchemaDatatype"]);
        this.registerSchemaDatatype(_schema_datatypes_datatype_number__WEBPACK_IMPORTED_MODULE_3__["numberEntitySchemaDatatype"]);
        this.registerSchemaDatatype(_schema_datatypes_datatype_date__WEBPACK_IMPORTED_MODULE_4__["dateEntitySchemaDatatype"]);
        this.registerSchemaDatatype(_schema_datatypes_datatype_date_only__WEBPACK_IMPORTED_MODULE_8__["dateOnlyEntitySchemaDatatype"]);
        this.registerSchemaDatatype(_schema_datatypes_datatype_month__WEBPACK_IMPORTED_MODULE_5__["monthEntitySchemaDatatype"]);
        this.registerSchemaDatatype(_schema_datatypes_datatype_array__WEBPACK_IMPORTED_MODULE_6__["arrayEntitySchemaDatatype"]);
        this.registerSchemaDatatype(_schema_datatypes_datatype_schema_embed__WEBPACK_IMPORTED_MODULE_7__["schemaEmbedEntitySchemaDatatype"]);
    };
    /**
     * Add a datatype definition to the registry to provide a conversion between what is written into the database
     * and what is available in Entity objects.
     * @param type The EntitySchemaDatatype object definition providing data transformation functions.
     */
    EntitySchemaService.prototype.registerSchemaDatatype = function (type) {
        this.schemaTypes.set(type.name, type);
    };
    /**
     * Get the datatype for the giving name (or the default datatype if no other registered type fits)
     * @param datatypeName The key/name of the datatype
     */
    EntitySchemaService.prototype.getDatatypeOrDefault = function (datatypeName) {
        datatypeName = datatypeName ? datatypeName.toLowerCase() : undefined;
        if (this.schemaTypes.has(datatypeName)) {
            return this.schemaTypes.get(datatypeName);
        }
        else {
            return _schema_datatypes_datatype_default__WEBPACK_IMPORTED_MODULE_1__["defaultEntitySchemaDatatype"];
        }
    };
    /**
     * Transform a database object to entity format according to the schema.
     * @param data The database object that will be transformed to the given entity format
     * @param schema A schema defining the transformation
     */
    EntitySchemaService.prototype.transformDatabaseToEntityFormat = function (data, schema) {
        var e_1, _a;
        try {
            for (var _b = __values(schema.keys()), _c = _b.next(); !_c.done; _c = _b.next()) {
                var key = _c.value;
                var schemaField = schema.get(key);
                var newValue = this.getDatatypeOrDefault(schemaField.dataType).transformToObjectFormat(data[key], schemaField, this, data);
                if (newValue !== undefined) {
                    data[key] = newValue;
                }
                if (schemaField.generateIndex) {
                    throw new Error('schema option "isIndexed" not implemented yet');
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
        return data;
    };
    /**
     * Helper function to assign the giving data to the given entity instance after transforming it according to the schema.
     * @param entity An entity instance whose properties will be overwritten with the transformed data
     * @param data The database object that will be transformed and assigned to the entity
     */
    EntitySchemaService.prototype.loadDataIntoEntity = function (entity, data) {
        data = this.transformDatabaseToEntityFormat(data, entity.getConstructor().schema);
        Object.assign(entity, data);
    };
    /**
     * Transform an entity instance to a database object according to the schema.
     * @param entity The object (an instance of an entity type)
     * @param schema The schema of the entity (if not explicitly defined the schema of the given entity is used)
     */
    EntitySchemaService.prototype.transformEntityToDatabaseFormat = function (entity, schema) {
        var e_2, _a;
        if (!schema) {
            schema = entity.getConstructor().schema;
        }
        var data = {};
        try {
            for (var _b = __values(schema.keys()), _c = _b.next(); !_c.done; _c = _b.next()) {
                var key = _c.value;
                var schemaField = schema.get(key);
                if (entity[key] !== undefined) {
                    data[key] = this.getDatatypeOrDefault(schemaField.dataType).transformToDatabaseFormat(entity[key], schemaField, this, entity);
                }
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_2) throw e_2.error; }
        }
        if (entity.generateSearchIndices) {
            data["searchIndices"] = entity.generateSearchIndices();
        }
        return data;
    };
    EntitySchemaService.ɵfac = function EntitySchemaService_Factory(t) { return new (t || EntitySchemaService)(); };
    EntitySchemaService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: EntitySchemaService, factory: EntitySchemaService.ɵfac });
    return EntitySchemaService;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](EntitySchemaService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "./src/app/core/filter/filter-selection/filter-selection.ts":
/*!******************************************************************!*\
  !*** ./src/app/core/filter/filter-selection/filter-selection.ts ***!
  \******************************************************************/
/*! exports provided: FilterSelection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FilterSelection", function() { return FilterSelection; });
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
/**
 * Generic configuration for a filter with different selectable {@link FilterSelectionOption} options.
 *
 * This is a reusable format for any kind of dropdown or selection component that offers the user a choice
 * to narrow down a list of data items.
 * As the filter function is provided as part of each {@link FilterSelectionOption}
 * an instance of this FilterSelection class can manage all filter selection logic.
 */
var FilterSelection = /** @class */ (function () {
    /**
     * Create a FilterSelection with different options to be selected.
     * @param name The name or id describing this filter
     * @param options An array of different filtering variants to chose between
     */
    function FilterSelection(name, options) {
        this.name = name;
        this.options = options;
        /** key of currently selected option */
        this.selectedOption = "";
        /** default filter will keep all items in the result */
        this.defaultFilterFunction = function (c) { return true; };
    }
    /**
     * Get the full filter option by its key.
     * @param key The identifier of the requested option
     */
    FilterSelection.prototype.getOption = function (key) {
        return this.options.find(function (option) { return option.key === key; });
    };
    FilterSelection.prototype.getFilterFunction = function (key) {
        var option = this.getOption(key);
        if (!option) {
            return this.defaultFilterFunction;
        }
        else {
            return option.filterFun;
        }
    };
    /**
     * Get the filter function of the currently selected option.
     * If no option has been selected yet, the returned filter function will keep all items in the result if applied.
     *
     * This can be directly used on a data array, e.g. "data.filter(filterSelection.getFilterFunction('a'))"
     */
    FilterSelection.prototype.getSelectedFilterFunction = function () {
        return this.getFilterFunction(this.selectedOption);
    };
    /**
     * Reset the available filter options to the ones dynamically generated from the given value to be matched.
     *
     * This is a utility function to make it easier to generate {@link FilterSelectionOption}s for standard cases
     * if you simply want each option to filter items having the given attribute matching different values.
     * If you have more sophisticated filtering needs, use the constructor to set {@link FilterSelectionOption}s that
     * you created yourself.
     *
     * @param valuesToMatchAsOptions An array of values to be matched.
     *        A separate FilterSelectionOption is created for each value with a filter
     *        that is true of a data item's property exactly matches that value.
     * @param attributeName The name of the property of a data item that is compared to the value in the filter function.
     */
    FilterSelection.prototype.initOptions = function (valuesToMatchAsOptions, attributeName) {
        var options = [{ key: "", label: "All", filterFun: function (e) { return true; } }];
        valuesToMatchAsOptions.forEach(function (k) {
            options.push({
                key: k.toLowerCase(),
                label: k.toString(),
                filterFun: function (e) { return e[attributeName] === k; },
            });
        });
        this.options = options;
    };
    return FilterSelection;
}());



/***/ }),

/***/ "./src/app/core/form-dialog/form-dialog-wrapper/form-dialog-wrapper.component.ts":
/*!***************************************************************************************!*\
  !*** ./src/app/core/form-dialog/form-dialog-wrapper/form-dialog-wrapper.component.ts ***!
  \***************************************************************************************/
/*! exports provided: FormDialogWrapperComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormDialogWrapperComponent", function() { return FormDialogWrapperComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../entity/entity-mapper.service */ "./src/app/core/entity/entity-mapper.service.ts");
/* harmony import */ var _entity_entity__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../entity/entity */ "./src/app/core/entity/entity.ts");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/fesm5/dialog.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm2015/angulartics2.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};








var _c0 = ["entityForm"];
var _c1 = [[["h1"]], [["form"]]];
var _c2 = ["h1", "form"];
/**
 * Use `<app-form-dialog-wrapper>` in your form templates to handle the saving and resetting of the edited entity.
 * This wrapper component ensures that the UI looks consistent for all forms
 * and also allows you to easily show the form in a dialog using the {@link FormDialogService}.
 *
 * @example
 <app-form-dialog-wrapper [entity]="myEntity">
   <h1>
     <!-- h1 element is used for dialog title -->
   </h1>
   <form #entityForm="ngForm"> <!-- marking your form with #entityForm is required -->
     <!-- add your form fields here -->
     <!-- save/cancel buttons are added by the wrapper automatically  -->
   </form>
 </app-form-dialog-wrapper>
 */
var FormDialogWrapperComponent = /** @class */ (function () {
    function FormDialogWrapperComponent(entityMapper) {
        this.entityMapper = entityMapper;
        /**
         * Triggered when the form should be closed (after save or reset is completed).
         *
         * This emits the saved entity or undefined if the form was canceled.
         */
        this.onClose = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    Object.defineProperty(FormDialogWrapperComponent.prototype, "entity", {
        get: function () {
            return this._entity;
        },
        /** entity to be edited */
        set: function (value) {
            this.originalEntity = Object.assign({}, value);
            this._entity = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FormDialogWrapperComponent.prototype, "isFormDirty", {
        /**
         * whether the contained form has been changed
         */
        get: function () {
            return this.contentForm.form.dirty;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Save the entity with the changes made in the current form.
     *
     * You can hook into the saving through the `beforeSave` Input.
     */
    FormDialogWrapperComponent.prototype.save = function () {
        return __awaiter(this, void 0, void 0, function () {
            var transformedEntity;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.beforeSave) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.beforeSave(this.entity)];
                    case 1:
                        transformedEntity = _a.sent();
                        if (!transformedEntity) {
                            // abort saving
                            return [2 /*return*/];
                        }
                        this.entity = transformedEntity;
                        _a.label = 2;
                    case 2: return [4 /*yield*/, this.entityMapper.save(this.entity)];
                    case 3:
                        _a.sent();
                        this.onClose.emit(this.entity);
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Reset any changes made to the entity in the current form (and trigger an `onClose` event).
     */
    FormDialogWrapperComponent.prototype.cancel = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                Object.assign(this._entity, this.originalEntity);
                this.onClose.emit(undefined);
                return [2 /*return*/];
            });
        });
    };
    FormDialogWrapperComponent.ɵfac = function FormDialogWrapperComponent_Factory(t) { return new (t || FormDialogWrapperComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_1__["EntityMapperService"])); };
    FormDialogWrapperComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: FormDialogWrapperComponent, selectors: [["app-form-dialog-wrapper"]], contentQueries: function FormDialogWrapperComponent_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstaticContentQuery"](dirIndex, _c0, true);
        } if (rf & 2) {
            var _t;
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.contentForm = _t.first);
        } }, inputs: { entity: "entity", beforeSave: "beforeSave" }, outputs: { onClose: "onClose" }, ngContentSelectors: _c2, decls: 9, vars: 1, consts: [["mat-dialog-title", "", 1, "form-dialog-title"], ["mat-stroked-button", "", "angulartics2On", "click", "angularticsCategory", "UserAction", "angularticsAction", "form_dialog_save", 3, "disabled", "click"], ["mat-stroked-button", "", "angulartics2On", "click", "angularticsCategory", "UserAction", "angularticsAction", "form_dialog_cancel", 3, "click"]], template: function FormDialogWrapperComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"](_c1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "mat-dialog-content");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](3, 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "mat-dialog-actions");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "button", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function FormDialogWrapperComponent_Template_button_click_5_listener() { return ctx.save(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6, " Save ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "button", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function FormDialogWrapperComponent_Template_button_click_7_listener() { return ctx.cancel(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8, " Cancel ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", !ctx.contentForm.form.dirty);
        } }, directives: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__["MatDialogTitle"], _angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__["MatDialogContent"], _angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__["MatDialogActions"], _angular_material_button__WEBPACK_IMPORTED_MODULE_4__["MatButton"], angulartics2__WEBPACK_IMPORTED_MODULE_5__["Angulartics2On"]], styles: [".form-dialog-title[_ngcontent-%COMP%]     {\n  font-size: 0.8em;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY29yZS9mb3JtLWRpYWxvZy9mb3JtLWRpYWxvZy13cmFwcGVyL2Zvcm0tZGlhbG9nLXdyYXBwZXIuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvcmUvZm9ybS1kaWFsb2cvZm9ybS1kaWFsb2ctd3JhcHBlci9mb3JtLWRpYWxvZy13cmFwcGVyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL2NvcmUvZm9ybS1kaWFsb2cvZm9ybS1kaWFsb2ctd3JhcHBlci9mb3JtLWRpYWxvZy13cmFwcGVyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmZvcm0tZGlhbG9nLXRpdGxlIDo6bmctZGVlcCB7XG4gIGZvbnQtc2l6ZTogMC44ZW07XG59XG4iLCIuZm9ybS1kaWFsb2ctdGl0bGUgOjpuZy1kZWVwIHtcbiAgZm9udC1zaXplOiAwLjhlbTtcbn0iXX0= */"] });
    return FormDialogWrapperComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](FormDialogWrapperComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-form-dialog-wrapper",
                templateUrl: "./form-dialog-wrapper.component.html",
                styleUrls: ["./form-dialog-wrapper.component.scss"],
            }]
    }], function () { return [{ type: _entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_1__["EntityMapperService"] }]; }, { entity: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], beforeSave: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], onClose: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], contentForm: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
            args: ["entityForm", { static: true }]
        }] }); })();


/***/ }),

/***/ "./src/app/core/form-dialog/form-dialog.module.ts":
/*!********************************************************!*\
  !*** ./src/app/core/form-dialog/form-dialog.module.ts ***!
  \********************************************************/
/*! exports provided: FormDialogModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormDialogModule", function() { return FormDialogModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/fesm5/dialog.js");
/* harmony import */ var _form_dialog_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./form-dialog.service */ "./src/app/core/form-dialog/form-dialog.service.ts");
/* harmony import */ var _form_dialog_wrapper_form_dialog_wrapper_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./form-dialog-wrapper/form-dialog-wrapper.component */ "./src/app/core/form-dialog/form-dialog-wrapper/form-dialog-wrapper.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _confirmation_dialog_confirmation_dialog_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../confirmation-dialog/confirmation-dialog.module */ "./src/app/core/confirmation-dialog/confirmation-dialog.module.ts");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm2015/angulartics2.js");










/**
 * A helper utility module to consistently and easily display forms
 *
 * Use the {@link FormDialogService} to display forms as a dialog hovering over the other UI.
 *
 * Use the {@link FormDialogWrapperComponent} to get generic logic and UI for saving/cancelling forms.
 */
var FormDialogModule = /** @class */ (function () {
    function FormDialogModule() {
    }
    FormDialogModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: FormDialogModule });
    FormDialogModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function FormDialogModule_Factory(t) { return new (t || FormDialogModule)(); }, providers: [_form_dialog_service__WEBPACK_IMPORTED_MODULE_4__["FormDialogService"]], imports: [[
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__["MatDialogModule"],
                _angular_material_button__WEBPACK_IMPORTED_MODULE_2__["MatButtonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_6__["FormsModule"],
                _confirmation_dialog_confirmation_dialog_module__WEBPACK_IMPORTED_MODULE_7__["ConfirmationDialogModule"],
                angulartics2__WEBPACK_IMPORTED_MODULE_8__["Angulartics2Module"],
            ]] });
    return FormDialogModule;
}());

(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](FormDialogModule, { declarations: [_form_dialog_wrapper_form_dialog_wrapper_component__WEBPACK_IMPORTED_MODULE_5__["FormDialogWrapperComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__["MatDialogModule"],
        _angular_material_button__WEBPACK_IMPORTED_MODULE_2__["MatButtonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_6__["FormsModule"],
        _confirmation_dialog_confirmation_dialog_module__WEBPACK_IMPORTED_MODULE_7__["ConfirmationDialogModule"],
        angulartics2__WEBPACK_IMPORTED_MODULE_8__["Angulartics2Module"]], exports: [_form_dialog_wrapper_form_dialog_wrapper_component__WEBPACK_IMPORTED_MODULE_5__["FormDialogWrapperComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](FormDialogModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__["MatDialogModule"],
                    _angular_material_button__WEBPACK_IMPORTED_MODULE_2__["MatButtonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_6__["FormsModule"],
                    _confirmation_dialog_confirmation_dialog_module__WEBPACK_IMPORTED_MODULE_7__["ConfirmationDialogModule"],
                    angulartics2__WEBPACK_IMPORTED_MODULE_8__["Angulartics2Module"],
                ],
                declarations: [_form_dialog_wrapper_form_dialog_wrapper_component__WEBPACK_IMPORTED_MODULE_5__["FormDialogWrapperComponent"]],
                providers: [_form_dialog_service__WEBPACK_IMPORTED_MODULE_4__["FormDialogService"]],
                exports: [_form_dialog_wrapper_form_dialog_wrapper_component__WEBPACK_IMPORTED_MODULE_5__["FormDialogWrapperComponent"]],
            }]
    }], null, null); })();


/***/ }),

/***/ "./src/app/core/form-dialog/form-dialog.service.ts":
/*!*********************************************************!*\
  !*** ./src/app/core/form-dialog/form-dialog.service.ts ***!
  \*********************************************************/
/*! exports provided: FormDialogService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormDialogService", function() { return FormDialogService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/fesm5/dialog.js");
/* harmony import */ var _confirmation_dialog_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../confirmation-dialog/confirmation-dialog.service */ "./src/app/core/confirmation-dialog/confirmation-dialog.service.ts");






/**
 * Inject this service instead of MatDialog to display a form or details view as a modal
 * (hovering over the rest of the UI).
 *
 * This takes care of generic logic like a user prompt asking whether changes should be saved before leaving the dialog.
 * Components used with this have to use {@link FormDialogWrapperComponent} and implement {@link ShowsEntity}.
 *
 * Import the {@link FormDialogModule} in your root module to provide this service.
 *
 * @example
 formDialog.openDialog(NoteDetailsComponent, noteEntity);
 */
var FormDialogService = /** @class */ (function () {
    function FormDialogService(dialog, confirmationDialog) {
        this.dialog = dialog;
        this.confirmationDialog = confirmationDialog;
    }
    FormDialogService.prototype.openDialog = function (entityDetailsComponent, entity) {
        var _this = this;
        var dialogRef = this.dialog.open(entityDetailsComponent, {
            width: "80%",
        });
        dialogRef.componentInstance.entity = entity;
        var dialogWrapper = dialogRef.componentInstance.formDialogWrapper;
        dialogWrapper.onClose.subscribe(function () { return dialogRef.close(true); });
        dialogRef.beforeClosed().subscribe(function (activelyClosed) {
            if (!activelyClosed && dialogWrapper.isFormDirty) {
                _this.confirmationDialog
                    .openDialog("Save Changes?", "Do you want to save the changes you made to the record?")
                    .afterClosed()
                    .subscribe(function (confirmed) {
                    if (confirmed) {
                        dialogWrapper.save();
                    }
                    else {
                        dialogWrapper.cancel();
                    }
                });
            }
        });
        return dialogRef;
    };
    FormDialogService.ɵfac = function FormDialogService_Factory(t) { return new (t || FormDialogService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialog"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_confirmation_dialog_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_2__["ConfirmationDialogService"])); };
    FormDialogService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: FormDialogService, factory: FormDialogService.ɵfac });
    return FormDialogService;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](FormDialogService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialog"] }, { type: _confirmation_dialog_confirmation_dialog_service__WEBPACK_IMPORTED_MODULE_2__["ConfirmationDialogService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/help/help.module.ts":
/*!******************************************!*\
  !*** ./src/app/core/help/help.module.ts ***!
  \******************************************/
/*! exports provided: HelpModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HelpModule", function() { return HelpModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _how_to_how_to_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./how-to/how-to.component */ "./src/app/core/help/how-to/how-to.component.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var ngx_markdown__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ngx-markdown */ "./node_modules/ngx-markdown/fesm5/ngx-markdown.js");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */







/**
 * Display help information to users.
 */
var HelpModule = /** @class */ (function () {
    function HelpModule() {
    }
    HelpModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: HelpModule });
    HelpModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function HelpModule_Factory(t) { return new (t || HelpModule)(); }, imports: [[
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClientModule"],
                ngx_markdown__WEBPACK_IMPORTED_MODULE_4__["MarkdownModule"].forRoot({ loader: _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"] }),
            ]] });
    return HelpModule;
}());

(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](HelpModule, { declarations: [_how_to_how_to_component__WEBPACK_IMPORTED_MODULE_2__["HowToComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClientModule"], ngx_markdown__WEBPACK_IMPORTED_MODULE_4__["MarkdownModule"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](HelpModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                declarations: [_how_to_how_to_component__WEBPACK_IMPORTED_MODULE_2__["HowToComponent"]],
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClientModule"],
                    ngx_markdown__WEBPACK_IMPORTED_MODULE_4__["MarkdownModule"].forRoot({ loader: _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"] }),
                ],
            }]
    }], null, null); })();


/***/ }),

/***/ "./src/app/core/help/how-to/how-to.component.ts":
/*!******************************************************!*\
  !*** ./src/app/core/help/how-to/how-to.component.ts ***!
  \******************************************************/
/*! exports provided: HowToComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HowToComponent", function() { return HowToComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var ngx_markdown__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ngx-markdown */ "./node_modules/ngx-markdown/fesm5/ngx-markdown.js");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */



/**
 * Display markdown formatted help that is dynamically loaded from a file in the assets folder.
 * Displayed file: assets/How_To.md
 */
var HowToComponent = /** @class */ (function () {
    function HowToComponent() {
    }
    HowToComponent.ɵfac = function HowToComponent_Factory(t) { return new (t || HowToComponent)(); };
    HowToComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: HowToComponent, selectors: [["app-help"]], decls: 1, vars: 0, consts: [["markdown", "", "src", "assets/How_To.md"]], template: function HowToComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 0);
        } }, directives: [ngx_markdown__WEBPACK_IMPORTED_MODULE_1__["MarkdownComponent"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvcmUvaGVscC9ob3ctdG8vaG93LXRvLmNvbXBvbmVudC5zY3NzIn0= */"] });
    return HowToComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](HowToComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-help",
                templateUrl: "./how-to.component.html",
                styleUrls: ["./how-to.component.scss"],
            }]
    }], null, null); })();


/***/ }),

/***/ "./src/app/core/latest-changes/app-version/app-version.component.ts":
/*!**************************************************************************!*\
  !*** ./src/app/core/latest-changes/app-version/app-version.component.ts ***!
  \**************************************************************************/
/*! exports provided: AppVersionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppVersionComponent", function() { return AppVersionComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _latest_changes_dialog_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../latest-changes-dialog.service */ "./src/app/core/latest-changes/latest-changes-dialog.service.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */




/**
 * Simple component displaying the current app version
 * including functionality to open an info dialog showing the latest change when the user clicks on it.
 */
var AppVersionComponent = /** @class */ (function () {
    function AppVersionComponent(changelogDialog) {
        this.changelogDialog = changelogDialog;
    }
    AppVersionComponent.prototype.ngOnInit = function () {
        this.currentVersion = this.changelogDialog.getCurrentVersion();
    };
    /**
     * Open dialog box to display changelog information about the latest version to the user.
     */
    AppVersionComponent.prototype.showLatestChanges = function () {
        this.changelogDialog.showLatestChanges();
    };
    AppVersionComponent.ɵfac = function AppVersionComponent_Factory(t) { return new (t || AppVersionComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_latest_changes_dialog_service__WEBPACK_IMPORTED_MODULE_1__["LatestChangesDialogService"])); };
    AppVersionComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AppVersionComponent, selectors: [["app-version"]], decls: 3, vars: 1, consts: [[1, "version-footer"], [2, "cursor", "pointer", 3, "click"]], template: function AppVersionComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "a", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AppVersionComponent_Template_a_click_1_listener() { return ctx.showLatestChanges(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.currentVersion);
        } }, styles: [".version-footer[_ngcontent-%COMP%] {\n  text-align: center;\n  font-size: 0.8em;\n  margin-left: 16px;\n  margin-bottom: 10px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY29yZS9sYXRlc3QtY2hhbmdlcy9hcHAtdmVyc2lvbi9hcHAtdmVyc2lvbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29yZS9sYXRlc3QtY2hhbmdlcy9hcHAtdmVyc2lvbi9hcHAtdmVyc2lvbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7O0VBQUE7QUFpQkE7RUFDRSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtBQ0FGIiwiZmlsZSI6InNyYy9hcHAvY29yZS9sYXRlc3QtY2hhbmdlcy9hcHAtdmVyc2lvbi9hcHAtdmVyc2lvbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgICAgVGhpcyBmaWxlIGlzIHBhcnQgb2YgbmRiLWNvcmUuXG4gKlxuICogICAgIG5kYi1jb3JlIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqICAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAgICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiAgICAgbmRiLWNvcmUgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqICAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqICAgICBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqICAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogICAgIGFsb25nIHdpdGggbmRiLWNvcmUuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuLnZlcnNpb24tZm9vdGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXNpemU6IDAuOGVtO1xuICBtYXJnaW4tbGVmdDoxNnB4O1xuICBtYXJnaW4tYm90dG9tOjEwcHg7XG59XG4iLCIvKlxuICogICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIG5kYi1jb3JlLlxuICpcbiAqICAgICBuZGItY29yZSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiAgICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqICAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogICAgIG5kYi1jb3JlIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiAgICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqICAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiAgICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiAgICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqICAgICBhbG9uZyB3aXRoIG5kYi1jb3JlLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG4udmVyc2lvbi1mb290ZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGZvbnQtc2l6ZTogMC44ZW07XG4gIG1hcmdpbi1sZWZ0OiAxNnB4O1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufSJdfQ== */"] });
    return AppVersionComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AppVersionComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-version",
                templateUrl: "./app-version.component.html",
                styleUrls: ["./app-version.component.scss"],
            }]
    }], function () { return [{ type: _latest_changes_dialog_service__WEBPACK_IMPORTED_MODULE_1__["LatestChangesDialogService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/latest-changes/changelog/changelog.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/core/latest-changes/changelog/changelog.component.ts ***!
  \**********************************************************************/
/*! exports provided: ChangelogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChangelogComponent", function() { return ChangelogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/fesm5/dialog.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _latest_changes_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../latest-changes.service */ "./src/app/core/latest-changes/latest-changes.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/card */ "./node_modules/@angular/material/fesm5/card.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var ngx_markdown__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ngx-markdown */ "./node_modules/ngx-markdown/fesm5/ngx-markdown.js");
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */













var _c0 = ["changelogContainer"];
function ChangelogComponent_mat_card_4_mat_card_actions_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-card-actions");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "button", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "a", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, "More Information");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("href", "https://www.github.com", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
} }
function ChangelogComponent_mat_card_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-card", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-card-header");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "mat-card-title");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "mat-card-subtitle");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "span", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "mat-icon", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](8, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "span", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](10, "mat-icon", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "mat-card-content");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](13, "markdown", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](14, ChangelogComponent_mat_card_4_mat_card_actions_14_Template, 4, 1, "mat-card-actions", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var changelog_r2 = ctx.$implicit;
    var ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](changelog_r2 ? changelog_r2.name : "No Changelog Available");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](8, 5, changelog_r2 == null ? null : changelog_r2.published_at));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](changelog_r2 == null ? null : changelog_r2.tag_name);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("data", changelog_r2 == null ? null : changelog_r2.body);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.showAdvancedDetails);
} }
/**
 * Display information from the changelog for the latest version.
 *
 * This component is used as content of a dialog.
 */
var ChangelogComponent = /** @class */ (function () {
    /**
     * This component is to be created through a MatDialog that should pass in the relevant data.
     *
     * @example
     * dialog.open(ChangelogComponent, { data: { changelogData: latestChangesService.getChangelogs() } });
     *
     * @param dialogRef Reference to the parent dialog.
     * @param data Changelog data to be display initially
     * @param latestChangesService
     */
    function ChangelogComponent(dialogRef, data, latestChangesService) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.latestChangesService = latestChangesService;
        /** Display advanced information that may not be useful to normal users */
        this.showAdvancedDetails = false;
    }
    ChangelogComponent.prototype.ngOnInit = function () {
        var _this = this;
        if (this.data && Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["isObservable"])(this.data)) {
            this.data.subscribe(function (changelog) { return (_this.changelogs = changelog); });
        }
    };
    /**
     * Add one more previous release card to the end of the currently displayed list of changelogs.
     */
    ChangelogComponent.prototype.loadPreviousRelease = function () {
        var _this = this;
        var lastDisplayedVersion = this.changelogs[this.changelogs.length - 1]
            .tag_name;
        this.latestChangesService
            .getChangelogsBeforeVersion(lastDisplayedVersion, 1)
            .subscribe(function (additionalChangelog) {
            var _a;
            (_a = _this.changelogs).push.apply(_a, __spread(additionalChangelog));
            setTimeout(function () { return _this.scrollToBottomOfReleases(); });
        });
    };
    ChangelogComponent.prototype.scrollToBottomOfReleases = function () {
        this.contentContainer.nativeElement.scrollTop = this.contentContainer.nativeElement.scrollHeight;
    };
    ChangelogComponent.ɵfac = function ChangelogComponent_Factory(t) { return new (t || ChangelogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_latest_changes_service__WEBPACK_IMPORTED_MODULE_3__["LatestChangesService"])); };
    ChangelogComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ChangelogComponent, selectors: [["ng-component"]], viewQuery: function ChangelogComponent_Query(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
        } if (rf & 2) {
            var _t;
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.contentContainer = _t.first);
        } }, decls: 10, vars: 2, consts: [["mat-dialog-title", ""], ["changelogContainer", ""], ["class", "mat-elevation-z3", 4, "ngFor", "ngForOf"], [1, "general-actions"], ["mat-raised-button", "", 3, "click"], ["mat-raised-button", "", "color", "accent", 3, "mat-dialog-close"], [1, "mat-elevation-z3"], [1, "meta-info"], ["fontIcon", "fa-calendar-o"], ["fontIcon", "fa-tag"], [3, "data"], [4, "ngIf"], ["mat-stroked-button", ""], ["target", "_blank", 3, "href"]], template: function ChangelogComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "h1", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Latest Changes");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "mat-dialog-content", null, 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, ChangelogComponent_mat_card_4_Template, 15, 7, "mat-card", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "mat-dialog-actions", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "button", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ChangelogComponent_Template_button_click_6_listener() { return ctx.loadPreviousRelease(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7, "Show previous changes");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "button", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9, "Close");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.changelogs);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("mat-dialog-close", true);
        } }, directives: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogTitle"], _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogContent"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgForOf"], _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogActions"], _angular_material_button__WEBPACK_IMPORTED_MODULE_5__["MatButton"], _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogClose"], _angular_material_card__WEBPACK_IMPORTED_MODULE_6__["MatCard"], _angular_material_card__WEBPACK_IMPORTED_MODULE_6__["MatCardHeader"], _angular_material_card__WEBPACK_IMPORTED_MODULE_6__["MatCardTitle"], _angular_material_card__WEBPACK_IMPORTED_MODULE_6__["MatCardSubtitle"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_7__["MatIcon"], _angular_material_card__WEBPACK_IMPORTED_MODULE_6__["MatCardContent"], ngx_markdown__WEBPACK_IMPORTED_MODULE_8__["MarkdownComponent"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _angular_material_card__WEBPACK_IMPORTED_MODULE_6__["MatCardActions"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["DatePipe"]], styles: [".meta-info[_ngcontent-%COMP%] {\n  padding: 4px;\n  margin-right: 10px;\n}\n.mat-card[_ngcontent-%COMP%] {\n  margin: 4px 4px 10px 4px;\n}\n.mat-card-subtitle[_ngcontent-%COMP%] {\n  margin-bottom: 0;\n}\na[_ngcontent-%COMP%] {\n  color: inherit;\n  text-decoration: inherit;\n}\n.general-actions[_ngcontent-%COMP%] {\n  justify-content: flex-end;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY29yZS9sYXRlc3QtY2hhbmdlcy9jaGFuZ2Vsb2cvY2hhbmdlbG9nLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jb3JlL2xhdGVzdC1jaGFuZ2VzL2NoYW5nZWxvZy9jaGFuZ2Vsb2cuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7OztFQUFBO0FBaUJBO0VBQ0UsWUFBQTtFQUNBLGtCQUFBO0FDQUY7QURHQTtFQUNFLHdCQUFBO0FDQUY7QURFQTtFQUNFLGdCQUFBO0FDQ0Y7QURFQTtFQUNFLGNBQUE7RUFDQSx3QkFBQTtBQ0NGO0FERUE7RUFDRSx5QkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvY29yZS9sYXRlc3QtY2hhbmdlcy9jaGFuZ2Vsb2cvY2hhbmdlbG9nLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiBuZGItY29yZS5cbiAqXG4gKiAgICAgbmRiLWNvcmUgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiAgICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqICAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqICAgICBuZGItY29yZSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiAgICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiAgICAgYWxvbmcgd2l0aCBuZGItY29yZS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG4ubWV0YS1pbmZvIHtcbiAgcGFkZGluZzogNHB4O1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG59XG5cbi5tYXQtY2FyZCB7XG4gIG1hcmdpbjogNHB4IDRweCAxMHB4IDRweDtcbn1cbi5tYXQtY2FyZC1zdWJ0aXRsZSB7XG4gIG1hcmdpbi1ib3R0b206IDA7XG59XG5cbmEge1xuICBjb2xvcjogaW5oZXJpdDtcbiAgdGV4dC1kZWNvcmF0aW9uOiBpbmhlcml0O1xufVxuXG4uZ2VuZXJhbC1hY3Rpb25zIHtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbn1cbiIsIi8qXG4gKiAgICAgVGhpcyBmaWxlIGlzIHBhcnQgb2YgbmRiLWNvcmUuXG4gKlxuICogICAgIG5kYi1jb3JlIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqICAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAgICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiAgICAgbmRiLWNvcmUgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqICAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqICAgICBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqICAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogICAgIGFsb25nIHdpdGggbmRiLWNvcmUuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cbi5tZXRhLWluZm8ge1xuICBwYWRkaW5nOiA0cHg7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbn1cblxuLm1hdC1jYXJkIHtcbiAgbWFyZ2luOiA0cHggNHB4IDEwcHggNHB4O1xufVxuXG4ubWF0LWNhcmQtc3VidGl0bGUge1xuICBtYXJnaW4tYm90dG9tOiAwO1xufVxuXG5hIHtcbiAgY29sb3I6IGluaGVyaXQ7XG4gIHRleHQtZGVjb3JhdGlvbjogaW5oZXJpdDtcbn1cblxuLmdlbmVyYWwtYWN0aW9ucyB7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG59Il19 */"] });
    return ChangelogComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ChangelogComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                templateUrl: "./changelog.component.html",
                styleUrls: ["./changelog.component.scss"],
            }]
    }], function () { return [{ type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"] }, { type: rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"], decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"]]
            }] }, { type: _latest_changes_service__WEBPACK_IMPORTED_MODULE_3__["LatestChangesService"] }]; }, { contentContainer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["changelogContainer"]
        }] }); })();


/***/ }),

/***/ "./src/app/core/latest-changes/latest-changes-dialog.service.ts":
/*!**********************************************************************!*\
  !*** ./src/app/core/latest-changes/latest-changes-dialog.service.ts ***!
  \**********************************************************************/
/*! exports provided: LatestChangesDialogService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LatestChangesDialogService", function() { return LatestChangesDialogService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/fesm5/dialog.js");
/* harmony import */ var _changelog_changelog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./changelog/changelog.component */ "./src/app/core/latest-changes/changelog/changelog.component.ts");
/* harmony import */ var ngx_cookie_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ngx-cookie-service */ "./node_modules/ngx-cookie-service/fesm5/ngx-cookie-service.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _latest_changes_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./latest-changes.service */ "./src/app/core/latest-changes/latest-changes.service.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */










/**
 * Manage the changelog information and display it to the user
 * on request or automatically on the first visit of a new version after update.
 */
var LatestChangesDialogService = /** @class */ (function () {
    function LatestChangesDialogService(dialog, cookieService, latestChangesService) {
        this.dialog = dialog;
        this.cookieService = cookieService;
        this.latestChangesService = latestChangesService;
    }
    /**
     * Get current app version inferred from the latest changelog entry.
     */
    LatestChangesDialogService.prototype.getCurrentVersion = function () {
        return _environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].appVersion;
    };
    /**
     * Open a modal window displaying the changelog of the latest version.
     * @param previousVersion (Optional) previous version back to which all changes should be displayed
     */
    LatestChangesDialogService.prototype.showLatestChanges = function (previousVersion) {
        this.dialog.open(_changelog_changelog_component__WEBPACK_IMPORTED_MODULE_2__["ChangelogComponent"], {
            width: "80%",
            data: this.latestChangesService.getChangelogsBetweenVersions(this.getCurrentVersion(), previousVersion),
        });
    };
    /**
     * Display the latest changes info box automatically if the current user has not seen this version before.
     */
    LatestChangesDialogService.prototype.showLatestChangesIfUpdated = function () {
        if (this.cookieService.check(LatestChangesDialogService.COOKIE_NAME)) {
            var previousVersion = this.cookieService.get(LatestChangesDialogService.COOKIE_NAME);
            if (this.getCurrentVersion() !== previousVersion) {
                this.showLatestChanges(previousVersion);
            }
        }
        this.cookieService.set(LatestChangesDialogService.COOKIE_NAME, this.getCurrentVersion());
    };
    LatestChangesDialogService.COOKIE_NAME = "AppVersion";
    LatestChangesDialogService.ɵfac = function LatestChangesDialogService_Factory(t) { return new (t || LatestChangesDialogService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialog"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](ngx_cookie_service__WEBPACK_IMPORTED_MODULE_3__["CookieService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_latest_changes_service__WEBPACK_IMPORTED_MODULE_5__["LatestChangesService"])); };
    LatestChangesDialogService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: LatestChangesDialogService, factory: LatestChangesDialogService.ɵfac });
    return LatestChangesDialogService;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LatestChangesDialogService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialog"] }, { type: ngx_cookie_service__WEBPACK_IMPORTED_MODULE_3__["CookieService"] }, { type: _latest_changes_service__WEBPACK_IMPORTED_MODULE_5__["LatestChangesService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/latest-changes/latest-changes.module.ts":
/*!**************************************************************!*\
  !*** ./src/app/core/latest-changes/latest-changes.module.ts ***!
  \**************************************************************/
/*! exports provided: LatestChangesModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LatestChangesModule", function() { return LatestChangesModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _app_version_app_version_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app-version/app-version.component */ "./src/app/core/latest-changes/app-version/app-version.component.ts");
/* harmony import */ var _alerts_alerts_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../alerts/alerts.module */ "./src/app/core/alerts/alerts.module.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _session_session_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../session/session.module */ "./src/app/core/session/session.module.ts");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/fesm5/dialog.js");
/* harmony import */ var _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/snack-bar */ "./node_modules/@angular/material/fesm5/snack-bar.js");
/* harmony import */ var _changelog_changelog_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./changelog/changelog.component */ "./src/app/core/latest-changes/changelog/changelog.component.ts");
/* harmony import */ var _angular_service_worker__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/service-worker */ "./node_modules/@angular/service-worker/fesm5/service-worker.js");
/* harmony import */ var _update_manager_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./update-manager.service */ "./src/app/core/latest-changes/update-manager.service.ts");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var ngx_markdown__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ngx-markdown */ "./node_modules/ngx-markdown/fesm5/ngx-markdown.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/card */ "./node_modules/@angular/material/fesm5/card.js");
/* harmony import */ var _latest_changes_dialog_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./latest-changes-dialog.service */ "./src/app/core/latest-changes/latest-changes-dialog.service.ts");
/* harmony import */ var _latest_changes_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./latest-changes.service */ "./src/app/core/latest-changes/latest-changes.service.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */






















/**
 * Displaying app version and changelog information to the user
 * through components that can be used in other templates
 * as well as automatic popups on updates (see {@link UpdateManagerService}, {@link LatestChangesService}).
 */
var LatestChangesModule = /** @class */ (function () {
    function LatestChangesModule(updates, latestChangesDialogService, updateManagerService) {
        this.updates = updates;
        this.latestChangesDialogService = latestChangesDialogService;
        this.updateManagerService = updateManagerService;
        this.latestChangesDialogService.showLatestChangesIfUpdated();
        this.updateManagerService.notifyUserWhenUpdateAvailable();
        this.updateManagerService.regularlyCheckForUpdates();
    }
    LatestChangesModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: LatestChangesModule });
    LatestChangesModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function LatestChangesModule_Factory(t) { return new (t || LatestChangesModule)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_service_worker__WEBPACK_IMPORTED_MODULE_10__["SwUpdate"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_latest_changes_dialog_service__WEBPACK_IMPORTED_MODULE_16__["LatestChangesDialogService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_update_manager_service__WEBPACK_IMPORTED_MODULE_11__["UpdateManagerService"])); }, providers: [
            _latest_changes_service__WEBPACK_IMPORTED_MODULE_17__["LatestChangesService"],
            _latest_changes_dialog_service__WEBPACK_IMPORTED_MODULE_16__["LatestChangesDialogService"],
            _update_manager_service__WEBPACK_IMPORTED_MODULE_11__["UpdateManagerService"],
        ], imports: [[
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _alerts_alerts_module__WEBPACK_IMPORTED_MODULE_3__["AlertsModule"],
                _session_session_module__WEBPACK_IMPORTED_MODULE_5__["SessionModule"],
                _angular_material_dialog__WEBPACK_IMPORTED_MODULE_7__["MatDialogModule"],
                _angular_material_button__WEBPACK_IMPORTED_MODULE_6__["MatButtonModule"],
                _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_8__["MatSnackBarModule"],
                _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClientModule"],
                _angular_flex_layout__WEBPACK_IMPORTED_MODULE_12__["FlexModule"],
                ngx_markdown__WEBPACK_IMPORTED_MODULE_13__["MarkdownModule"],
                _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__["MatIconModule"],
                _angular_material_card__WEBPACK_IMPORTED_MODULE_15__["MatCardModule"],
            ]] });
    return LatestChangesModule;
}());

(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](LatestChangesModule, { declarations: [_app_version_app_version_component__WEBPACK_IMPORTED_MODULE_2__["AppVersionComponent"], _changelog_changelog_component__WEBPACK_IMPORTED_MODULE_9__["ChangelogComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _alerts_alerts_module__WEBPACK_IMPORTED_MODULE_3__["AlertsModule"],
        _session_session_module__WEBPACK_IMPORTED_MODULE_5__["SessionModule"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_7__["MatDialogModule"],
        _angular_material_button__WEBPACK_IMPORTED_MODULE_6__["MatButtonModule"],
        _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_8__["MatSnackBarModule"],
        _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClientModule"],
        _angular_flex_layout__WEBPACK_IMPORTED_MODULE_12__["FlexModule"],
        ngx_markdown__WEBPACK_IMPORTED_MODULE_13__["MarkdownModule"],
        _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__["MatIconModule"],
        _angular_material_card__WEBPACK_IMPORTED_MODULE_15__["MatCardModule"]], exports: [_app_version_app_version_component__WEBPACK_IMPORTED_MODULE_2__["AppVersionComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LatestChangesModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _alerts_alerts_module__WEBPACK_IMPORTED_MODULE_3__["AlertsModule"],
                    _session_session_module__WEBPACK_IMPORTED_MODULE_5__["SessionModule"],
                    _angular_material_dialog__WEBPACK_IMPORTED_MODULE_7__["MatDialogModule"],
                    _angular_material_button__WEBPACK_IMPORTED_MODULE_6__["MatButtonModule"],
                    _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_8__["MatSnackBarModule"],
                    _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClientModule"],
                    _angular_flex_layout__WEBPACK_IMPORTED_MODULE_12__["FlexModule"],
                    ngx_markdown__WEBPACK_IMPORTED_MODULE_13__["MarkdownModule"],
                    _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__["MatIconModule"],
                    _angular_material_card__WEBPACK_IMPORTED_MODULE_15__["MatCardModule"],
                ],
                declarations: [_app_version_app_version_component__WEBPACK_IMPORTED_MODULE_2__["AppVersionComponent"], _changelog_changelog_component__WEBPACK_IMPORTED_MODULE_9__["ChangelogComponent"]],
                exports: [_app_version_app_version_component__WEBPACK_IMPORTED_MODULE_2__["AppVersionComponent"]],
                providers: [
                    _latest_changes_service__WEBPACK_IMPORTED_MODULE_17__["LatestChangesService"],
                    _latest_changes_dialog_service__WEBPACK_IMPORTED_MODULE_16__["LatestChangesDialogService"],
                    _update_manager_service__WEBPACK_IMPORTED_MODULE_11__["UpdateManagerService"],
                ],
            }]
    }], function () { return [{ type: _angular_service_worker__WEBPACK_IMPORTED_MODULE_10__["SwUpdate"] }, { type: _latest_changes_dialog_service__WEBPACK_IMPORTED_MODULE_16__["LatestChangesDialogService"] }, { type: _update_manager_service__WEBPACK_IMPORTED_MODULE_11__["UpdateManagerService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/latest-changes/latest-changes.service.ts":
/*!***************************************************************!*\
  !*** ./src/app/core/latest-changes/latest-changes.service.ts ***!
  \***************************************************************/
/*! exports provided: LatestChangesService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LatestChangesService", function() { return LatestChangesService; });
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _alerts_alert_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../alerts/alert.service */ "./src/app/core/alerts/alert.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */









/**
 * Manage the changelog information and display it to the user
 * on request or automatically on the first visit of a new version after update.
 */
var LatestChangesService = /** @class */ (function () {
    function LatestChangesService(http, alertService) {
        this.http = http;
        this.alertService = alertService;
    }
    /**
     * Load the changelog information of changes since the last update.
     * @param currentVersion The current version for which changes are to be loaded.
     * @param previousVersion (Optional) The older version since which changes of all versions until the currentVersion will be loaded.
     */
    LatestChangesService.prototype.getChangelogsBetweenVersions = function (currentVersion, previousVersion) {
        var _this = this;
        return this.getChangelogs(function (releases) {
            return _this.filterReleasesBetween(releases, currentVersion, previousVersion);
        });
    };
    LatestChangesService.prototype.filterReleasesBetween = function (releases, currentVersion, previousVersion) {
        var relevantReleases;
        var releasesUpToCurrentVersion = releases.filter(function (r) { return r.tag_name <= currentVersion; });
        if (releasesUpToCurrentVersion.length < 1) {
            return [];
        }
        if (previousVersion) {
            var releasesBackToPreviousVersion = releasesUpToCurrentVersion.filter(function (r) { return r.tag_name > previousVersion; });
            relevantReleases = releasesBackToPreviousVersion.sort(function (a, b) {
                return b.tag_name.localeCompare(a.tag_name, "en");
            });
        }
        else {
            relevantReleases = [releasesUpToCurrentVersion[0]];
        }
        return relevantReleases;
    };
    /**
     * Load the changelog information of a number of releases before (excluding) the given version.
     * @param version The version for which preceding releases should be returned.
     * @param count The number of releases before the given version to be returned
     */
    LatestChangesService.prototype.getChangelogsBeforeVersion = function (version, count) {
        var _this = this;
        return this.getChangelogs(function (releases) {
            return _this.filterReleasesBefore(releases, version, count);
        });
    };
    LatestChangesService.prototype.filterReleasesBefore = function (releases, version, count) {
        var relevantReleases;
        var releasesUpToCurrentVersion = releases.filter(function (r) { return r.tag_name < version; });
        if (releasesUpToCurrentVersion.length < 1) {
            return [];
        }
        relevantReleases = releasesUpToCurrentVersion.sort(function (a, b) {
            return b.tag_name.localeCompare(a.tag_name, "en");
        });
        return relevantReleases.slice(0, count);
    };
    /**
     * Load release information from GitHub based on a given filter to select relevant releases.
     * @param releaseFilter Filter function that is selecting relevant objects from the array of GitHub releases
     */
    LatestChangesService.prototype.getChangelogs = function (releaseFilter) {
        var _this = this;
        return this.http
            .get(LatestChangesService.GITHUB_API + _environments_environment__WEBPACK_IMPORTED_MODULE_5__["environment"].repositoryId + "/releases")
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["map"])(releaseFilter), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["map"])(function (relevantReleases) {
            return relevantReleases.map(function (r) { return _this.parseGithubApiRelease(r); });
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["catchError"])(function (error) {
            _this.alertService.addWarning("Could not load latest changes: " + error);
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["throwError"])("Could not load latest changes.");
        }));
    };
    LatestChangesService.prototype.parseGithubApiRelease = function (githubResponse) {
        var releaseNotesWithoutHeading = githubResponse.body.replace(/#{1,2}[^###]*/, "");
        var releaseNotesWithoutCommitRefs = releaseNotesWithoutHeading.replace(/ \(\[\w{7}\]\([^\)]*\)\)/g, "");
        return {
            tag_name: githubResponse.tag_name,
            name: githubResponse.name,
            published_at: githubResponse.published_at,
            body: releaseNotesWithoutCommitRefs,
        };
    };
    LatestChangesService.GITHUB_API = "https://api.github.com/repos/";
    LatestChangesService.ɵfac = function LatestChangesService_Factory(t) { return new (t || LatestChangesService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_alerts_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"])); };
    LatestChangesService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: LatestChangesService, factory: LatestChangesService.ɵfac });
    return LatestChangesService;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](LatestChangesService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"]
    }], function () { return [{ type: _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"] }, { type: _alerts_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/latest-changes/update-manager.service.ts":
/*!***************************************************************!*\
  !*** ./src/app/core/latest-changes/update-manager.service.ts ***!
  \***************************************************************/
/*! exports provided: UpdateManagerService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateManagerService", function() { return UpdateManagerService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_service_worker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/service-worker */ "./node_modules/@angular/service-worker/fesm5/service-worker.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/snack-bar */ "./node_modules/@angular/material/fesm5/snack-bar.js");
/* harmony import */ var _logging_logging_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../logging/logging.service */ "./src/app/core/logging/logging.service.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */










/**
 * Check with the server whether a new version of the app is available in order to notify the user.
 *
 * As we are using ServiceWorkers to cache the app to also work offline, explicit checking for updates is necessary.
 * The user receives a toast (hover message) if an update is available
 * and can click that to reload the app with the new version.
 */
var UpdateManagerService = /** @class */ (function () {
    function UpdateManagerService(appRef, updates, snackBar, logger) {
        this.appRef = appRef;
        this.updates = updates;
        this.snackBar = snackBar;
        this.logger = logger;
    }
    /**
     * Display a notification to the user in case a new app version is detected by the ServiceWorker.
     */
    UpdateManagerService.prototype.notifyUserWhenUpdateAvailable = function () {
        var _this = this;
        if (!this.updates.isEnabled) {
            return;
        }
        this.updates.available.subscribe(function () {
            _this.showUpdateNotification();
        });
    };
    /**
     * Schedule a regular check with the server for updates.
     */
    UpdateManagerService.prototype.regularlyCheckForUpdates = function () {
        var _this = this;
        if (!this.updates.isEnabled) {
            return;
        }
        // Allow the app to stabilize first, before starting polling for updates with `interval()`.
        var appIsStable$ = this.appRef.isStable.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["first"])(function (isStable) { return isStable === true; }));
        var everyHours$ = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["interval"])(60 * 60 * 1000);
        var everyHoursOnceAppIsStable$ = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["concat"])(appIsStable$, everyHours$);
        everyHoursOnceAppIsStable$.subscribe(function () { return __awaiter(_this, void 0, void 0, function () {
            var err_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this.updates.checkForUpdate()];
                    case 1:
                        _a.sent();
                        return [3 /*break*/, 3];
                    case 2:
                        err_1 = _a.sent();
                        this.logger.error(err_1);
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        }); });
    };
    UpdateManagerService.prototype.showUpdateNotification = function () {
        this.notificationRef = this.snackBar.open("A new version of the app is available!", "Update");
        this.notificationRef.onAction().subscribe(function () {
            location.reload();
        });
    };
    UpdateManagerService.ɵfac = function UpdateManagerService_Factory(t) { return new (t || UpdateManagerService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ApplicationRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_service_worker__WEBPACK_IMPORTED_MODULE_1__["SwUpdate"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_4__["MatSnackBar"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_logging_logging_service__WEBPACK_IMPORTED_MODULE_5__["LoggingService"])); };
    UpdateManagerService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: UpdateManagerService, factory: UpdateManagerService.ɵfac });
    return UpdateManagerService;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](UpdateManagerService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ApplicationRef"] }, { type: _angular_service_worker__WEBPACK_IMPORTED_MODULE_1__["SwUpdate"] }, { type: _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_4__["MatSnackBar"] }, { type: _logging_logging_service__WEBPACK_IMPORTED_MODULE_5__["LoggingService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/logging/log-level.ts":
/*!*******************************************!*\
  !*** ./src/app/core/logging/log-level.ts ***!
  \*******************************************/
/*! exports provided: LogLevel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LogLevel", function() { return LogLevel; });
/**
 * Log level indicates the context and severity of a message.
 */
var LogLevel;
(function (LogLevel) {
    /** for development and analysis */
    LogLevel[LogLevel["DEBUG"] = 0] = "DEBUG";
    /** event during the regular functioning of the app */
    LogLevel[LogLevel["INFO"] = 1] = "INFO";
    /** unexpected event that can still be handled */
    LogLevel[LogLevel["WARN"] = 2] = "WARN";
    /** critical unexpected event that will affect the functioning of the app */
    LogLevel[LogLevel["ERROR"] = 3] = "ERROR";
})(LogLevel || (LogLevel = {}));


/***/ }),

/***/ "./src/app/core/logging/logging-error-handler.ts":
/*!*******************************************************!*\
  !*** ./src/app/core/logging/logging-error-handler.ts ***!
  \*******************************************************/
/*! exports provided: LoggingErrorHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoggingErrorHandler", function() { return LoggingErrorHandler; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _logging_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./logging.service */ "./src/app/core/logging/logging.service.ts");




/**
 * A simple ErrorHandler that logs any unhandled errors that occur in the app.
 * This is particularly useful if remote error logging with Sentry is set up so the development team receives such info.
 *
 * To enable this, add it as an ErrorHandler provider to your main AppModule's "providers" list:
 *
 * @example
 * { provide: ErrorHandler, useClass: LoggingErrorHandler }
 */
var LoggingErrorHandler = /** @class */ (function () {
    function LoggingErrorHandler(logger) {
        this.logger = logger;
    }
    /**
     * Handle until now uncaught error by logging it.
     * @param error
     */
    LoggingErrorHandler.prototype.handleError = function (error) {
        this.logger.error(error);
        // It is possible to show a feedback dialog to the user through Sentry:
        // const eventId = Sentry.captureException(error.originalError || error);
        // Sentry.showReportDialog({ eventId });
    };
    LoggingErrorHandler.ɵfac = function LoggingErrorHandler_Factory(t) { return new (t || LoggingErrorHandler)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_logging_service__WEBPACK_IMPORTED_MODULE_1__["LoggingService"])); };
    LoggingErrorHandler.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: LoggingErrorHandler, factory: LoggingErrorHandler.ɵfac });
    return LoggingErrorHandler;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoggingErrorHandler, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _logging_service__WEBPACK_IMPORTED_MODULE_1__["LoggingService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/logging/logging.service.ts":
/*!*************************************************!*\
  !*** ./src/app/core/logging/logging.service.ts ***!
  \*************************************************/
/*! exports provided: LoggingService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoggingService", function() { return LoggingService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _log_level__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./log-level */ "./src/app/core/logging/log-level.ts");
/* harmony import */ var _sentry_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sentry/browser */ "./node_modules/@sentry/browser/esm/index.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");





/* tslint:disable:no-console */
/**
 * Centrally managed logging to allow log messages to be filtered by level and even sent to a remote logging service
 * that allows developers to monitor and analyse problems.
 *
 * Logging to the remote monitoring server is set only for warnings and errors.
 *
 * To allow remote logging, call Sentry.init during bootstrap in your AppModule or somewhere early on during startup.
 */
var LoggingService = /** @class */ (function () {
    function LoggingService() {
    }
    /**
     * Initialize the remote logging module with the given options.
     * If set up this will be used to send errors to a remote endpoint for analysis.
     * @param options
     */
    LoggingService.initRemoteLogging = function (options) {
        if (!options.dsn) {
            // abort if no target url is set
            return;
        }
        var defaultOptions = {
            release: "ndb-core@" + _environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].appVersion,
        };
        _sentry_browser__WEBPACK_IMPORTED_MODULE_2__["init"](Object.assign(defaultOptions, options));
    };
    /**
     * Update a piece of context information that will be attached to all log messages for easier debugging,
     * especially in remote logging.
     * @param tagName Identifier of the key-value pair
     * @param value Value of the key-value pair
     */
    LoggingService.setLoggingContext = function (tagName, value) {
        _sentry_browser__WEBPACK_IMPORTED_MODULE_2__["configureScope"](function (scope) {
            scope.setTag(tagName, value);
        });
    };
    /**
     * Update the username to be attached to all log messages for easier debugging,
     * especially in remote logging.
     * @param username
     */
    LoggingService.setLoggingContextUser = function (username) {
        _sentry_browser__WEBPACK_IMPORTED_MODULE_2__["setUser"]({ username: username });
    };
    /**
     * Log the message with "debug" level - for very detailed, non-essential information.
     * @param message
     */
    LoggingService.prototype.debug = function (message) {
        this.log(message, _log_level__WEBPACK_IMPORTED_MODULE_1__["LogLevel"].DEBUG);
    };
    /**
     * Log the message with "info" level - for relevant information that occurs during regular functioning of the app.
     * @param message
     */
    LoggingService.prototype.info = function (message) {
        this.log(message, _log_level__WEBPACK_IMPORTED_MODULE_1__["LogLevel"].INFO);
    };
    /**
     * Log the message with "warning" level - for unexpected events that the app can still handle gracefully.
     * @param message
     */
    LoggingService.prototype.warn = function (message) {
        this.log(message, _log_level__WEBPACK_IMPORTED_MODULE_1__["LogLevel"].WARN);
    };
    /**
     * Log the message with "error" level - for unexpected critical events that cannot be handled and will affect functions.
     * @param message
     */
    LoggingService.prototype.error = function (message) {
        this.log(message, _log_level__WEBPACK_IMPORTED_MODULE_1__["LogLevel"].ERROR);
    };
    /**
     * Generic logging of a message.
     * @param message Message to be logged
     * @param logLevel Optional log level - default is "info"
     */
    LoggingService.prototype.log = function (message, logLevel) {
        if (logLevel === void 0) { logLevel = _log_level__WEBPACK_IMPORTED_MODULE_1__["LogLevel"].INFO; }
        this.logToConsole(message, logLevel);
        if (logLevel !== _log_level__WEBPACK_IMPORTED_MODULE_1__["LogLevel"].DEBUG && logLevel !== _log_level__WEBPACK_IMPORTED_MODULE_1__["LogLevel"].INFO) {
            this.logToRemoteMonitoring(message, logLevel);
        }
    };
    LoggingService.prototype.logToConsole = function (message, logLevel) {
        switch (+logLevel) {
            case _log_level__WEBPACK_IMPORTED_MODULE_1__["LogLevel"].DEBUG:
                console.debug(message);
                break;
            case _log_level__WEBPACK_IMPORTED_MODULE_1__["LogLevel"].INFO:
                console.info(message);
                break;
            case _log_level__WEBPACK_IMPORTED_MODULE_1__["LogLevel"].WARN:
                console.warn(message);
                break;
            case _log_level__WEBPACK_IMPORTED_MODULE_1__["LogLevel"].ERROR:
                console.error(message);
                break;
            default:
                console.log(message);
                break;
        }
    };
    LoggingService.prototype.logToRemoteMonitoring = function (message, logLevel) {
        _sentry_browser__WEBPACK_IMPORTED_MODULE_2__["captureMessage"](message, this.translateLogLevel(logLevel));
    };
    LoggingService.prototype.translateLogLevel = function (logLevel) {
        switch (+logLevel) {
            case _log_level__WEBPACK_IMPORTED_MODULE_1__["LogLevel"].DEBUG:
                return _sentry_browser__WEBPACK_IMPORTED_MODULE_2__["Severity"].Debug;
            case _log_level__WEBPACK_IMPORTED_MODULE_1__["LogLevel"].INFO:
                return _sentry_browser__WEBPACK_IMPORTED_MODULE_2__["Severity"].Info;
            case _log_level__WEBPACK_IMPORTED_MODULE_1__["LogLevel"].WARN:
                return _sentry_browser__WEBPACK_IMPORTED_MODULE_2__["Severity"].Warning;
            case _log_level__WEBPACK_IMPORTED_MODULE_1__["LogLevel"].ERROR:
                return _sentry_browser__WEBPACK_IMPORTED_MODULE_2__["Severity"].Error;
            default:
                return _sentry_browser__WEBPACK_IMPORTED_MODULE_2__["Severity"].Info;
        }
    };
    LoggingService.ɵfac = function LoggingService_Factory(t) { return new (t || LoggingService)(); };
    LoggingService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: LoggingService, factory: LoggingService.ɵfac, providedIn: "root" });
    return LoggingService;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoggingService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root",
            }]
    }], null, null); })();


/***/ }),

/***/ "./src/app/core/navigation/menu-item.ts":
/*!**********************************************!*\
  !*** ./src/app/core/navigation/menu-item.ts ***!
  \**********************************************/
/*! exports provided: MenuItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MenuItem", function() { return MenuItem; });
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
/**
 * Structure for menu items to be displayed.
 *
 * also see {@link NavigationItemsService}
 */
var MenuItem = /** @class */ (function () {
    /**
     * Create a menu item.
     * @param label The text to be displayed in the menu.
     * @param icon The icon to be displayed left of the label.
     * @param routerLinkParameters The Angular routerLink parameters to which the item will route to (e.g. ['/dashboard'])
     */
    function MenuItem(label, icon, routerLinkParameters) {
        this.label = label;
        this.icon = icon;
        this.routerLinkParameters = routerLinkParameters;
    }
    return MenuItem;
}());



/***/ }),

/***/ "./src/app/core/navigation/navigation.module.ts":
/*!******************************************************!*\
  !*** ./src/app/core/navigation/navigation.module.ts ***!
  \******************************************************/
/*! exports provided: NavigationModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigationModule", function() { return NavigationModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _navigation_navigation_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./navigation/navigation.component */ "./src/app/core/navigation/navigation/navigation.component.ts");
/* harmony import */ var _session_session_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../session/session.module */ "./src/app/core/session/session.module.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_material_list__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/list */ "./node_modules/@angular/material/fesm5/list.js");
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/tooltip */ "./node_modules/@angular/material/fesm5/tooltip.js");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm2015/angulartics2.js");
/* harmony import */ var _config_config_module__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../config/config.module */ "./src/app/core/config/config.module.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */












/**
 * Manages the main app navigation menu
 * which can dynamically be configured through the {@link NavigationItemsService}.
 */
var NavigationModule = /** @class */ (function () {
    function NavigationModule() {
    }
    NavigationModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: NavigationModule });
    NavigationModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function NavigationModule_Factory(t) { return new (t || NavigationModule)(); }, providers: [], imports: [[
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _session_session_module__WEBPACK_IMPORTED_MODULE_3__["SessionModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"],
                _angular_material_list__WEBPACK_IMPORTED_MODULE_7__["MatListModule"],
                _angular_material_icon__WEBPACK_IMPORTED_MODULE_6__["MatIconModule"],
                _angular_material_button__WEBPACK_IMPORTED_MODULE_5__["MatButtonModule"],
                _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_8__["MatTooltipModule"],
                angulartics2__WEBPACK_IMPORTED_MODULE_9__["Angulartics2Module"],
                _config_config_module__WEBPACK_IMPORTED_MODULE_10__["ConfigModule"],
            ]] });
    return NavigationModule;
}());

(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](NavigationModule, { declarations: [_navigation_navigation_component__WEBPACK_IMPORTED_MODULE_2__["NavigationComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _session_session_module__WEBPACK_IMPORTED_MODULE_3__["SessionModule"],
        _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"],
        _angular_material_list__WEBPACK_IMPORTED_MODULE_7__["MatListModule"],
        _angular_material_icon__WEBPACK_IMPORTED_MODULE_6__["MatIconModule"],
        _angular_material_button__WEBPACK_IMPORTED_MODULE_5__["MatButtonModule"],
        _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_8__["MatTooltipModule"],
        angulartics2__WEBPACK_IMPORTED_MODULE_9__["Angulartics2Module"],
        _config_config_module__WEBPACK_IMPORTED_MODULE_10__["ConfigModule"]], exports: [_navigation_navigation_component__WEBPACK_IMPORTED_MODULE_2__["NavigationComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NavigationModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _session_session_module__WEBPACK_IMPORTED_MODULE_3__["SessionModule"],
                    _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"],
                    _angular_material_list__WEBPACK_IMPORTED_MODULE_7__["MatListModule"],
                    _angular_material_icon__WEBPACK_IMPORTED_MODULE_6__["MatIconModule"],
                    _angular_material_button__WEBPACK_IMPORTED_MODULE_5__["MatButtonModule"],
                    _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_8__["MatTooltipModule"],
                    angulartics2__WEBPACK_IMPORTED_MODULE_9__["Angulartics2Module"],
                    _config_config_module__WEBPACK_IMPORTED_MODULE_10__["ConfigModule"],
                ],
                declarations: [_navigation_navigation_component__WEBPACK_IMPORTED_MODULE_2__["NavigationComponent"]],
                exports: [_navigation_navigation_component__WEBPACK_IMPORTED_MODULE_2__["NavigationComponent"]],
                providers: [],
            }]
    }], null, null); })();


/***/ }),

/***/ "./src/app/core/navigation/navigation/navigation.component.ts":
/*!********************************************************************!*\
  !*** ./src/app/core/navigation/navigation/navigation.component.ts ***!
  \********************************************************************/
/*! exports provided: NavigationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigationComponent", function() { return NavigationComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _menu_item__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../menu-item */ "./src/app/core/navigation/menu-item.ts");
/* harmony import */ var _admin_admin_guard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../admin/admin.guard */ "./src/app/core/admin/admin.guard.ts");
/* harmony import */ var app_core_config_config_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/core/config/config.service */ "./src/app/core/config/config.service.ts");
/* harmony import */ var _view_dynamic_routing_router_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../view/dynamic-routing/router.service */ "./src/app/core/view/dynamic-routing/router.service.ts");
/* harmony import */ var _angular_material_list__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/list */ "./node_modules/@angular/material/fesm5/list.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm2015/angulartics2.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_material_divider__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/divider */ "./node_modules/@angular/material/fesm5/divider.js");
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */














function NavigationComponent_mat_list_item_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-list-item", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "a");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "mat-icon", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "mat-divider");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var item_r1 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("angularticsLabel", item_r1.label)("routerLink", item_r1.routerLinkParameters);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate1"]("fontIcon", "fa-", item_r1.icon, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](item_r1.label);
} }
/**
 * Main app menu listing.
 *
 * To add new entries use {@link NavigationItemsService}.
 */
var NavigationComponent = /** @class */ (function () {
    function NavigationComponent(adminGuard, configService) {
        this.adminGuard = adminGuard;
        this.configService = configService;
        /** name of config array in the config json file */
        this.CONFIG_ID = "navigationMenu";
        /** all menu items to be displayed */
        this.menuItems = [];
    }
    NavigationComponent.prototype.ngOnInit = function () {
        this.initMenuItemsFromConfig();
    };
    /**
     * Load menu items from config file
     */
    NavigationComponent.prototype.initMenuItemsFromConfig = function () {
        var e_1, _a;
        var config = this.configService.getConfig(this.CONFIG_ID);
        try {
            for (var _b = __values(config.items), _c = _b.next(); !_c.done; _c = _b.next()) {
                var configItem = _c.value;
                if (this.checkMenuItemPermissions(configItem.link)) {
                    this.menuItems.push(new _menu_item__WEBPACK_IMPORTED_MODULE_1__["MenuItem"](configItem.name, configItem.icon, [configItem.link]));
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
    };
    /**
     * Check whether the user has the required rights
     */
    NavigationComponent.prototype.checkMenuItemPermissions = function (link) {
        var viewConfig = this.configService.getConfig(_view_dynamic_routing_router_service__WEBPACK_IMPORTED_MODULE_4__["RouterService"].PREFIX_VIEW_CONFIG + link.replace(/^\//, ""));
        return !(viewConfig === null || viewConfig === void 0 ? void 0 : viewConfig.requiresAdmin) || this.adminGuard.isAdmin();
    };
    NavigationComponent.ɵfac = function NavigationComponent_Factory(t) { return new (t || NavigationComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_admin_admin_guard__WEBPACK_IMPORTED_MODULE_2__["AdminGuard"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_core_config_config_service__WEBPACK_IMPORTED_MODULE_3__["ConfigService"])); };
    NavigationComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: NavigationComponent, selectors: [["app-navigation"]], decls: 2, vars: 1, consts: [["angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "app_navigation_link_click", 3, "angularticsLabel", "routerLink", 4, "ngFor", "ngForOf"], ["angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "app_navigation_link_click", 3, "angularticsLabel", "routerLink"], [1, "nav-icon", 3, "fontIcon"]], template: function NavigationComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-nav-list");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, NavigationComponent_mat_list_item_1_Template, 5, 4, "mat-list-item", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.menuItems);
        } }, directives: [_angular_material_list__WEBPACK_IMPORTED_MODULE_5__["MatNavList"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgForOf"], _angular_material_list__WEBPACK_IMPORTED_MODULE_5__["MatListItem"], angulartics2__WEBPACK_IMPORTED_MODULE_7__["Angulartics2On"], _angular_router__WEBPACK_IMPORTED_MODULE_8__["RouterLink"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_9__["MatIcon"], _angular_material_divider__WEBPACK_IMPORTED_MODULE_10__["MatDivider"]], styles: [".divider[_ngcontent-%COMP%] {\n  background-color: #e5e5e5;\n  height: 1px;\n  margin: 9px 0;\n  overflow: hidden;\n}\n.nav-history[_ngcontent-%COMP%] {\n  text-align: center;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY29yZS9uYXZpZ2F0aW9uL25hdmlnYXRpb24vbmF2aWdhdGlvbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29yZS9uYXZpZ2F0aW9uL25hdmlnYXRpb24vbmF2aWdhdGlvbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7O0VBQUE7QUFrQkE7RUFDRSx5QkFBQTtFQUNBLFdBQUE7RUFDQSxhQUFBO0VBQ0EsZ0JBQUE7QUNERjtBRElBO0VBQ0Usa0JBQUE7QUNERiIsImZpbGUiOiJzcmMvYXBwL2NvcmUvbmF2aWdhdGlvbi9uYXZpZ2F0aW9uL25hdmlnYXRpb24uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIG5kYi1jb3JlLlxuICpcbiAqICAgICBuZGItY29yZSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiAgICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqICAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogICAgIG5kYi1jb3JlIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiAgICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqICAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiAgICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiAgICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqICAgICBhbG9uZyB3aXRoIG5kYi1jb3JlLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cblxuLmRpdmlkZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTVlNWU1O1xuICBoZWlnaHQ6IDFweDtcbiAgbWFyZ2luOiA5cHggMDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLm5hdi1oaXN0b3J5IHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuIiwiLypcbiAqICAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiBuZGItY29yZS5cbiAqXG4gKiAgICAgbmRiLWNvcmUgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiAgICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqICAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqICAgICBuZGItY29yZSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiAgICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiAgICAgYWxvbmcgd2l0aCBuZGItY29yZS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuLmRpdmlkZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTVlNWU1O1xuICBoZWlnaHQ6IDFweDtcbiAgbWFyZ2luOiA5cHggMDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLm5hdi1oaXN0b3J5IHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufSJdfQ== */"] });
    return NavigationComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NavigationComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-navigation",
                templateUrl: "./navigation.component.html",
                styleUrls: ["./navigation.component.scss"],
            }]
    }], function () { return [{ type: _admin_admin_guard__WEBPACK_IMPORTED_MODULE_2__["AdminGuard"] }, { type: app_core_config_config_service__WEBPACK_IMPORTED_MODULE_3__["ConfigService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/session/logged-in-guard/logged-in.guard.ts":
/*!*****************************************************************!*\
  !*** ./src/app/core/session/logged-in-guard/logged-in.guard.ts ***!
  \*****************************************************************/
/*! exports provided: LoggedInGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoggedInGuard", function() { return LoggedInGuard; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _session_service_session_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../session-service/session.service */ "./src/app/core/session/session-service/session.service.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */




/**
 * Angular guard to prevent routing if no user is currently logged in.
 */
var LoggedInGuard = /** @class */ (function () {
    function LoggedInGuard(_sessionService) {
        this._sessionService = _sessionService;
    }
    /**
     * Allow if a user is logged in currently.
     */
    LoggedInGuard.prototype.canActivate = function () {
        return this._sessionService.isLoggedIn();
    };
    LoggedInGuard.ɵfac = function LoggedInGuard_Factory(t) { return new (t || LoggedInGuard)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_session_service_session_service__WEBPACK_IMPORTED_MODULE_1__["SessionService"])); };
    LoggedInGuard.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: LoggedInGuard, factory: LoggedInGuard.ɵfac });
    return LoggedInGuard;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoggedInGuard, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _session_service_session_service__WEBPACK_IMPORTED_MODULE_1__["SessionService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/session/login/login.component.ts":
/*!*******************************************************!*\
  !*** ./src/app/core/session/login/login.component.ts ***!
  \*******************************************************/
/*! exports provided: LoginComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginComponent", function() { return LoginComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../session-states/sync-state.enum */ "./src/app/core/session/session-states/sync-state.enum.ts");
/* harmony import */ var _session_service_session_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../session-service/session.service */ "./src/app/core/session/session-service/session.service.ts");
/* harmony import */ var _session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../session-states/login-state.enum */ "./src/app/core/session/session-states/login-state.enum.ts");
/* harmony import */ var _session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../session-states/connection-state.enum */ "./src/app/core/session/session-states/connection-state.enum.ts");
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/card */ "./node_modules/@angular/material/fesm5/card.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */












/**
 * Form to allow users to enter their credentials and log in.
 */
var LoginComponent = /** @class */ (function () {
    function LoginComponent(_sessionService) {
        this._sessionService = _sessionService;
        /** true while a login is started but result is not received yet */
        this.loginInProgress = false;
    }
    /**
     * Do a login with the SessionService.
     */
    LoginComponent.prototype.login = function () {
        var _this = this;
        this.loginInProgress = true;
        this._sessionService
            .login(this.username, this.password)
            .then(function (loginState) {
            if (loginState === _session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_3__["LoginState"].LOGGED_IN) {
                _this.onLoginSuccess();
            }
            else {
                if (_this._sessionService.getSyncState().getState() ===
                    _session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_1__["SyncState"].ABORTED &&
                    _this._sessionService.getConnectionState().getState() ===
                        _session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_4__["ConnectionState"].OFFLINE) {
                    _this.onLoginFailure("Can't login for the first time when offline. Please try again later.");
                }
                else if (_this._sessionService.getConnectionState().getState() ===
                    _session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_4__["ConnectionState"].OFFLINE) {
                    _this.onLoginFailure("Username or password incorrect!" +
                        " You might also face this problem because you are currently offline." +
                        " Please connect to the internet to synchronize the latest user data.");
                }
                else {
                    _this.onLoginFailure("Username or password incorrect!");
                }
            }
        })
            .catch(function (reason) {
            return _this.onLoginFailure(typeof reason === "string" ? reason : JSON.stringify(reason));
        });
    };
    LoginComponent.prototype.onLoginSuccess = function () {
        this.reset();
        // login component is automatically hidden based on _sessionService.isLoggedIn()
    };
    LoginComponent.prototype.onLoginFailure = function (reason) {
        this.reset();
        this.errorMessage = reason;
    };
    LoginComponent.prototype.reset = function () {
        this.errorMessage = "";
        this.password = "";
        this.loginInProgress = false;
    };
    LoginComponent.ɵfac = function LoginComponent_Factory(t) { return new (t || LoginComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_session_service_session_service__WEBPACK_IMPORTED_MODULE_2__["SessionService"])); };
    LoginComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: LoginComponent, selectors: [["app-login"]], decls: 18, vars: 5, consts: [[1, "login-panel", "centered"], [1, "login-error"], [1, "login-field"], ["matInput", "", "placeholder", "Username", "type", "text", "required", "", "autofocus", "", "name", "username", "autocomplete", "username", 3, "ngModel", "ngModelChange", "keyup.enter"], ["matInput", "", "placeholder", "Password", "type", "password", "required", "", "name", "password", "autocomplete", "current-password", 3, "ngModel", "ngModelChange", "keyup.enter"], ["mat-raised-button", "", "type", "submit", 3, "disabled", "click"]], template: function LoginComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-card", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-card-title");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, " Please Sign In ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "mat-card-content");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "form");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "p", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "p");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "mat-form-field", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "input", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function LoginComponent_Template_input_ngModelChange_9_listener($event) { return ctx.username = $event; })("keyup.enter", function LoginComponent_Template_input_keyup_enter_9_listener() { return ctx.login(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "mat-error");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "p");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "mat-form-field", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "input", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function LoginComponent_Template_input_ngModelChange_14_listener($event) { return ctx.password = $event; })("keyup.enter", function LoginComponent_Template_input_keyup_enter_14_listener() { return ctx.login(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "p");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "button", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function LoginComponent_Template_button_click_16_listener() { return ctx.login(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](17, " Login ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx.errorMessage, " ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx.username);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.errorMessage);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx.password);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", ctx.loginInProgress);
        } }, directives: [_angular_material_card__WEBPACK_IMPORTED_MODULE_5__["MatCard"], _angular_material_card__WEBPACK_IMPORTED_MODULE_5__["MatCardTitle"], _angular_material_card__WEBPACK_IMPORTED_MODULE_5__["MatCardContent"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["NgForm"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_7__["MatFormField"], _angular_material_input__WEBPACK_IMPORTED_MODULE_8__["MatInput"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["RequiredValidator"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["NgModel"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_7__["MatError"], _angular_material_button__WEBPACK_IMPORTED_MODULE_9__["MatButton"]], styles: [".login-panel[_ngcontent-%COMP%] {\n  max-width: 400px;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.login-field[_ngcontent-%COMP%] {\n  width: 90%;\n}\n.login-error[_ngcontent-%COMP%] {\n  color: red;\n  font-weight: bold;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY29yZS9zZXNzaW9uL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jb3JlL3Nlc3Npb24vbG9naW4vbG9naW4uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7OztFQUFBO0FBaUJBO0VBQ0UsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0FDQUY7QURHQTtFQUNFLFVBQUE7QUNBRjtBREdBO0VBQ0UsVUFBQTtFQUNBLGlCQUFBO0FDQUYiLCJmaWxlIjoic3JjL2FwcC9jb3JlL3Nlc3Npb24vbG9naW4vbG9naW4uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIG5kYi1jb3JlLlxuICpcbiAqICAgICBuZGItY29yZSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiAgICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqICAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogICAgIG5kYi1jb3JlIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiAgICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqICAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiAgICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiAgICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqICAgICBhbG9uZyB3aXRoIG5kYi1jb3JlLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbi5sb2dpbi1wYW5lbCB7XG4gIG1heC13aWR0aDogNDAwcHg7XG4gIG1hcmdpbi10b3A6IDIwcHg7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG5cbi5sb2dpbi1maWVsZCB7XG4gIHdpZHRoOiA5MCU7XG59XG5cbi5sb2dpbi1lcnJvciB7XG4gIGNvbG9yOiByZWQ7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuIiwiLypcbiAqICAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiBuZGItY29yZS5cbiAqXG4gKiAgICAgbmRiLWNvcmUgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiAgICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqICAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqICAgICBuZGItY29yZSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiAgICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiAgICAgYWxvbmcgd2l0aCBuZGItY29yZS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuLmxvZ2luLXBhbmVsIHtcbiAgbWF4LXdpZHRoOiA0MDBweDtcbiAgbWFyZ2luLXRvcDogMjBweDtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbn1cblxuLmxvZ2luLWZpZWxkIHtcbiAgd2lkdGg6IDkwJTtcbn1cblxuLmxvZ2luLWVycm9yIHtcbiAgY29sb3I6IHJlZDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59Il19 */"] });
    return LoginComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoginComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-login",
                templateUrl: "./login.component.html",
                styleUrls: ["./login.component.scss"],
            }]
    }], function () { return [{ type: _session_service_session_service__WEBPACK_IMPORTED_MODULE_2__["SessionService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/session/session-service/local-session.ts":
/*!***************************************************************!*\
  !*** ./src/app/core/session/session-service/local-session.ts ***!
  \***************************************************************/
/*! exports provided: LocalSession */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LocalSession", function() { return LocalSession; });
/* harmony import */ var pouchdb_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pouchdb-browser */ "./node_modules/pouchdb-browser/lib/index.es.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_config_app_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../app-config/app-config */ "./src/app/core/app-config/app-config.ts");
/* harmony import */ var _user_user__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../user/user */ "./src/app/core/user/user.ts");
/* harmony import */ var _session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../session-states/sync-state.enum */ "./src/app/core/session/session-states/sync-state.enum.ts");
/* harmony import */ var _session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../session-states/login-state.enum */ "./src/app/core/session/session-states/login-state.enum.ts");
/* harmony import */ var _session_states_state_handler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../session-states/state-handler */ "./src/app/core/session/session-states/state-handler.ts");
/* harmony import */ var app_core_entity_schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! app/core/entity/schema/entity-schema.service */ "./src/app/core/entity/schema/entity-schema.service.ts");
/* harmony import */ var app_core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! app/core/alerts/alert.service */ "./src/app/core/alerts/alert.service.ts");
/* harmony import */ var _logging_logging_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../logging/logging.service */ "./src/app/core/logging/logging.service.ts");
/* harmony import */ var _analytics_analytics_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../analytics/analytics.service */ "./src/app/core/analytics/analytics.service.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */














/**
 * Responsibilities:
 * - Hold the local DB
 * - Hold local user
 * - Check credentials against DB
 * - Provide the state of the synchronisation of the local db
 *   - we want to block before the first full sync
 * - Provide an interface to access the data
 */
var LocalSession = /** @class */ (function () {
    /**
     * Create a LocalSession and set up the local PouchDB instance based on AppConfig settings.
     * @param _alertService
     * @param _entitySchemaService
     * @param _analyticsService
     */
    function LocalSession(_alertService, _entitySchemaService) {
        this._alertService = _alertService;
        this._entitySchemaService = _entitySchemaService;
        this.database = new pouchdb_browser__WEBPACK_IMPORTED_MODULE_0__["default"](_app_config_app_config__WEBPACK_IMPORTED_MODULE_2__["AppConfig"].settings.database.name);
        this.loginState = new _session_states_state_handler__WEBPACK_IMPORTED_MODULE_6__["StateHandler"](_session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_5__["LoginState"].LOGGED_OUT);
        this.syncState = new _session_states_state_handler__WEBPACK_IMPORTED_MODULE_6__["StateHandler"](_session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_4__["SyncState"].UNSYNCED);
    }
    /**
     * Get a login at the local session by fetching the user from the local database and validating the password.
     * Returns a Promise resolving with the loginState.
     * Attention: This method waits for the first synchronisation of the database (or a fail of said initial sync).
     * @param username Username
     * @param password Password
     */
    LocalSession.prototype.login = function (username, password) {
        return __awaiter(this, void 0, void 0, function () {
            var userEntity, error_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 3, , 4]);
                        return [4 /*yield*/, this.waitForFirstSync()];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.loadUser(username)];
                    case 2:
                        userEntity = _a.sent();
                        if (userEntity.checkPassword(password)) {
                            this.currentUser = userEntity;
                            this.currentUser.decryptCloudPassword(password);
                            _logging_logging_service__WEBPACK_IMPORTED_MODULE_9__["LoggingService"].setLoggingContextUser(this.currentUser.name);
                            _analytics_analytics_service__WEBPACK_IMPORTED_MODULE_10__["AnalyticsService"].setUser(this.currentUser.name);
                            _analytics_analytics_service__WEBPACK_IMPORTED_MODULE_10__["AnalyticsService"].eventTrack("user_login", {
                                category: "Auth",
                                label: "successful",
                                value: 1,
                            });
                            this.loginState.setState(_session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_5__["LoginState"].LOGGED_IN);
                            return [2 /*return*/, _session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_5__["LoginState"].LOGGED_IN];
                        }
                        else {
                            this.loginState.setState(_session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_5__["LoginState"].LOGIN_FAILED);
                            _analytics_analytics_service__WEBPACK_IMPORTED_MODULE_10__["AnalyticsService"].eventTrack("user_login", {
                                category: "Auth",
                                label: "failed_wrong_credentials",
                                value: 0,
                            });
                            return [2 /*return*/, _session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_5__["LoginState"].LOGIN_FAILED];
                        }
                        return [3 /*break*/, 4];
                    case 3:
                        error_1 = _a.sent();
                        // possible error: initial sync failed or aborted
                        if (error_1 &&
                            error_1.toState &&
                            [_session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_4__["SyncState"].ABORTED, _session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_4__["SyncState"].FAILED].includes(error_1.toState)) {
                            if (this.loginState.getState() === _session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_5__["LoginState"].LOGIN_FAILED) {
                                _analytics_analytics_service__WEBPACK_IMPORTED_MODULE_10__["AnalyticsService"].eventTrack("user_login", {
                                    category: "Auth",
                                    label: "failed_sync_failed_remote_reject",
                                    value: 10,
                                });
                                // The sync failed because the remote rejected
                                return [2 /*return*/, _session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_5__["LoginState"].LOGIN_FAILED];
                            }
                            _analytics_analytics_service__WEBPACK_IMPORTED_MODULE_10__["AnalyticsService"].eventTrack("user_login", {
                                category: "Auth",
                                label: "failed_sync_failed_unknown",
                                value: 20,
                            });
                            // The sync failed for other reasons. The user should try again
                            this.loginState.setState(_session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_5__["LoginState"].LOGGED_OUT);
                            return [2 /*return*/, _session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_5__["LoginState"].LOGGED_OUT];
                        }
                        // possible error: user object not found locally, which should return loginFailed.
                        if (error_1 && error_1.status && error_1.status === 404) {
                            _analytics_analytics_service__WEBPACK_IMPORTED_MODULE_10__["AnalyticsService"].eventTrack("user_login", {
                                category: "Auth",
                                label: "failed",
                                value: 30,
                            });
                            this.loginState.setState(_session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_5__["LoginState"].LOGIN_FAILED);
                            return [2 /*return*/, _session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_5__["LoginState"].LOGIN_FAILED];
                        }
                        // all other cases must throw an error
                        throw error_1;
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Wait for the first sync of the database, returns a Promise.
     * Resolves directly, if the database is not initial, otherwise waits for the first change of the SyncState to completed (or failed)
     */
    LocalSession.prototype.waitForFirstSync = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.isInitial()];
                    case 1:
                        if (!_a.sent()) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.syncState.waitForChangeTo(_session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_4__["SyncState"].COMPLETED, [
                                _session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_4__["SyncState"].FAILED,
                                _session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_4__["SyncState"].ABORTED,
                            ])];
                    case 2: return [2 /*return*/, _a.sent()];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Check whether the local database is in an initial state.
     * This check can only be performed async, so this method returns a Promise
     */
    LocalSession.prototype.isInitial = function () {
        // `doc_count === 0 => initial` is a valid assumptions, as documents for users must always be present, even after db-clean
        return this.database.info().then(function (result) { return result.doc_count === 0; });
    };
    /**
     * Logout
     */
    LocalSession.prototype.logout = function () {
        this.currentUser = undefined;
        _analytics_analytics_service__WEBPACK_IMPORTED_MODULE_10__["AnalyticsService"].eventTrack("user_logout", {
            category: "Auth",
            label: "successful",
            value: 1,
        });
        this.loginState.setState(_session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_5__["LoginState"].LOGGED_OUT);
    };
    /**
     * Helper to get a User Entity from the Database without needing the EntityMapperService
     * @param userId Id of the User to be loaded
     */
    LocalSession.prototype.loadUser = function (userId) {
        return __awaiter(this, void 0, void 0, function () {
            var user, userData;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        user = new _user_user__WEBPACK_IMPORTED_MODULE_3__["User"]("");
                        return [4 /*yield*/, this.database.get("User:" + userId)];
                    case 1:
                        userData = _a.sent();
                        this._entitySchemaService.loadDataIntoEntity(user, userData);
                        return [2 /*return*/, user];
                }
            });
        });
    };
    LocalSession.ɵfac = function LocalSession_Factory(t) { return new (t || LocalSession)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](app_core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_8__["AlertService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](app_core_entity_schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_7__["EntitySchemaService"])); };
    LocalSession.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: LocalSession, factory: LocalSession.ɵfac });
    return LocalSession;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](LocalSession, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"]
    }], function () { return [{ type: app_core_alerts_alert_service__WEBPACK_IMPORTED_MODULE_8__["AlertService"] }, { type: app_core_entity_schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_7__["EntitySchemaService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/session/session-service/mock-session.service.ts":
/*!**********************************************************************!*\
  !*** ./src/app/core/session/session-service/mock-session.service.ts ***!
  \**********************************************************************/
/*! exports provided: MockSessionService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MockSessionService", function() { return MockSessionService; });
/* harmony import */ var _session_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./session.service */ "./src/app/core/session/session-service/session.service.ts");
/* harmony import */ var app_core_user_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/core/user/user */ "./src/app/core/user/user.ts");
/* harmony import */ var _session_states_state_handler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../session-states/state-handler */ "./src/app/core/session/session-states/state-handler.ts");
/* harmony import */ var _session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../session-states/connection-state.enum */ "./src/app/core/session/session-states/connection-state.enum.ts");
/* harmony import */ var _session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../session-states/login-state.enum */ "./src/app/core/session/session-states/login-state.enum.ts");
/* harmony import */ var _session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../session-states/sync-state.enum */ "./src/app/core/session/session-states/sync-state.enum.ts");
/* harmony import */ var app_core_database_mock_database__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/core/database/mock-database */ "./src/app/core/database/mock-database.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};







/**
 * SessionService implementation for testing and demo purposes.
 * The MockSessionService does not set up a remote connection or sync and only creates an in-memory database,
 * which will lose any changes after closing the browser.
 *
 * Set `"database": { "useTemporaryDatabase": true }` in your app-config.json
 * to use the MockSessionService which will also generate demo data.
 *
 * For an CouchDB/PouchDB sync based session implementation see {@link SyncedSessionService}
 */
var MockSessionService = /** @class */ (function (_super) {
    __extends(MockSessionService, _super);
    function MockSessionService(_entitySchemaService) {
        var _this = _super.call(this) || this;
        _this._entitySchemaService = _entitySchemaService;
        _this.loginState = new _session_states_state_handler__WEBPACK_IMPORTED_MODULE_2__["StateHandler"](_session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_4__["LoginState"].LOGGED_OUT);
        _this.connectionState = new _session_states_state_handler__WEBPACK_IMPORTED_MODULE_2__["StateHandler"](_session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_3__["ConnectionState"].DISCONNECTED);
        _this.syncState = new _session_states_state_handler__WEBPACK_IMPORTED_MODULE_2__["StateHandler"](_session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_5__["SyncState"].UNSYNCED);
        _this.database = new app_core_database_mock_database__WEBPACK_IMPORTED_MODULE_6__["MockDatabase"]();
        return _this;
    }
    /** see {@link SessionService} */
    MockSessionService.prototype.getCurrentUser = function () {
        return this.currentUser;
    };
    /** see {@link SessionService} */
    MockSessionService.prototype.isLoggedIn = function () {
        return this.loginState.getState() === _session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_4__["LoginState"].LOGGED_IN;
    };
    /** see {@link SessionService} */
    MockSessionService.prototype.getConnectionState = function () {
        return this.connectionState;
    };
    /** see {@link SessionService} */
    MockSessionService.prototype.getLoginState = function () {
        return this.loginState;
    };
    /** see {@link SessionService} */
    MockSessionService.prototype.getSyncState = function () {
        return this.syncState;
    };
    /** see {@link SessionService} */
    MockSessionService.prototype.getDatabase = function () {
        return this.database;
    };
    /**
     * Log in the given user.
     * Checks the in-memory database for User Entities to authenticate against.
     *
     * also see {@link SessionService}
     */
    MockSessionService.prototype.login = function (username, password) {
        return __awaiter(this, void 0, void 0, function () {
            var userEntity, error_1;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this.loadUser(username)];
                    case 1:
                        userEntity = _a.sent();
                        if (userEntity.checkPassword(password)) {
                            this.loginState.setState(_session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_4__["LoginState"].LOGGED_IN);
                            this.connectionState.setState(_session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_3__["ConnectionState"].CONNECTED);
                            this.currentUser = userEntity;
                            this.currentUser.decryptCloudPassword(password);
                            setTimeout(function () { return _this.sync(); }, 0);
                            return [2 /*return*/, _session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_4__["LoginState"].LOGGED_IN];
                        }
                        else {
                            this.loginState.setState(_session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_4__["LoginState"].LOGIN_FAILED);
                            this.connectionState.setState(_session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_3__["ConnectionState"].REJECTED);
                            return [2 /*return*/, _session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_4__["LoginState"].LOGIN_FAILED];
                        }
                        return [3 /*break*/, 3];
                    case 2:
                        error_1 = _a.sent();
                        // possible error: user object not found locally, which should return loginFailed.
                        if (error_1 && error_1.status && error_1.status === 404) {
                            this.loginState.setState(_session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_4__["LoginState"].LOGIN_FAILED);
                            this.connectionState.setState(_session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_3__["ConnectionState"].REJECTED);
                            return [2 /*return*/, _session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_4__["LoginState"].LOGIN_FAILED];
                        }
                        // all other cases must throw an error
                        throw error_1;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    /** see {@link SessionService} */
    MockSessionService.prototype.logout = function () {
        this.loginState.setState(_session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_4__["LoginState"].LOGGED_OUT);
        this.connectionState.setState(_session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_3__["ConnectionState"].DISCONNECTED);
    };
    /**
     * Dummy implementation, will trigger syncState to quickly switch to SyncState.COMPLETED.
     */
    MockSessionService.prototype.sync = function () {
        var _this = this;
        this.syncState.setState(_session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_5__["SyncState"].STARTED);
        return new Promise(function (resolve) {
            return setTimeout(function () {
                _this.syncState.setState(_session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_5__["SyncState"].COMPLETED);
                resolve();
            }, 0);
        });
    };
    /**
     * Helper to get a User Entity from the Database without needing the EntityMapperService
     * @param userId Id of the User to be loaded
     */
    MockSessionService.prototype.loadUser = function (userId) {
        return __awaiter(this, void 0, void 0, function () {
            var user, userData;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        user = new app_core_user_user__WEBPACK_IMPORTED_MODULE_1__["User"]("");
                        return [4 /*yield*/, this.database.get("User:" + userId)];
                    case 1:
                        userData = _a.sent();
                        this._entitySchemaService.loadDataIntoEntity(user, userData);
                        return [2 /*return*/, user];
                }
            });
        });
    };
    return MockSessionService;
}(_session_service__WEBPACK_IMPORTED_MODULE_0__["SessionService"]));



/***/ }),

/***/ "./src/app/core/session/session-service/remote-session.ts":
/*!****************************************************************!*\
  !*** ./src/app/core/session/session-service/remote-session.ts ***!
  \****************************************************************/
/*! exports provided: RemoteSession */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RemoteSession", function() { return RemoteSession; });
/* harmony import */ var pouchdb_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pouchdb-browser */ "./node_modules/pouchdb-browser/lib/index.es.js");
/* harmony import */ var pouchdb_authentication__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pouchdb-authentication */ "./node_modules/pouchdb-authentication/lib/index.es.js");
/* harmony import */ var _app_config_app_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../app-config/app-config */ "./src/app/core/app-config/app-config.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _session_states_state_handler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../session-states/state-handler */ "./src/app/core/session/session-states/state-handler.ts");
/* harmony import */ var _session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../session-states/connection-state.enum */ "./src/app/core/session/session-states/connection-state.enum.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */







pouchdb_browser__WEBPACK_IMPORTED_MODULE_0__["default"].plugin(pouchdb_authentication__WEBPACK_IMPORTED_MODULE_1__["default"]);
/**
 * Responsibilities:
 * - Hold the remote DB
 * - Handle auth
 * - provide "am i online"-info
 */
var RemoteSession = /** @class */ (function () {
    /**
     * Create a RemoteSession and set up connection to the remote database CouchDB server configured in AppConfig.
     */
    function RemoteSession() {
        /** state of the remote connection */
        this.connectionState = new _session_states_state_handler__WEBPACK_IMPORTED_MODULE_4__["StateHandler"](_session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_5__["ConnectionState"].DISCONNECTED);
        var thisRemoteSession = this;
        this.database = new pouchdb_browser__WEBPACK_IMPORTED_MODULE_0__["default"](_app_config_app_config__WEBPACK_IMPORTED_MODULE_2__["AppConfig"].settings.database.remote_url + _app_config_app_config__WEBPACK_IMPORTED_MODULE_2__["AppConfig"].settings.database.name, {
            ajax: {
                rejectUnauthorized: false,
                timeout: _app_config_app_config__WEBPACK_IMPORTED_MODULE_2__["AppConfig"].settings.database.timeout,
            },
            // This is a workaround for PouchDB 7.0.0 with pouchdb-authentication 1.1.3:
            // https://github.com/pouchdb-community/pouchdb-authentication/issues/239
            // It is necessary, until this merged PR will be published in PouchDB 7.0.1
            // https://github.com/pouchdb/pouchdb/pull/7395
            fetch: function (url, opts) {
                opts.credentials = "include";
                var req = fetch(url, opts);
                req.then(function (result) {
                    if (thisRemoteSession.connectionState.getState() ===
                        _session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_5__["ConnectionState"].OFFLINE) {
                        thisRemoteSession.connectionState.setState(_session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_5__["ConnectionState"].CONNECTED);
                    }
                    return result;
                });
                req.catch(function (error) {
                    // fetch will throw on network errors, giving us a chance to check the online status
                    // if we are offline at the start, this will already be set on login, so we need not check that initial condition here
                    // do not set offline on AbortErrors, as these are fine:
                    // https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Exceptions
                    if (error.name !== "AbortError" &&
                        thisRemoteSession.connectionState.getState() ===
                            _session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_5__["ConnectionState"].CONNECTED) {
                        thisRemoteSession.connectionState.setState(_session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_5__["ConnectionState"].OFFLINE);
                    }
                    throw error;
                });
                return req;
            },
            skip_setup: true,
        });
    }
    /**
     * Connect to the remote Database. Tries to determine from a possible error whether the login was rejected or the user is offline.
     * @param username Username
     * @param password Password
     */
    RemoteSession.prototype.login = function (username, password) {
        return __awaiter(this, void 0, void 0, function () {
            var ajaxOpts, error_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        ajaxOpts = {
                            ajax: {
                                headers: {
                                    Authorization: "Basic " + window.btoa(username + ":" + password),
                                },
                            },
                        };
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, this.database.login(username, password, ajaxOpts)];
                    case 2:
                        _a.sent();
                        this.connectionState.setState(_session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_5__["ConnectionState"].CONNECTED);
                        return [2 /*return*/, _session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_5__["ConnectionState"].CONNECTED];
                    case 3:
                        error_1 = _a.sent();
                        if (error_1.name === "unauthorized" || error_1.name === "forbidden") {
                            this.connectionState.setState(_session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_5__["ConnectionState"].REJECTED);
                            return [2 /*return*/, _session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_5__["ConnectionState"].REJECTED];
                        }
                        else {
                            this.connectionState.setState(_session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_5__["ConnectionState"].OFFLINE);
                            return [2 /*return*/, _session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_5__["ConnectionState"].OFFLINE];
                        }
                        return [3 /*break*/, 4];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Logout at the remote database.
     */
    RemoteSession.prototype.logout = function () {
        this.database.logout();
        this.connectionState.setState(_session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_5__["ConnectionState"].DISCONNECTED);
    };
    RemoteSession.ɵfac = function RemoteSession_Factory(t) { return new (t || RemoteSession)(); };
    RemoteSession.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineInjectable"]({ token: RemoteSession, factory: RemoteSession.ɵfac });
    return RemoteSession;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵsetClassMetadata"](RemoteSession, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "./src/app/core/session/session-service/session.service.ts":
/*!*****************************************************************!*\
  !*** ./src/app/core/session/session-service/session.service.ts ***!
  \*****************************************************************/
/*! exports provided: SessionService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SessionService", function() { return SessionService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */


/**
 * A session manages user authentication and database connection for the app.
 *
 * To get the current user object in any other class, inject the SessionService.
 *
 * The SessionService also sets up and provides the Database.
 * To access the database in other classes
 * you should use rather inject the `Database` or the `EntityMapperService` directly, however.
 *
 * This SessionService is the abstract base class for the concrete implementations like SyncedSessionService.
 * You should still use `SessionService` as the dependency injection key to get access to the functionality,
 * providers are set up in a way that you will get the correct implementation during runtime.
 */
var SessionService = /** @class */ (function () {
    function SessionService() {
    }
    SessionService.ɵfac = function SessionService_Factory(t) { return new (t || SessionService)(); };
    SessionService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: SessionService, factory: SessionService.ɵfac });
    return SessionService;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SessionService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], null, null); })();


/***/ }),

/***/ "./src/app/core/session/session-service/synced-session.service.ts":
/*!************************************************************************!*\
  !*** ./src/app/core/session/session-service/synced-session.service.ts ***!
  \************************************************************************/
/*! exports provided: SyncedSessionService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SyncedSessionService", function() { return SyncedSessionService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _alerts_alert_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../alerts/alert.service */ "./src/app/core/alerts/alert.service.ts");
/* harmony import */ var _session_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./session.service */ "./src/app/core/session/session-service/session.service.ts");
/* harmony import */ var _local_session__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./local-session */ "./src/app/core/session/session-service/local-session.ts");
/* harmony import */ var _remote_session__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./remote-session */ "./src/app/core/session/session-service/remote-session.ts");
/* harmony import */ var _session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../session-states/login-state.enum */ "./src/app/core/session/session-states/login-state.enum.ts");
/* harmony import */ var _database_pouch_database__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../database/pouch-database */ "./src/app/core/database/pouch-database.ts");
/* harmony import */ var _session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../session-states/connection-state.enum */ "./src/app/core/session/session-states/connection-state.enum.ts");
/* harmony import */ var _session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../session-states/sync-state.enum */ "./src/app/core/session/session-states/sync-state.enum.ts");
/* harmony import */ var app_core_entity_schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! app/core/entity/schema/entity-schema.service */ "./src/app/core/entity/schema/entity-schema.service.ts");
/* harmony import */ var _logging_logging_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../logging/logging.service */ "./src/app/core/logging/logging.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */















/**
 * A synced session creates and manages a LocalSession and a RemoteSession
 * and handles the setup of synchronisation.
 *
 * also see
 * [Session Handling, Authentication & Synchronisation]{@link /additional-documentation/concepts/session-and-authentication-system.html}
 */
var SyncedSessionService = /** @class */ (function (_super) {
    __extends(SyncedSessionService, _super);
    function SyncedSessionService(_alertService, _loggingService, _entitySchemaService) {
        var _this = _super.call(this) || this;
        _this._alertService = _alertService;
        _this._loggingService = _loggingService;
        _this._entitySchemaService = _entitySchemaService;
        _this._localSession = new _local_session__WEBPACK_IMPORTED_MODULE_3__["LocalSession"](_this._alertService, _this._entitySchemaService);
        _this._remoteSession = new _remote_session__WEBPACK_IMPORTED_MODULE_4__["RemoteSession"]();
        return _this;
    }
    /** see {@link SessionService} */
    SyncedSessionService.prototype.isLoggedIn = function () {
        return this._localSession.loginState.getState() === _session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_5__["LoginState"].LOGGED_IN;
    };
    /**
     * Perform a login. The result will only be the login at the local DB, as we might be offline.
     * Calling this function will trigger a login in the background.
     * - If it is successful, a sync is performed in the background
     * - If it fails due to wrong credentials, yet the local login was successful somehow, we fail local login after the fact
     *
     * If the localSession is empty, the local login waits for the result of the sync triggered by the remote login (see local-session.ts).
     * If the remote login fails for some reason, this sync will never be performed, which is why it must be failed manually here
     * to abort the local login and prevent a deadlock.
     * @param username Username
     * @param password Password
     * @returns a promise resolving with the local LoginState
     */
    SyncedSessionService.prototype.login = function (username, password) {
        var _this = this;
        this.cancelLoginOfflineRetry(); // in case this is running in the background
        this.getSyncState().setState(_session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_8__["SyncState"].UNSYNCED);
        var localLogin = this._localSession.login(username, password);
        var remoteLogin = this._remoteSession.login(username, password);
        remoteLogin.then(function (connectionState) { return __awaiter(_this, void 0, void 0, function () {
            var syncPromise_1, _a;
            var _this = this;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        // remote connected -- sync!
                        if (connectionState === _session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_7__["ConnectionState"].CONNECTED) {
                            syncPromise_1 = this.sync();
                            // no matter the result of the non-live sync(), start liveSync() once it is done
                            syncPromise_1.then(
                            // successful -> start liveSync()
                            function () { return _this.liveSyncDeferred(); }, 
                            // not successful -> only start a liveSync() to retry, if we are logged in locally
                            // otherwise the UI is in a fairly unusable state.
                            function () { return __awaiter(_this, void 0, void 0, function () {
                                return __generator(this, function (_a) {
                                    switch (_a.label) {
                                        case 0: return [4 /*yield*/, localLogin];
                                        case 1:
                                            if ((_a.sent()) === _session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_5__["LoginState"].LOGGED_IN) {
                                                this.liveSyncDeferred();
                                            }
                                            else {
                                                // TODO(lh): Alert the AlertService: Your password was changed recently, but there is an issue with sync. Try again later!
                                            }
                                            return [2 /*return*/];
                                    }
                                });
                            }); });
                            // asynchronously check if the local login failed --> this happens, when the password was changed at the remote
                            localLogin.then(function (loginState) { return __awaiter(_this, void 0, void 0, function () {
                                return __generator(this, function (_a) {
                                    switch (_a.label) {
                                        case 0:
                                            if (!(loginState === _session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_5__["LoginState"].LOGIN_FAILED)) return [3 /*break*/, 2];
                                            // in this case: when the sync is completed, retry the local login after the sync
                                            return [4 /*yield*/, syncPromise_1];
                                        case 1:
                                            // in this case: when the sync is completed, retry the local login after the sync
                                            _a.sent();
                                            return [2 /*return*/, this._localSession.login(username, password)];
                                        case 2: return [2 /*return*/];
                                    }
                                });
                            }); });
                            return [2 /*return*/, syncPromise_1];
                        }
                        // If we are not connected, we must check (asynchronously), whether the local database is initial
                        this._localSession.isInitial().then(function (isInitial) {
                            if (isInitial) {
                                // If we were initial, the local session was waiting for a sync.
                                if (connectionState === _session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_7__["ConnectionState"].REJECTED) {
                                    // Explicitly fail the login if the Connection was rejected, so the LocalSession knows what's going on
                                    // additionally, fail sync to resolve deadlock
                                    _this._localSession.loginState.setState(_session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_5__["LoginState"].LOGIN_FAILED);
                                    _this._localSession.syncState.setState(_session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_8__["SyncState"].FAILED);
                                }
                                else {
                                    // Explicitly abort the sync to resolve the deadlock
                                    _this._localSession.syncState.setState(_session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_8__["SyncState"].ABORTED);
                                }
                            }
                        });
                        if (!(connectionState === _session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_7__["ConnectionState"].REJECTED)) return [3 /*break*/, 2];
                        return [4 /*yield*/, localLogin];
                    case 1:
                        if ((_b.sent()) === _session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_5__["LoginState"].LOGGED_IN) {
                            // Someone changed the password remotely --> log out and signal failed login
                            this._localSession.logout();
                            this._localSession.loginState.setState(_session_states_login_state_enum__WEBPACK_IMPORTED_MODULE_5__["LoginState"].LOGIN_FAILED);
                            this._alertService.addDanger("Your password was changed recently. Please retry with your new password!");
                        }
                        _b.label = 2;
                    case 2:
                        _a = connectionState === _session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_7__["ConnectionState"].OFFLINE;
                        if (!_a) return [3 /*break*/, 4];
                        return [4 /*yield*/, this._localSession.isInitial()];
                    case 3:
                        _a = !(_b.sent());
                        _b.label = 4;
                    case 4:
                        // offline? retry (unless we are in an initial state)! TODO(lh): Backoff
                        if (_a) {
                            this._offlineRetryLoginScheduleHandle = setTimeout(function () {
                                _this.login(username, password);
                            }, 2000);
                        }
                        return [2 /*return*/];
                }
            });
        }); });
        return localLogin; // the local login is the Promise that counts
    };
    /** see {@link SessionService} */
    SyncedSessionService.prototype.getCurrentUser = function () {
        return this._localSession.currentUser;
    };
    /** see {@link SessionService} */
    SyncedSessionService.prototype.getLoginState = function () {
        return this._localSession.loginState;
    };
    /** see {@link SessionService} */
    SyncedSessionService.prototype.getConnectionState = function () {
        return this._remoteSession.connectionState;
    };
    /** see {@link SessionService} */
    SyncedSessionService.prototype.getSyncState = function () {
        return this._localSession.syncState;
    };
    /** see {@link SessionService} */
    SyncedSessionService.prototype.sync = function () {
        return __awaiter(this, void 0, void 0, function () {
            var result, error_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this._localSession.syncState.setState(_session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_8__["SyncState"].STARTED);
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, this._localSession.database.sync(this._remoteSession.database, { batch_size: 500 })];
                    case 2:
                        result = _a.sent();
                        this._localSession.syncState.setState(_session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_8__["SyncState"].COMPLETED);
                        return [2 /*return*/, result];
                    case 3:
                        error_1 = _a.sent();
                        this._localSession.syncState.setState(_session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_8__["SyncState"].FAILED);
                        throw error_1; // rethrow, so later Promise-handling lands in .catch, too
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Start live sync in background.
     */
    SyncedSessionService.prototype.liveSync = function () {
        var _this = this;
        this.cancelLiveSync(); // cancel any liveSync that may have been alive before
        this._localSession.syncState.setState(_session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_8__["SyncState"].STARTED);
        this._liveSyncHandle = this._localSession.database
            .sync(this._remoteSession.database, {
            live: true,
            retry: true,
        })
            .on("change", function (change) {
            // after sync. change has direction and changes with info on errors etc
        })
            .on("paused", function (info) {
            // replication was paused: either because sync is finished or because of a failed sync (mostly due to lost connection). info is empty.
            if (_this.getConnectionState().getState() !== _session_states_connection_state_enum__WEBPACK_IMPORTED_MODULE_7__["ConnectionState"].OFFLINE) {
                _this._localSession.syncState.setState(_session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_8__["SyncState"].COMPLETED);
                // We might end up here after a failed sync that is not due to offline errors.
                // It shouldn't happen too often, as we have an initial non-live sync to catch those situations, but we can't find that out here
            }
        })
            .on("active", function (info) {
            // replication was resumed: either because new things to sync or because connection is available again. info contains the direction
            _this._localSession.syncState.setState(_session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_8__["SyncState"].STARTED);
        })
            .on("error", function (err) {
            // totally unhandled error (shouldn't happen)
            _this._localSession.syncState.setState(_session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_8__["SyncState"].FAILED);
        })
            .on("complete", function (info) {
            // replication was canceled!
            _this._liveSyncHandle = null;
        });
        return this._liveSyncHandle;
    };
    /**
     * Schedules liveSync to be started.
     * This method should be used to start the liveSync after the initial non-live sync,
     * so the browser makes a round trip to the UI and hides the potentially visible first-sync dialog.
     * @param timeout ms to wait before starting the liveSync
     */
    SyncedSessionService.prototype.liveSyncDeferred = function (timeout) {
        var _this = this;
        if (timeout === void 0) { timeout = 1000; }
        this.cancelLiveSync(); // cancel any liveSync that may have been alive before
        this._liveSyncScheduledHandle = setTimeout(function () { return _this.liveSync(); }, timeout);
    };
    /**
     * Cancels a pending login retry scheduled to start in the future.
     */
    SyncedSessionService.prototype.cancelLoginOfflineRetry = function () {
        if (this._offlineRetryLoginScheduleHandle) {
            clearTimeout(this._offlineRetryLoginScheduleHandle);
        }
    };
    /**
     * Cancels a currently running liveSync or a liveSync scheduled to start in the future.
     */
    SyncedSessionService.prototype.cancelLiveSync = function () {
        if (this._liveSyncScheduledHandle) {
            clearTimeout(this._liveSyncScheduledHandle);
        }
        if (this._liveSyncHandle) {
            this._liveSyncHandle.cancel();
        }
    };
    /**
     * Get the local database instance that should be used for regular data access.
     * als see {@link SessionService}
     */
    SyncedSessionService.prototype.getDatabase = function () {
        return new _database_pouch_database__WEBPACK_IMPORTED_MODULE_6__["PouchDatabase"](this._localSession.database, this._alertService, this._loggingService);
    };
    /**
     * Logout and stop any existing sync.
     * also see {@link SessionService}
     */
    SyncedSessionService.prototype.logout = function () {
        this.cancelLoginOfflineRetry();
        this.cancelLiveSync();
        this._localSession.logout();
        this._remoteSession.logout();
    };
    SyncedSessionService.ɵfac = function SyncedSessionService_Factory(t) { return new (t || SyncedSessionService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_alerts_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_logging_logging_service__WEBPACK_IMPORTED_MODULE_10__["LoggingService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](app_core_entity_schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_9__["EntitySchemaService"])); };
    SyncedSessionService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: SyncedSessionService, factory: SyncedSessionService.ɵfac });
    return SyncedSessionService;
}(_session_service__WEBPACK_IMPORTED_MODULE_2__["SessionService"]));

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SyncedSessionService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _alerts_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"] }, { type: _logging_logging_service__WEBPACK_IMPORTED_MODULE_10__["LoggingService"] }, { type: app_core_entity_schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_9__["EntitySchemaService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/session/session-states/connection-state.enum.ts":
/*!**********************************************************************!*\
  !*** ./src/app/core/session/session-states/connection-state.enum.ts ***!
  \**********************************************************************/
/*! exports provided: ConnectionState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConnectionState", function() { return ConnectionState; });
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
/** State of the connection to the remote database  */
var ConnectionState;
(function (ConnectionState) {
    /** we are offline and therefor not connected to the remote db */
    ConnectionState[ConnectionState["OFFLINE"] = 0] = "OFFLINE";
    /** we tried to login, but it failed, so we are not connected to the remote db */
    ConnectionState[ConnectionState["REJECTED"] = 1] = "REJECTED";
    /** we are intentionally not connected to the remote db */
    ConnectionState[ConnectionState["DISCONNECTED"] = 2] = "DISCONNECTED";
    /** we are connected to the remote db */
    ConnectionState[ConnectionState["CONNECTED"] = 3] = "CONNECTED";
})(ConnectionState || (ConnectionState = {}));


/***/ }),

/***/ "./src/app/core/session/session-states/login-state.enum.ts":
/*!*****************************************************************!*\
  !*** ./src/app/core/session/session-states/login-state.enum.ts ***!
  \*****************************************************************/
/*! exports provided: LoginState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginState", function() { return LoginState; });
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
/** State of the login at the local database, which is synonymous to login at the whole application */
var LoginState;
(function (LoginState) {
    /** Login failed due to wrong credentials */
    LoginState[LoginState["LOGIN_FAILED"] = 0] = "LOGIN_FAILED";
    /** Login state either before first login-attempt or after logout */
    LoginState[LoginState["LOGGED_OUT"] = 1] = "LOGGED_OUT";
    /** Successfully logged in */
    LoginState[LoginState["LOGGED_IN"] = 2] = "LOGGED_IN";
})(LoginState || (LoginState = {}));


/***/ }),

/***/ "./src/app/core/session/session-states/state-handler.ts":
/*!**************************************************************!*\
  !*** ./src/app/core/session/session-states/state-handler.ts ***!
  \**************************************************************/
/*! exports provided: StateHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StateHandler", function() { return StateHandler; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */

/**
 * Utility class supporting generic state transitions by emitting change events
 * and allowing to wait for a certain state transition.
 */
var StateHandler = /** @class */ (function () {
    /**
     * Create a StateHandler helper.
     * @param defaultState Optional initial state.
     */
    function StateHandler(defaultState) {
        this.stateChanged = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.state = defaultState;
    }
    /**
     * Get the current state.
     */
    StateHandler.prototype.getState = function () {
        return this.state;
    };
    /**
     * Change to the given new state.
     * The state handler ensures an event is emitted.
     * @param state The new state
     */
    StateHandler.prototype.setState = function (state) {
        var oldState = this.state;
        this.state = state;
        this.stateChanged.emit({
            fromState: oldState,
            toState: this.state,
        });
        return this;
    };
    /**
     * Subscribe to all state change events.
     */
    StateHandler.prototype.getStateChangedStream = function () {
        return this.stateChanged;
    };
    /**
     * Subscribe to a certain state transition.
     * @param toState The state for which to wait for and resolve the Promise.
     * @param failOnStates Optional array of states for which the reject the Promise.
     */
    StateHandler.prototype.waitForChangeTo = function (toState, failOnStates) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            if (_this.getState() === toState) {
                resolve({ fromState: undefined, toState: toState });
                return;
            }
            else if (failOnStates && failOnStates.includes(_this.getState())) {
                reject({ fromState: undefined, toState: _this.getState() });
                return;
            }
            var subscription = _this.getStateChangedStream().subscribe(function (change) {
                if (change.toState === toState) {
                    subscription.unsubscribe(); // only once
                    resolve(change);
                }
                else if (failOnStates && failOnStates.includes(change.toState)) {
                    subscription.unsubscribe(); // only once
                    reject(change);
                }
            });
        });
    };
    return StateHandler;
}());



/***/ }),

/***/ "./src/app/core/session/session-states/sync-state.enum.ts":
/*!****************************************************************!*\
  !*** ./src/app/core/session/session-states/sync-state.enum.ts ***!
  \****************************************************************/
/*! exports provided: SyncState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SyncState", function() { return SyncState; });
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
/**
 * State of the Synchronization between local and remote database
 */
var SyncState;
(function (SyncState) {
    /** Sync started. In case of liveSync, this means the sync was resumed */
    SyncState[SyncState["STARTED"] = 0] = "STARTED";
    /** Sync completed. In case of liveSync, this means the sync was paused (and waits for more changes) */
    SyncState[SyncState["COMPLETED"] = 1] = "COMPLETED";
    /** Sync failed. This may be, because we are offline, or due to some other reason */
    SyncState[SyncState["FAILED"] = 2] = "FAILED";
    /** (Potentially) Unsynced. This is the state before the first sync after startup */
    SyncState[SyncState["UNSYNCED"] = 3] = "UNSYNCED";
    /** Sync was aborted. Currently only used when the initial login takes place offline */
    SyncState[SyncState["ABORTED"] = 4] = "ABORTED";
})(SyncState || (SyncState = {}));


/***/ }),

/***/ "./src/app/core/session/session.module.ts":
/*!************************************************!*\
  !*** ./src/app/core/session/session.module.ts ***!
  \************************************************/
/*! exports provided: SessionModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SessionModule", function() { return SessionModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _login_login_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./login/login.component */ "./src/app/core/session/login/login.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var app_core_entity_entity_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/core/entity/entity.module */ "./src/app/core/entity/entity.module.ts");
/* harmony import */ var _alerts_alerts_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../alerts/alerts.module */ "./src/app/core/alerts/alerts.module.ts");
/* harmony import */ var _logged_in_guard_logged_in_guard__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./logged-in-guard/logged-in.guard */ "./src/app/core/session/logged-in-guard/logged-in.guard.ts");
/* harmony import */ var _session_service_provider__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./session.service.provider */ "./src/app/core/session/session.service.provider.ts");
/* harmony import */ var _database_database_service_provider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../database/database.service.provider */ "./src/app/core/database/database.service.provider.ts");
/* harmony import */ var app_core_user_user_module__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! app/core/user/user.module */ "./src/app/core/user/user.module.ts");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/card */ "./node_modules/@angular/material/fesm5/card.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
















/**
 * The core session logic handling user login as well as connection and synchronization with the remote database.
 *
 * A detailed discussion about the Session concept is available separately:
 * [Session Handling, Authentication & Synchronisation]{@link /additional-documentation/concepts/session-and-authentication-system.html}
 */
var SessionModule = /** @class */ (function () {
    function SessionModule() {
    }
    SessionModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: SessionModule });
    SessionModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function SessionModule_Factory(t) { return new (t || SessionModule)(); }, providers: [_logged_in_guard_logged_in_guard__WEBPACK_IMPORTED_MODULE_6__["LoggedInGuard"], _session_service_provider__WEBPACK_IMPORTED_MODULE_7__["sessionServiceProvider"], _database_database_service_provider__WEBPACK_IMPORTED_MODULE_8__["databaseServiceProvider"]], imports: [[
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                app_core_entity_entity_module__WEBPACK_IMPORTED_MODULE_4__["EntityModule"],
                _alerts_alerts_module__WEBPACK_IMPORTED_MODULE_5__["AlertsModule"],
                _angular_material_card__WEBPACK_IMPORTED_MODULE_11__["MatCardModule"],
                _angular_material_form_field__WEBPACK_IMPORTED_MODULE_12__["MatFormFieldModule"],
                _angular_material_input__WEBPACK_IMPORTED_MODULE_13__["MatInputModule"],
                _angular_material_button__WEBPACK_IMPORTED_MODULE_10__["MatButtonModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_14__["RouterModule"],
                app_core_user_user_module__WEBPACK_IMPORTED_MODULE_9__["UserModule"],
            ]] });
    return SessionModule;
}());

(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](SessionModule, { declarations: [_login_login_component__WEBPACK_IMPORTED_MODULE_2__["LoginComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
        app_core_entity_entity_module__WEBPACK_IMPORTED_MODULE_4__["EntityModule"],
        _alerts_alerts_module__WEBPACK_IMPORTED_MODULE_5__["AlertsModule"],
        _angular_material_card__WEBPACK_IMPORTED_MODULE_11__["MatCardModule"],
        _angular_material_form_field__WEBPACK_IMPORTED_MODULE_12__["MatFormFieldModule"],
        _angular_material_input__WEBPACK_IMPORTED_MODULE_13__["MatInputModule"],
        _angular_material_button__WEBPACK_IMPORTED_MODULE_10__["MatButtonModule"],
        _angular_router__WEBPACK_IMPORTED_MODULE_14__["RouterModule"],
        app_core_user_user_module__WEBPACK_IMPORTED_MODULE_9__["UserModule"]], exports: [_login_login_component__WEBPACK_IMPORTED_MODULE_2__["LoginComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SessionModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                    app_core_entity_entity_module__WEBPACK_IMPORTED_MODULE_4__["EntityModule"],
                    _alerts_alerts_module__WEBPACK_IMPORTED_MODULE_5__["AlertsModule"],
                    _angular_material_card__WEBPACK_IMPORTED_MODULE_11__["MatCardModule"],
                    _angular_material_form_field__WEBPACK_IMPORTED_MODULE_12__["MatFormFieldModule"],
                    _angular_material_input__WEBPACK_IMPORTED_MODULE_13__["MatInputModule"],
                    _angular_material_button__WEBPACK_IMPORTED_MODULE_10__["MatButtonModule"],
                    _angular_router__WEBPACK_IMPORTED_MODULE_14__["RouterModule"],
                    app_core_user_user_module__WEBPACK_IMPORTED_MODULE_9__["UserModule"],
                ],
                declarations: [_login_login_component__WEBPACK_IMPORTED_MODULE_2__["LoginComponent"]],
                exports: [_login_login_component__WEBPACK_IMPORTED_MODULE_2__["LoginComponent"]],
                providers: [_logged_in_guard_logged_in_guard__WEBPACK_IMPORTED_MODULE_6__["LoggedInGuard"], _session_service_provider__WEBPACK_IMPORTED_MODULE_7__["sessionServiceProvider"], _database_database_service_provider__WEBPACK_IMPORTED_MODULE_8__["databaseServiceProvider"]],
            }]
    }], null, null); })();


/***/ }),

/***/ "./src/app/core/session/session.service.provider.ts":
/*!**********************************************************!*\
  !*** ./src/app/core/session/session.service.provider.ts ***!
  \**********************************************************/
/*! exports provided: sessionServiceFactory, sessionServiceProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sessionServiceFactory", function() { return sessionServiceFactory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sessionServiceProvider", function() { return sessionServiceProvider; });
/* harmony import */ var _session_service_synced_session_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./session-service/synced-session.service */ "./src/app/core/session/session-service/synced-session.service.ts");
/* harmony import */ var _app_config_app_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../app-config/app-config */ "./src/app/core/app-config/app-config.ts");
/* harmony import */ var _session_service_mock_session_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./session-service/mock-session.service */ "./src/app/core/session/session-service/mock-session.service.ts");
/* harmony import */ var _session_service_session_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./session-service/session.service */ "./src/app/core/session/session-service/session.service.ts");
/* harmony import */ var _alerts_alert_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../alerts/alert.service */ "./src/app/core/alerts/alert.service.ts");
/* harmony import */ var app_core_entity_schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/core/entity/schema/entity-schema.service */ "./src/app/core/entity/schema/entity-schema.service.ts");
/* harmony import */ var _logging_logging_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../logging/logging.service */ "./src/app/core/logging/logging.service.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */







/**
 * Factory method for Angular DI provider of SessionService.
 *
 * see [sessionServiceProvider]{@link sessionServiceProvider} for details.
 *
 * @param alertService
 * @param loggingService
 * @param entitySchemaService
 */
function sessionServiceFactory(alertService, loggingService, entitySchemaService) {
    if (_app_config_app_config__WEBPACK_IMPORTED_MODULE_1__["AppConfig"].settings.database.useTemporaryDatabase) {
        return new _session_service_mock_session_service__WEBPACK_IMPORTED_MODULE_2__["MockSessionService"](entitySchemaService);
    }
    else {
        return new _session_service_synced_session_service__WEBPACK_IMPORTED_MODULE_0__["SyncedSessionService"](alertService, loggingService, entitySchemaService);
        // TODO: requires a configuration or UI option to select OnlineSession: https://github.com/Aam-Digital/ndb-core/issues/434
        // return new OnlineSessionService(alertService, entitySchemaService);
    }
}
/**
 * Provider for SessionService implementation based on the AppConfig settings.
 *
 * Set `"database": { "useTemporaryDatabase": true }` in your app-config.json
 * to use the MockSessionService which will set up an in-memory database with demo data.
 * Otherwise the SyncedSessionService is used, establishing a local and remote session and setting up sync between them.
 */
var sessionServiceProvider = {
    provide: _session_service_session_service__WEBPACK_IMPORTED_MODULE_3__["SessionService"],
    useFactory: sessionServiceFactory,
    deps: [_alerts_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"], _logging_logging_service__WEBPACK_IMPORTED_MODULE_6__["LoggingService"], app_core_entity_schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_5__["EntitySchemaService"]],
};


/***/ }),

/***/ "./src/app/core/sync-status/background-processing-indicator/background-processing-indicator.component.ts":
/*!***************************************************************************************************************!*\
  !*** ./src/app/core/sync-status/background-processing-indicator/background-processing-indicator.component.ts ***!
  \***************************************************************************************************************/
/*! exports provided: BackgroundProcessingIndicatorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BackgroundProcessingIndicatorComponent", function() { return BackgroundProcessingIndicatorComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material_menu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material/menu */ "./node_modules/@angular/material/fesm5/menu.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_badge__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/badge */ "./node_modules/@angular/material/fesm5/badge.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/flex-layout/flex */ "./node_modules/@angular/flex-layout/esm5/flex.es5.js");
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/tooltip */ "./node_modules/@angular/material/fesm5/tooltip.js");
/* harmony import */ var _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/progress-spinner */ "./node_modules/@angular/material/fesm5/progress-spinner.js");











function BackgroundProcessingIndicatorComponent_div_7_mat_spinner_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "mat-spinner", 14);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("diameter", 20);
} }
function BackgroundProcessingIndicatorComponent_div_7_mat_icon_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "mat-icon", 15);
} }
function BackgroundProcessingIndicatorComponent_div_7_span_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var process_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("(", process_r2.details, ")");
} }
function BackgroundProcessingIndicatorComponent_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BackgroundProcessingIndicatorComponent_div_7_mat_spinner_2_Template, 1, 1, "mat-spinner", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BackgroundProcessingIndicatorComponent_div_7_mat_icon_3_Template, 1, 0, "mat-icon", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, BackgroundProcessingIndicatorComponent_div_7_span_6_Template, 2, 1, "span", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var process_r2 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", process_r2.pending);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !process_r2.pending);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matTooltip", process_r2.description);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", process_r2.title, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", process_r2.details);
} }
/**
 * A dumb component handling presentation of the sync indicator icon
 * and an additional details dropdown listing all currently running background processes.
 */
var BackgroundProcessingIndicatorComponent = /** @class */ (function () {
    function BackgroundProcessingIndicatorComponent() {
        /** details on current background processes to be displayed to user */
        this.backgroundProcesses = [];
        /** whether processes of with the same title shall be summarized into one line */
        this.summarize = true;
    }
    BackgroundProcessingIndicatorComponent.prototype.ngOnChanges = function (changes) {
        var _a, _b, _c, _d;
        if (!changes.backgroundProcesses) {
            return;
        }
        if (this.summarize && this.backgroundProcesses) {
            this.backgroundProcesses = this.summarizeProcesses(this.backgroundProcesses);
        }
        this.taskCounter = (_a = this.backgroundProcesses) === null || _a === void 0 ? void 0 : _a.filter(function (s) { return s.pending; }).length;
        if (this.taskCounter > 1) {
            if (!(((_b = changes.backgroundProcesses.previousValue) === null || _b === void 0 ? void 0 : _b.filter(function (s) { return s.pending; }).length) > 1)) {
                // open menu automatically only if it has not been opened previously, to avoid reopening after user closed it
                (_c = this.taskListDropdownTrigger) === null || _c === void 0 ? void 0 : _c.openMenu();
            }
        }
        else if (this.taskCounter === 0) {
            (_d = this.taskListDropdownTrigger) === null || _d === void 0 ? void 0 : _d.closeMenu();
        }
    };
    BackgroundProcessingIndicatorComponent.prototype.summarizeProcesses = function (processes) {
        return processes.reduce(function (accumulator, currentEntry) {
            var summaryEntry = accumulator.find(function (i) { return i.title === currentEntry.title; });
            if (!summaryEntry) {
                accumulator.push(currentEntry);
            }
            else {
                delete summaryEntry.details;
                summaryEntry.pending = summaryEntry.pending || currentEntry.pending;
            }
            return accumulator;
        }, []);
    };
    BackgroundProcessingIndicatorComponent.ɵfac = function BackgroundProcessingIndicatorComponent_Factory(t) { return new (t || BackgroundProcessingIndicatorComponent)(); };
    BackgroundProcessingIndicatorComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BackgroundProcessingIndicatorComponent, selectors: [["app-background-processing-indicator"]], viewQuery: function BackgroundProcessingIndicatorComponent_Query(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_angular_material_menu__WEBPACK_IMPORTED_MODULE_1__["MatMenuTrigger"], true);
        } if (rf & 2) {
            var _t;
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.taskListDropdownTrigger = _t.first);
        } }, inputs: { backgroundProcesses: "backgroundProcesses", summarize: "summarize" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 11, vars: 5, consts: [["mat-icon-button", "", 1, "sync-icon", 3, "hidden", "matMenuTriggerFor"], ["matBadgeColor", "accent", 3, "matBadge", "matBadgeHidden"], ["fontIcon", "fa-refresh", 1, "header-icon"], [1, "details-container"], ["taskListDropdown", "matMenu"], [1, "details-header", "details-container"], ["class", "details-line details-container", "fxLayout", "row", 4, "ngFor", "ngForOf"], ["mat-stroked-button", "", 1, "details-close", 3, "click"], ["fxLayout", "row", 1, "details-line", "details-container"], ["fxFlex", "28px"], ["class", "process-spinner", 3, "diameter", 4, "ngIf"], ["fontIcon", "fa-check", "class", "process-checkmark", 4, "ngIf"], ["fxFlex", "", 1, "process-title", 3, "matTooltip"], [4, "ngIf"], [1, "process-spinner", 3, "diameter"], ["fontIcon", "fa-check", 1, "process-checkmark"]], template: function BackgroundProcessingIndicatorComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "mat-icon", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "mat-menu", 3, 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6, " The following processes are still running in the background. Until these are finished some pages may be slow or incomplete. ");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, BackgroundProcessingIndicatorComponent_div_7_Template, 7, 5, "div", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "button", 7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BackgroundProcessingIndicatorComponent_Template_button_click_9_listener() { return ctx.taskListDropdownTrigger.closeMenu(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](10, "Close");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            var _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("hidden", !ctx.taskCounter)("matMenuTriggerFor", _r0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matBadge", ctx.taskCounter)("matBadgeHidden", ctx.taskCounter <= 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.backgroundProcesses);
        } }, directives: [_angular_material_button__WEBPACK_IMPORTED_MODULE_2__["MatButton"], _angular_material_menu__WEBPACK_IMPORTED_MODULE_1__["MatMenuTrigger"], _angular_material_badge__WEBPACK_IMPORTED_MODULE_3__["MatBadge"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_4__["MatIcon"], _angular_material_menu__WEBPACK_IMPORTED_MODULE_1__["_MatMenu"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgForOf"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_6__["DefaultLayoutDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_6__["DefaultFlexDirective"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"], _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_7__["MatTooltip"], _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_8__["MatSpinner"]], styles: [".details-header[_ngcontent-%COMP%] {\n  font-size: small;\n  text-align: justify;\n}\n\n.details-container[_ngcontent-%COMP%] {\n  padding: 0 16px;\n}\n\n.details-line[_ngcontent-%COMP%] {\n  line-height: 48px;\n}\n\n.process-spinner[_ngcontent-%COMP%] {\n  display: inline-block;\n  vertical-align: middle;\n}\n\n.process-checkmark[_ngcontent-%COMP%] {\n  font-size: 20px;\n  color: green;\n}\n\n.process-title[_ngcontent-%COMP%] {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n\n.details-close[_ngcontent-%COMP%] {\n  width: 100%;\n}\n\n.sync-icon[_ngcontent-%COMP%] {\n  color: white;\n}\n\n[hidden][_ngcontent-%COMP%] {\n  visibility: hidden !important;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY29yZS9zeW5jLXN0YXR1cy9iYWNrZ3JvdW5kLXByb2Nlc3NpbmctaW5kaWNhdG9yL2JhY2tncm91bmQtcHJvY2Vzc2luZy1pbmRpY2F0b3IuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvcmUvc3luYy1zdGF0dXMvYmFja2dyb3VuZC1wcm9jZXNzaW5nLWluZGljYXRvci9iYWNrZ3JvdW5kLXByb2Nlc3NpbmctaW5kaWNhdG9yLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0UsZ0JBQUE7RUFDQSxtQkFBQTtBQ0FGOztBREdBO0VBQ0UsZUFBQTtBQ0FGOztBREdBO0VBQ0UsaUJBQUE7QUNBRjs7QURHQTtFQUNFLHFCQUFBO0VBQ0Esc0JBQUE7QUNBRjs7QURFQTtFQUNFLGVBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7QUNDRjs7QURFQTtFQUNFLFdBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLDZCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9jb3JlL3N5bmMtc3RhdHVzL2JhY2tncm91bmQtcHJvY2Vzc2luZy1pbmRpY2F0b3IvYmFja2dyb3VuZC1wcm9jZXNzaW5nLWluZGljYXRvci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLmRldGFpbHMtaGVhZGVyIHtcbiAgZm9udC1zaXplOiBzbWFsbDtcbiAgdGV4dC1hbGlnbjoganVzdGlmeTtcbn1cblxuLmRldGFpbHMtY29udGFpbmVyIHtcbiAgcGFkZGluZzogMCAxNnB4O1xufVxuXG4uZGV0YWlscy1saW5lIHtcbiAgbGluZS1oZWlnaHQ6IDQ4cHg7XG59XG5cbi5wcm9jZXNzLXNwaW5uZXIge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG59XG4ucHJvY2Vzcy1jaGVja21hcmsge1xuICBmb250LXNpemU6IDIwcHg7XG4gIGNvbG9yOiBncmVlbjtcbn1cblxuLnByb2Nlc3MtdGl0bGUge1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLmRldGFpbHMtY2xvc2Uge1xuICB3aWR0aDogMTAwJTtcbn1cblxuLnN5bmMtaWNvbiB7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuW2hpZGRlbl0ge1xuICB2aXNpYmlsaXR5OiBoaWRkZW4gIWltcG9ydGFudDtcbn1cbiIsIi5kZXRhaWxzLWhlYWRlciB7XG4gIGZvbnQtc2l6ZTogc21hbGw7XG4gIHRleHQtYWxpZ246IGp1c3RpZnk7XG59XG5cbi5kZXRhaWxzLWNvbnRhaW5lciB7XG4gIHBhZGRpbmc6IDAgMTZweDtcbn1cblxuLmRldGFpbHMtbGluZSB7XG4gIGxpbmUtaGVpZ2h0OiA0OHB4O1xufVxuXG4ucHJvY2Vzcy1zcGlubmVyIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xufVxuXG4ucHJvY2Vzcy1jaGVja21hcmsge1xuICBmb250LXNpemU6IDIwcHg7XG4gIGNvbG9yOiBncmVlbjtcbn1cblxuLnByb2Nlc3MtdGl0bGUge1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLmRldGFpbHMtY2xvc2Uge1xuICB3aWR0aDogMTAwJTtcbn1cblxuLnN5bmMtaWNvbiB7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuW2hpZGRlbl0ge1xuICB2aXNpYmlsaXR5OiBoaWRkZW4gIWltcG9ydGFudDtcbn0iXX0= */"] });
    return BackgroundProcessingIndicatorComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BackgroundProcessingIndicatorComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-background-processing-indicator",
                templateUrl: "./background-processing-indicator.component.html",
                styleUrls: ["./background-processing-indicator.component.scss"],
            }]
    }], function () { return []; }, { backgroundProcesses: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], summarize: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], taskListDropdownTrigger: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: [_angular_material_menu__WEBPACK_IMPORTED_MODULE_1__["MatMenuTrigger"]]
        }] }); })();


/***/ }),

/***/ "./src/app/core/sync-status/sync-status.module.ts":
/*!********************************************************!*\
  !*** ./src/app/core/sync-status/sync-status.module.ts ***!
  \********************************************************/
/*! exports provided: SyncStatusModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SyncStatusModule", function() { return SyncStatusModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _sync_status_sync_status_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sync-status/sync-status.component */ "./src/app/core/sync-status/sync-status/sync-status.component.ts");
/* harmony import */ var _session_session_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../session/session.module */ "./src/app/core/session/session.module.ts");
/* harmony import */ var _alerts_alerts_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../alerts/alerts.module */ "./src/app/core/alerts/alerts.module.ts");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/fesm5/dialog.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/progress-bar */ "./node_modules/@angular/material/fesm5/progress-bar.js");
/* harmony import */ var _sync_status_initial_sync_dialog_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./sync-status/initial-sync-dialog.component */ "./src/app/core/sync-status/sync-status/initial-sync-dialog.component.ts");
/* harmony import */ var _angular_material_badge__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/badge */ "./node_modules/@angular/material/fesm5/badge.js");
/* harmony import */ var _angular_material_menu__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/menu */ "./node_modules/@angular/material/fesm5/menu.js");
/* harmony import */ var _background_processing_indicator_background_processing_indicator_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./background-processing-indicator/background-processing-indicator.component */ "./src/app/core/sync-status/background-processing-indicator/background-processing-indicator.component.ts");
/* harmony import */ var _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/progress-spinner */ "./node_modules/@angular/material/fesm5/progress-spinner.js");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/tooltip */ "./node_modules/@angular/material/fesm5/tooltip.js");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */

















var SyncStatusModule = /** @class */ (function () {
    function SyncStatusModule() {
    }
    SyncStatusModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: SyncStatusModule });
    SyncStatusModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function SyncStatusModule_Factory(t) { return new (t || SyncStatusModule)(); }, providers: [], imports: [[
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _session_session_module__WEBPACK_IMPORTED_MODULE_3__["SessionModule"],
                _alerts_alerts_module__WEBPACK_IMPORTED_MODULE_4__["AlertsModule"],
                _angular_material_icon__WEBPACK_IMPORTED_MODULE_7__["MatIconModule"],
                _angular_material_button__WEBPACK_IMPORTED_MODULE_5__["MatButtonModule"],
                _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialogModule"],
                _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_8__["MatProgressBarModule"],
                _angular_material_badge__WEBPACK_IMPORTED_MODULE_10__["MatBadgeModule"],
                _angular_material_menu__WEBPACK_IMPORTED_MODULE_11__["MatMenuModule"],
                _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_13__["MatProgressSpinnerModule"],
                _angular_flex_layout__WEBPACK_IMPORTED_MODULE_14__["FlexModule"],
                _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_15__["MatTooltipModule"],
            ]] });
    return SyncStatusModule;
}());

(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](SyncStatusModule, { declarations: [_sync_status_initial_sync_dialog_component__WEBPACK_IMPORTED_MODULE_9__["InitialSyncDialogComponent"],
        _sync_status_sync_status_component__WEBPACK_IMPORTED_MODULE_2__["SyncStatusComponent"],
        _background_processing_indicator_background_processing_indicator_component__WEBPACK_IMPORTED_MODULE_12__["BackgroundProcessingIndicatorComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _session_session_module__WEBPACK_IMPORTED_MODULE_3__["SessionModule"],
        _alerts_alerts_module__WEBPACK_IMPORTED_MODULE_4__["AlertsModule"],
        _angular_material_icon__WEBPACK_IMPORTED_MODULE_7__["MatIconModule"],
        _angular_material_button__WEBPACK_IMPORTED_MODULE_5__["MatButtonModule"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialogModule"],
        _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_8__["MatProgressBarModule"],
        _angular_material_badge__WEBPACK_IMPORTED_MODULE_10__["MatBadgeModule"],
        _angular_material_menu__WEBPACK_IMPORTED_MODULE_11__["MatMenuModule"],
        _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_13__["MatProgressSpinnerModule"],
        _angular_flex_layout__WEBPACK_IMPORTED_MODULE_14__["FlexModule"],
        _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_15__["MatTooltipModule"]], exports: [_sync_status_sync_status_component__WEBPACK_IMPORTED_MODULE_2__["SyncStatusComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SyncStatusModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _session_session_module__WEBPACK_IMPORTED_MODULE_3__["SessionModule"],
                    _alerts_alerts_module__WEBPACK_IMPORTED_MODULE_4__["AlertsModule"],
                    _angular_material_icon__WEBPACK_IMPORTED_MODULE_7__["MatIconModule"],
                    _angular_material_button__WEBPACK_IMPORTED_MODULE_5__["MatButtonModule"],
                    _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialogModule"],
                    _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_8__["MatProgressBarModule"],
                    _angular_material_badge__WEBPACK_IMPORTED_MODULE_10__["MatBadgeModule"],
                    _angular_material_menu__WEBPACK_IMPORTED_MODULE_11__["MatMenuModule"],
                    _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_13__["MatProgressSpinnerModule"],
                    _angular_flex_layout__WEBPACK_IMPORTED_MODULE_14__["FlexModule"],
                    _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_15__["MatTooltipModule"],
                ],
                declarations: [
                    _sync_status_initial_sync_dialog_component__WEBPACK_IMPORTED_MODULE_9__["InitialSyncDialogComponent"],
                    _sync_status_sync_status_component__WEBPACK_IMPORTED_MODULE_2__["SyncStatusComponent"],
                    _background_processing_indicator_background_processing_indicator_component__WEBPACK_IMPORTED_MODULE_12__["BackgroundProcessingIndicatorComponent"],
                ],
                exports: [_sync_status_sync_status_component__WEBPACK_IMPORTED_MODULE_2__["SyncStatusComponent"]],
                providers: [],
            }]
    }], null, null); })();


/***/ }),

/***/ "./src/app/core/sync-status/sync-status/initial-sync-dialog.component.ts":
/*!*******************************************************************************!*\
  !*** ./src/app/core/sync-status/sync-status/initial-sync-dialog.component.ts ***!
  \*******************************************************************************/
/*! exports provided: InitialSyncDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InitialSyncDialogComponent", function() { return InitialSyncDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/fesm5/dialog.js");
/* harmony import */ var _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/progress-bar */ "./node_modules/@angular/material/fesm5/progress-bar.js");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */





/**
 * Content for the dialog being displayed during an initial synchronization which blocks login
 * (because user accounts need to be synced first).
 */
var InitialSyncDialogComponent = /** @class */ (function () {
    /**
     * This component is usually instanciated through the MatDialog service which provides the necessary paramters.
     * @param dialogRef Reference to the dialog in which the component is being displayed.
     */
    function InitialSyncDialogComponent(dialogRef) {
        this.dialogRef = dialogRef;
        this.dialogRef.disableClose = true;
    }
    InitialSyncDialogComponent.ɵfac = function InitialSyncDialogComponent_Factory(t) { return new (t || InitialSyncDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"])); };
    InitialSyncDialogComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: InitialSyncDialogComponent, selectors: [["ng-component"]], decls: 9, vars: 0, consts: [["mat-dialog-title", ""], ["mat-dialog-content", ""], ["mode", "indeterminate"]], template: function InitialSyncDialogComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "h1", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Downloading Initial Database ...");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "p");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, "Synchronizing with remote database.");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "p");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6, "Login may not be possible until this is completed.");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "p");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](8, "mat-progress-bar", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } }, directives: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogTitle"], _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogContent"], _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_2__["MatProgressBar"]], encapsulation: 2 });
    return InitialSyncDialogComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](InitialSyncDialogComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                templateUrl: "./initial-sync-dialog.component.html",
            }]
    }], function () { return [{ type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/sync-status/sync-status/sync-status.component.ts":
/*!***********************************************************************!*\
  !*** ./src/app/core/sync-status/sync-status/sync-status.component.ts ***!
  \***********************************************************************/
/*! exports provided: SyncStatusComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SyncStatusComponent", function() { return SyncStatusComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _session_session_service_session_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../session/session-service/session.service */ "./src/app/core/session/session-service/session.service.ts");
/* harmony import */ var _session_session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../session/session-states/sync-state.enum */ "./src/app/core/session/session-states/sync-state.enum.ts");
/* harmony import */ var _alerts_alert_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../alerts/alert.service */ "./src/app/core/alerts/alert.service.ts");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/fesm5/dialog.js");
/* harmony import */ var _initial_sync_dialog_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./initial-sync-dialog.component */ "./src/app/core/sync-status/sync-status/initial-sync-dialog.component.ts");
/* harmony import */ var _entity_database_indexing_database_indexing_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../entity/database-indexing/database-indexing.service */ "./src/app/core/entity/database-indexing/database-indexing.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _background_processing_indicator_background_processing_indicator_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../background-processing-indicator/background-processing-indicator.component */ "./src/app/core/sync-status/background-processing-indicator/background-processing-indicator.component.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
















/**
 * A small indicator component that displays an icon when there is currently synchronization
 * with the remote server going on in the background.
 *
 * This component also triggers a blocking dialog box when an initial sync is detected that prevents
 * user login (because user accounts need to be synced first).
 */
var SyncStatusComponent = /** @class */ (function () {
    function SyncStatusComponent(dialog, sessionService, dbIndexingService, alertService) {
        this.dialog = dialog;
        this.sessionService = sessionService;
        this.dbIndexingService = dbIndexingService;
        this.alertService = alertService;
        this._backgroundProcesses = new rxjs__WEBPACK_IMPORTED_MODULE_7__["BehaviorSubject"]([]);
        /** background processes to be displayed to users, with short delay to avoid flickering */
        this.backgroundProcesses = this._backgroundProcesses
            .asObservable()
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["debounceTime"])(1000));
    }
    SyncStatusComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.dbIndexingService.indicesRegistered.subscribe(function (indicesStatus) {
            return _this.handleIndexingState(indicesStatus);
        });
        this.sessionService
            .getSyncState()
            .getStateChangedStream()
            .subscribe(function (state) { return _this.handleSyncState(state); });
    };
    SyncStatusComponent.prototype.handleSyncState = function (state) {
        switch (state.toState) {
            case _session_session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_2__["SyncState"].STARTED:
                this.syncInProgress = true;
                if (!this.sessionService.isLoggedIn() && !this.dialogRef) {
                    this.dialogRef = this.dialog.open(_initial_sync_dialog_component__WEBPACK_IMPORTED_MODULE_5__["InitialSyncDialogComponent"]);
                }
                break;
            case _session_session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_2__["SyncState"].COMPLETED:
                this.syncInProgress = false;
                if (this.dialogRef) {
                    this.dialogRef.close();
                }
                this.alertService.addInfo("Database sync completed.");
                break;
            case _session_session_states_sync_state_enum__WEBPACK_IMPORTED_MODULE_2__["SyncState"].FAILED:
                this.syncInProgress = false;
                if (this.dialogRef) {
                    this.dialogRef.close();
                }
                this.alertService.addWarning("Database sync failed.");
                break;
        }
        this.updateBackgroundProcessesList();
    };
    SyncStatusComponent.prototype.handleIndexingState = function (indicesStatus) {
        this.indexingProcesses = indicesStatus;
        this.updateBackgroundProcessesList();
    };
    /**
     * Build and emit an updated array of current background processes
     * @private
     */
    SyncStatusComponent.prototype.updateBackgroundProcessesList = function () {
        var currentProcesses = [];
        if (this.syncInProgress) {
            currentProcesses.push({ title: "Synchronizing database", pending: true });
        }
        else {
            currentProcesses.push({ title: "Database up-to-date", pending: false });
        }
        currentProcesses = currentProcesses.concat(this.indexingProcesses);
        this._backgroundProcesses.next(currentProcesses);
    };
    SyncStatusComponent.ɵfac = function SyncStatusComponent_Factory(t) { return new (t || SyncStatusComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialog"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_1__["SessionService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_entity_database_indexing_database_indexing_service__WEBPACK_IMPORTED_MODULE_6__["DatabaseIndexingService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_alerts_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"])); };
    SyncStatusComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: SyncStatusComponent, selectors: [["app-sync-status"]], decls: 2, vars: 3, consts: [[3, "backgroundProcesses"]], template: function SyncStatusComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-background-processing-indicator", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "async");
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("backgroundProcesses", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, ctx.backgroundProcesses));
        } }, directives: [_background_processing_indicator_background_processing_indicator_component__WEBPACK_IMPORTED_MODULE_9__["BackgroundProcessingIndicatorComponent"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_10__["AsyncPipe"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY29yZS9zeW5jLXN0YXR1cy9zeW5jLXN0YXR1cy9zeW5jLXN0YXR1cy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7O0VBQUEiLCJmaWxlIjoic3JjL2FwcC9jb3JlL3N5bmMtc3RhdHVzL3N5bmMtc3RhdHVzL3N5bmMtc3RhdHVzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiBuZGItY29yZS5cbiAqXG4gKiAgICAgbmRiLWNvcmUgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiAgICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqICAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqICAgICBuZGItY29yZSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiAgICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiAgICAgYWxvbmcgd2l0aCBuZGItY29yZS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5cbiJdfQ== */"] });
    return SyncStatusComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SyncStatusComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-sync-status",
                templateUrl: "./sync-status.component.html",
                styleUrls: ["./sync-status.component.scss"],
            }]
    }], function () { return [{ type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialog"] }, { type: _session_session_service_session_service__WEBPACK_IMPORTED_MODULE_1__["SessionService"] }, { type: _entity_database_indexing_database_indexing_service__WEBPACK_IMPORTED_MODULE_6__["DatabaseIndexingService"] }, { type: _alerts_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/ui/primary-action/primary-action.component.ts":
/*!********************************************************************!*\
  !*** ./src/app/core/ui/primary-action/primary-action.component.ts ***!
  \********************************************************************/
/*! exports provided: PrimaryActionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PrimaryActionComponent", function() { return PrimaryActionComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _child_dev_project_notes_model_note__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../child-dev-project/notes/model/note */ "./src/app/child-dev-project/notes/model/note.ts");
/* harmony import */ var _session_session_service_session_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../session/session-service/session.service */ "./src/app/core/session/session-service/session.service.ts");
/* harmony import */ var _child_dev_project_notes_note_details_note_details_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../child-dev-project/notes/note-details/note-details.component */ "./src/app/child-dev-project/notes/note-details/note-details.component.ts");
/* harmony import */ var _form_dialog_form_dialog_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../form-dialog/form-dialog.service */ "./src/app/core/form-dialog/form-dialog.service.ts");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm2015/angulartics2.js");










/**
 * The "Primary Action" is always displayed hovering over the rest of the app as a quick action for the user.
 *
 * This is a UX concept also used in many Android apps.
 * see {@link https://material.io/components/buttons-floating-action-button/}
 */
var PrimaryActionComponent = /** @class */ (function () {
    function PrimaryActionComponent(sessionService, formDialog) {
        this.sessionService = sessionService;
        this.formDialog = formDialog;
    }
    /**
     * The primary action to be triggered when the user clicks the hovering button.
     */
    PrimaryActionComponent.prototype.primaryAction = function () {
        this.formDialog.openDialog(_child_dev_project_notes_note_details_note_details_component__WEBPACK_IMPORTED_MODULE_3__["NoteDetailsComponent"], this.createNewNote());
    };
    PrimaryActionComponent.prototype.createNewNote = function () {
        var newNote = new _child_dev_project_notes_model_note__WEBPACK_IMPORTED_MODULE_1__["Note"](Date.now().toString());
        newNote.date = new Date();
        newNote.author = this.sessionService.getCurrentUser().name;
        return newNote;
    };
    PrimaryActionComponent.ɵfac = function PrimaryActionComponent_Factory(t) { return new (t || PrimaryActionComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_2__["SessionService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_form_dialog_form_dialog_service__WEBPACK_IMPORTED_MODULE_4__["FormDialogService"])); };
    PrimaryActionComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: PrimaryActionComponent, selectors: [["app-primary-action"]], decls: 2, vars: 0, consts: [["mat-fab", "", "angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "dashboard_primary_action_click", 1, "primary-action", 3, "click"], [1, "fa", "fa-file-text-o"]], template: function PrimaryActionComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function PrimaryActionComponent_Template_button_click_0_listener() { return ctx.primaryAction(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "span", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } }, directives: [_angular_material_button__WEBPACK_IMPORTED_MODULE_5__["MatButton"], angulartics2__WEBPACK_IMPORTED_MODULE_6__["Angulartics2On"]], styles: [".primary-action[_ngcontent-%COMP%] {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  z-index: 999;\n  margin: 10px;\n  font-size: 20px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY29yZS91aS9wcmltYXJ5LWFjdGlvbi9wcmltYXJ5LWFjdGlvbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29yZS91aS9wcmltYXJ5LWFjdGlvbi9wcmltYXJ5LWFjdGlvbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLFFBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL2NvcmUvdWkvcHJpbWFyeS1hY3Rpb24vcHJpbWFyeS1hY3Rpb24uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucHJpbWFyeS1hY3Rpb24ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJvdHRvbTogMDtcbiAgcmlnaHQ6IDA7XG4gIHotaW5kZXg6IDk5OTtcbiAgbWFyZ2luOiAxMHB4O1xuICBmb250LXNpemU6IDIwcHg7XG59XG4iLCIucHJpbWFyeS1hY3Rpb24ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJvdHRvbTogMDtcbiAgcmlnaHQ6IDA7XG4gIHotaW5kZXg6IDk5OTtcbiAgbWFyZ2luOiAxMHB4O1xuICBmb250LXNpemU6IDIwcHg7XG59Il19 */"] });
    return PrimaryActionComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PrimaryActionComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-primary-action",
                templateUrl: "./primary-action.component.html",
                styleUrls: ["./primary-action.component.scss"],
            }]
    }], function () { return [{ type: _session_session_service_session_service__WEBPACK_IMPORTED_MODULE_2__["SessionService"] }, { type: _form_dialog_form_dialog_service__WEBPACK_IMPORTED_MODULE_4__["FormDialogService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/ui/search/search.component.ts":
/*!****************************************************!*\
  !*** ./src/app/core/ui/search/search.component.ts ***!
  \****************************************************/
/*! exports provided: SearchComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SearchComponent", function() { return SearchComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _child_dev_project_children_model_child__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../child-dev-project/children/model/child */ "./src/app/child-dev-project/children/model/child.ts");
/* harmony import */ var _child_dev_project_schools_model_school__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../child-dev-project/schools/model/school */ "./src/app/child-dev-project/schools/model/school.ts");
/* harmony import */ var _entity_schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../entity/schema/entity-schema.service */ "./src/app/core/entity/schema/entity-schema.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _logging_logging_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../logging/logging.service */ "./src/app/core/logging/logging.service.ts");
/* harmony import */ var _logging_log_level__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../logging/log-level */ "./src/app/core/logging/log-level.ts");
/* harmony import */ var _alerts_alert_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../alerts/alert.service */ "./src/app/core/alerts/alert.service.ts");
/* harmony import */ var _entity_database_indexing_database_indexing_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../entity/database-indexing/database-indexing.service */ "./src/app/core/entity/database-indexing/database-indexing.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/flex-layout/extended */ "./node_modules/@angular/flex-layout/esm5/extended.es5.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/flex-layout/flex */ "./node_modules/@angular/flex-layout/esm5/flex.es5.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/autocomplete */ "./node_modules/@angular/material/fesm5/autocomplete.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/material/core */ "./node_modules/@angular/material/fesm5/core.js");
/* harmony import */ var _child_dev_project_children_child_block_child_block_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../child-dev-project/children/child-block/child-block.component */ "./src/app/child-dev-project/children/child-block/child-block.component.ts");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm2015/angulartics2.js");
/* harmony import */ var _child_dev_project_schools_school_block_school_block_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../child-dev-project/schools/school-block/school-block.component */ "./src/app/child-dev-project/schools/school-block/school-block.component.ts");
/* harmony import */ var _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @angular/material/toolbar */ "./node_modules/@angular/material/fesm5/toolbar.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};































function SearchComponent_mat_option_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("Insert at least ", ctx_r2.MIN_CHARACTERS_FOR_SEARCH, " characters");
} }
function SearchComponent_mat_option_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "There were no results");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function SearchComponent_mat_option_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "Search in progress...");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function SearchComponent_mat_option_13_app_child_block_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-child-block", 16);
} if (rf & 2) {
    var res_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entity", res_r7)("angularticsLabel", "search-result-type-child");
} }
function SearchComponent_mat_option_13_app_school_block_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-school-block", 16);
} if (rf & 2) {
    var res_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entity", res_r7)("angularticsLabel", "search-result-type-school");
} }
function SearchComponent_mat_option_13_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, SearchComponent_mat_option_13_app_child_block_1_Template, 1, 2, "app-child-block", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, SearchComponent_mat_option_13_app_school_block_2_Template, 1, 2, "app-school-block", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var res_r7 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", res_r7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", res_r7.getType() === "Child");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", res_r7.getType() === "School");
} }
function SearchComponent_mat_toolbar_16_Template(rf, ctx) { if (rf & 1) {
    var _r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-toolbar", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-toolbar-row", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "mat-icon", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "input", 20, 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function SearchComponent_mat_toolbar_16_Template_input_ngModelChange_4_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r14); var ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r13.searchText = $event; })("ngModelChange", function SearchComponent_mat_toolbar_16_Template_input_ngModelChange_4_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r14); var ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r15.searchStringChanged.next($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "button", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SearchComponent_mat_toolbar_16_Template_button_click_7_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r14); var ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r16.toggleSearchToolbar(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](8, "mat-icon", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](5);
    var ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    var _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matAutocomplete", _r1)("ngModel", ctx_r6.searchText);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _r12.focus(), " ");
} }
/**
 * General search box that provides results out of any kind of entities from the system
 * as soon as the user starts typing.
 *
 * This is usually displayed in the app header to be available to the user anywhere, allowing to navigate quickly.
 */
var SearchComponent = /** @class */ (function () {
    function SearchComponent(dbIndexingService, entitySchemaService, router, loggingService, alertService) {
        this.dbIndexingService = dbIndexingService;
        this.entitySchemaService = entitySchemaService;
        this.router = router;
        this.loggingService = loggingService;
        this.alertService = alertService;
        this.results = [];
        this.searchText = "";
        this.showSearchToolbar = false;
        this.isSearching = false;
        this.MIN_CHARACTERS_FOR_SEARCH = 3;
        this.INPUT_DEBOUNCE_TIME_MS = 400;
        this.searchStringChanged = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        this.searchQuery = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
    }
    SearchComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.createSearchIndex();
        this.searchStringChanged
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["debounceTime"])(this.INPUT_DEBOUNCE_TIME_MS))
            .subscribe(function (searchString) {
            if (typeof searchString !== "string") {
                // abort if a result object was selected rather than a search term entered
                return;
            }
            _this.searchQuery.next(_this.startSearch(searchString));
        });
        this.searchQuery
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["switchMap"])(function (value) {
            return value;
        }))
            .subscribe(function (result) {
            _this.handleSearchQueryResult(result);
        }, function (error) {
            _this.loggingService.log({
                message: "[Search] An error has occurred in a search query.",
                error: error,
            }, _logging_log_level__WEBPACK_IMPORTED_MODULE_7__["LogLevel"].ERROR);
            _this.alertService.addWarning("An error has occurred in your search query. Please try again.");
        });
    };
    SearchComponent.prototype.startSearch = function (searchString) {
        return __awaiter(this, void 0, void 0, function () {
            var searchTerms, queryResults;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.isSearching = true;
                        this.results = [];
                        if (!searchString) {
                            return [2 /*return*/, Promise.resolve()];
                        }
                        searchString = searchString.toLowerCase();
                        if (!this.isRelevantSearchInput(searchString)) {
                            return [2 /*return*/, Promise.resolve()];
                        }
                        searchTerms = searchString.split(" ");
                        return [4 /*yield*/, this.dbIndexingService.queryIndex("search_index/by_name", {
                                startkey: searchTerms[0],
                                endkey: searchTerms[0] + "\ufff0",
                                include_docs: true,
                            })];
                    case 1:
                        queryResults = _a.sent();
                        return [2 /*return*/, {
                                queryResults: queryResults,
                                searchTerms: searchTerms,
                            }];
                }
            });
        });
    };
    SearchComponent.prototype.clickOption = function (optionElement) {
        return __awaiter(this, void 0, void 0, function () {
            var resultEntity;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        resultEntity = optionElement.value;
                        return [4 /*yield*/, this.router.navigate([
                                resultEntity.getType().toLowerCase(),
                                resultEntity.getId(),
                            ])];
                    case 1:
                        _a.sent();
                        this.searchText = "";
                        this.showSearchToolbar = false;
                        return [2 /*return*/];
                }
            });
        });
    };
    SearchComponent.prototype.toggleSearchToolbar = function () {
        this.showSearchToolbar = !this.showSearchToolbar;
    };
    SearchComponent.prototype.handleSearchQueryResult = function (result) {
        this.isSearching = false;
        if (!result || !result.queryResults) {
            this.results = [];
            return;
        }
        this.results = this.prepareResults(result.queryResults.rows, result.searchTerms);
    };
    SearchComponent.prototype.createSearchIndex = function () {
        // `emit(x)` to add x as a key to the index that can be searched
        var searchMapFunction = "(doc) => {" +
            'if (doc.hasOwnProperty("searchIndices")) { doc.searchIndices.forEach(word => emit(word.toString().toLowerCase())) }' +
            "}";
        var designDoc = {
            _id: "_design/search_index",
            views: {
                by_name: {
                    map: searchMapFunction,
                },
            },
        };
        return this.dbIndexingService.createIndex(designDoc);
    };
    /**
     * Check if the input should start an actual search.
     * Only search for words starting with a char or number -> no searching for space or no input
     * @param searchText
     */
    SearchComponent.prototype.isRelevantSearchInput = function (searchText) {
        var regexp = new RegExp("[a-z]+|[0-9]+");
        return (searchText.match(regexp) &&
            searchText.length >= this.MIN_CHARACTERS_FOR_SEARCH);
    };
    SearchComponent.prototype.prepareResults = function (rows, searchTerms) {
        var _this = this;
        return this.getResultsWithoutDuplicates(rows)
            .map(function (doc) { return _this.transformDocToEntity(doc); })
            .filter(function (r) { return r !== null; })
            .filter(function (r) { return _this.containsSecondarySearchTerms(r, searchTerms); })
            .sort(function (a, b) { return _this.sortResults(a, b); });
    };
    SearchComponent.prototype.getResultsWithoutDuplicates = function (rows) {
        var e_1, _a;
        var filteredResults = new Map();
        try {
            for (var rows_1 = __values(rows), rows_1_1 = rows_1.next(); !rows_1_1.done; rows_1_1 = rows_1.next()) {
                var row = rows_1_1.value;
                filteredResults.set(row.id, row.doc);
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (rows_1_1 && !rows_1_1.done && (_a = rows_1.return)) _a.call(rows_1);
            }
            finally { if (e_1) throw e_1.error; }
        }
        return Array.from(filteredResults.values());
    };
    SearchComponent.prototype.transformDocToEntity = function (doc) {
        var resultEntity;
        if (doc._id.startsWith(_child_dev_project_children_model_child__WEBPACK_IMPORTED_MODULE_1__["Child"].ENTITY_TYPE + ":")) {
            resultEntity = new _child_dev_project_children_model_child__WEBPACK_IMPORTED_MODULE_1__["Child"](doc.entityId);
        }
        else if (doc._id.startsWith(_child_dev_project_schools_model_school__WEBPACK_IMPORTED_MODULE_2__["School"].ENTITY_TYPE + ":")) {
            resultEntity = new _child_dev_project_schools_model_school__WEBPACK_IMPORTED_MODULE_2__["School"](doc.entityId);
        }
        if (resultEntity) {
            this.entitySchemaService.loadDataIntoEntity(resultEntity, doc);
            return resultEntity;
        }
        else {
            return null;
        }
    };
    SearchComponent.prototype.containsSecondarySearchTerms = function (item, searchTerms) {
        var itemKey = item.generateSearchIndices().join(" ").toLowerCase();
        for (var i = 1; i < searchTerms.length; i++) {
            if (!itemKey.includes(searchTerms[i])) {
                return false;
            }
        }
        return true;
    };
    SearchComponent.prototype.sortResults = function (a, b) {
        var entityComparison = this.compareEntityTypes(a, b);
        if (entityComparison === 0) {
            return a.toString().localeCompare(b.toString());
        }
        else {
            return entityComparison;
        }
    };
    SearchComponent.prototype.compareEntityTypes = function (a, b) {
        var e = [a, b];
        var t = [a.getType(), b.getType()];
        // special sorting for Child entities
        for (var i = 0; i < 2; i++) {
            if (e[i].getType() === _child_dev_project_children_model_child__WEBPACK_IMPORTED_MODULE_1__["Child"].ENTITY_TYPE) {
                if (e[i].isActive()) {
                    // show first
                    t[i] = "!" + t[i];
                }
                else {
                    // show last
                    t[i] = "\ufff0" + t[i];
                }
            }
        }
        return t[0].localeCompare(t[1]);
    };
    SearchComponent.ɵfac = function SearchComponent_Factory(t) { return new (t || SearchComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_entity_database_indexing_database_indexing_service__WEBPACK_IMPORTED_MODULE_9__["DatabaseIndexingService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_entity_schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_3__["EntitySchemaService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_10__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_logging_logging_service__WEBPACK_IMPORTED_MODULE_6__["LoggingService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_alerts_alert_service__WEBPACK_IMPORTED_MODULE_8__["AlertService"])); };
    SearchComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: SearchComponent, selectors: [["app-search"]], decls: 17, vars: 7, consts: [["fxHide.xs", "true", "fxHide", "false", 1, "desktop-search-bar"], ["fxFill", "", "floatLabel", "never", 1, "search-field"], ["matPrefix", ""], ["matPrefix", "", "fontIcon", "fa-search", 1, "search-icon"], ["matInput", "", "title", "Search", 3, "matAutocomplete", "ngModel", "ngModelChange"], ["searchInput", ""], [3, "optionSelected"], ["autoResults", "matAutocomplete"], ["class", "result-hint", 4, "ngIf"], [3, "value", 4, "ngFor", "ngForOf"], ["mat-icon-button", "", "fxHide.xs", "false", "fxHide", "true", 3, "click"], ["fontIcon", "fa-search", 1, "header-icon"], ["class", "search-header mat-elevation-z7 mat-typography", 4, "ngIf"], [1, "result-hint"], [3, "value"], ["angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "search_result_list_link", 3, "entity", "angularticsLabel", 4, "ngIf"], ["angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "search_result_list_link", 3, "entity", "angularticsLabel"], [1, "search-header", "mat-elevation-z7", "mat-typography"], ["fxLayout", "row"], ["fontIcon", "fa-search", 1, "search-icon"], ["fxFlex", "grow", "matInput", "", "title", "Search", 3, "matAutocomplete", "ngModel", "ngModelChange"], ["mat-icon-button", "", 3, "click"], ["fontIcon", "fa-times", 1, "search-icon"]], template: function SearchComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-form-field", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "mat-icon", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "mat-label");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "Search");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "input", 4, 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function SearchComponent_Template_input_ngModelChange_6_listener($event) { return ctx.searchText = $event; })("ngModelChange", function SearchComponent_Template_input_ngModelChange_6_listener($event) { return ctx.searchStringChanged.next($event); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "mat-autocomplete", 6, 7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("optionSelected", function SearchComponent_Template_mat_autocomplete_optionSelected_8_listener($event) { return ctx.clickOption($event.option); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, SearchComponent_mat_option_10_Template, 3, 1, "mat-option", 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, SearchComponent_mat_option_11_Template, 3, 0, "mat-option", 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](12, SearchComponent_mat_option_12_Template, 3, 0, "mat-option", 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](13, SearchComponent_mat_option_13_Template, 3, 3, "mat-option", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "button", 10);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SearchComponent_Template_button_click_14_listener() { return ctx.toggleSearchToolbar(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](15, "mat-icon", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](16, SearchComponent_mat_toolbar_16_Template, 9, 3, "mat-toolbar", 12);
        } if (rf & 2) {
            var _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](7);
            var _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matAutocomplete", _r1)("ngModel", ctx.searchText);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", _r0.value.length > 0 && _r0.value.length < ctx.MIN_CHARACTERS_FOR_SEARCH);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.results.length === 0 && _r0.value.length >= ctx.MIN_CHARACTERS_FOR_SEARCH && !ctx.isSearching);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isSearching);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.results);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showSearchToolbar);
        } }, directives: [_angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_11__["DefaultShowHideDirective"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_12__["MatFormField"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_13__["FlexFillDirective"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_12__["MatPrefix"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__["MatIcon"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_12__["MatLabel"], _angular_material_input__WEBPACK_IMPORTED_MODULE_15__["MatInput"], _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_16__["MatAutocompleteTrigger"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["NgModel"], _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_16__["MatAutocomplete"], _angular_common__WEBPACK_IMPORTED_MODULE_18__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_18__["NgForOf"], _angular_material_button__WEBPACK_IMPORTED_MODULE_19__["MatButton"], _angular_material_core__WEBPACK_IMPORTED_MODULE_20__["MatOption"], _child_dev_project_children_child_block_child_block_component__WEBPACK_IMPORTED_MODULE_21__["ChildBlockComponent"], angulartics2__WEBPACK_IMPORTED_MODULE_22__["Angulartics2On"], _child_dev_project_schools_school_block_school_block_component__WEBPACK_IMPORTED_MODULE_23__["SchoolBlockComponent"], _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_24__["MatToolbar"], _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_24__["MatToolbarRow"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_13__["DefaultLayoutDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_13__["DefaultFlexDirective"]], styles: [".search-icon[_ngcontent-%COMP%] {\n  font-size: 15pt;\n}\n\n.search-field[_ngcontent-%COMP%] {\n  color: white;\n}\n\n.search-field[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n  margin-right: 6px;\n}\n\n.desktop-search-bar[_ngcontent-%COMP%] {\n  font-size: 16px;\n}\n\n.search-header[_ngcontent-%COMP%] {\n  position: fixed;\n  background: white;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 3;\n}\n\n.header-icon[_ngcontent-%COMP%] {\n  color: white;\n  font-size: 15pt;\n}\n\n.result-hint[_ngcontent-%COMP%] {\n  background-color: lightgrey;\n  font-style: italic;\n  font-size: 14px;\n  height: 36px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY29yZS91aS9zZWFyY2gvc2VhcmNoLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jb3JlL3VpL3NlYXJjaC9zZWFyY2guY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0FDQ0Y7O0FEQ0U7RUFDRSxpQkFBQTtBQ0NKOztBREdBO0VBQ0UsZUFBQTtBQ0FGOztBREdBO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0EsVUFBQTtBQ0FGOztBREdBO0VBQ0UsWUFBQTtFQUNBLGVBQUE7QUNBRjs7QURHQTtFQUNFLDJCQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsWUFBQTtBQ0FGIiwiZmlsZSI6InNyYy9hcHAvY29yZS91aS9zZWFyY2gvc2VhcmNoLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNlYXJjaC1pY29uIHtcbiAgZm9udC1zaXplOiAxNXB0O1xufVxuXG4uc2VhcmNoLWZpZWxkIHtcbiAgY29sb3I6IHdoaXRlO1xuXG4gIHNwYW4ge1xuICAgIG1hcmdpbi1yaWdodDogNnB4O1xuICB9XG59XG5cbi5kZXNrdG9wLXNlYXJjaC1iYXIge1xuICBmb250LXNpemU6IDE2cHg7XG59XG5cbi5zZWFyY2gtaGVhZGVyIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbiAgei1pbmRleDogMztcbn1cblxuLmhlYWRlci1pY29uIHtcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LXNpemU6IDE1cHQ7XG59XG5cbi5yZXN1bHQtaGludCB7XG4gIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JleTtcbiAgZm9udC1zdHlsZTogaXRhbGljO1xuICBmb250LXNpemU6IDE0cHg7XG4gIGhlaWdodDogMzZweDtcbn1cbiIsIi5zZWFyY2gtaWNvbiB7XG4gIGZvbnQtc2l6ZTogMTVwdDtcbn1cblxuLnNlYXJjaC1maWVsZCB7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cbi5zZWFyY2gtZmllbGQgc3BhbiB7XG4gIG1hcmdpbi1yaWdodDogNnB4O1xufVxuXG4uZGVza3RvcC1zZWFyY2gtYmFyIHtcbiAgZm9udC1zaXplOiAxNnB4O1xufVxuXG4uc2VhcmNoLWhlYWRlciB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgYmFja2dyb3VuZDogd2hpdGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIHotaW5kZXg6IDM7XG59XG5cbi5oZWFkZXItaWNvbiB7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgZm9udC1zaXplOiAxNXB0O1xufVxuXG4ucmVzdWx0LWhpbnQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGdyZXk7XG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgZm9udC1zaXplOiAxNHB4O1xuICBoZWlnaHQ6IDM2cHg7XG59Il19 */"] });
    return SearchComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SearchComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-search",
                templateUrl: "./search.component.html",
                styleUrls: ["./search.component.scss"],
            }]
    }], function () { return [{ type: _entity_database_indexing_database_indexing_service__WEBPACK_IMPORTED_MODULE_9__["DatabaseIndexingService"] }, { type: _entity_schema_entity_schema_service__WEBPACK_IMPORTED_MODULE_3__["EntitySchemaService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_10__["Router"] }, { type: _logging_logging_service__WEBPACK_IMPORTED_MODULE_6__["LoggingService"] }, { type: _alerts_alert_service__WEBPACK_IMPORTED_MODULE_8__["AlertService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/ui/ui.module.ts":
/*!**************************************!*\
  !*** ./src/app/core/ui/ui.module.ts ***!
  \**************************************/
/*! exports provided: UiModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UiModule", function() { return UiModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _ui_ui_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ui/ui.component */ "./src/app/core/ui/ui/ui.component.ts");
/* harmony import */ var _navigation_navigation_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../navigation/navigation.module */ "./src/app/core/navigation/navigation.module.ts");
/* harmony import */ var _session_session_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../session/session.module */ "./src/app/core/session/session.module.ts");
/* harmony import */ var _sync_status_sync_status_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../sync-status/sync-status.module */ "./src/app/core/sync-status/sync-status.module.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _latest_changes_latest_changes_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../latest-changes/latest-changes.module */ "./src/app/core/latest-changes/latest-changes.module.ts");
/* harmony import */ var _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/autocomplete */ "./node_modules/@angular/material/fesm5/autocomplete.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/sidenav */ "./node_modules/@angular/material/fesm5/sidenav.js");
/* harmony import */ var _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/toolbar */ "./node_modules/@angular/material/fesm5/toolbar.js");
/* harmony import */ var _search_search_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./search/search.component */ "./src/app/core/ui/search/search.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _child_dev_project_children_children_module__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../child-dev-project/children/children.module */ "./src/app/child-dev-project/children/children.module.ts");
/* harmony import */ var _child_dev_project_schools_schools_module__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../child-dev-project/schools/schools.module */ "./src/app/child-dev-project/schools/schools.module.ts");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var _primary_action_primary_action_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./primary-action/primary-action.component */ "./src/app/core/ui/primary-action/primary-action.component.ts");
/* harmony import */ var _child_dev_project_notes_notes_module__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../child-dev-project/notes/notes.module */ "./src/app/child-dev-project/notes/notes.module.ts");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm2015/angulartics2.js");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
























/**
 * The core user interface structure that ties different components together into the overall app layout.
 */
var UiModule = /** @class */ (function () {
    function UiModule() {
    }
    UiModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: UiModule });
    UiModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function UiModule_Factory(t) { return new (t || UiModule)(); }, imports: [[
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_16__["FormsModule"],
                _latest_changes_latest_changes_module__WEBPACK_IMPORTED_MODULE_7__["LatestChangesModule"],
                _navigation_navigation_module__WEBPACK_IMPORTED_MODULE_3__["NavigationModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_6__["RouterModule"],
                _session_session_module__WEBPACK_IMPORTED_MODULE_4__["SessionModule"],
                _sync_status_sync_status_module__WEBPACK_IMPORTED_MODULE_5__["SyncStatusModule"],
                _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_13__["MatSidenavModule"],
                _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_14__["MatToolbarModule"],
                _angular_material_icon__WEBPACK_IMPORTED_MODULE_11__["MatIconModule"],
                _angular_material_button__WEBPACK_IMPORTED_MODULE_9__["MatButtonModule"],
                _angular_material_form_field__WEBPACK_IMPORTED_MODULE_10__["MatFormFieldModule"],
                _angular_material_input__WEBPACK_IMPORTED_MODULE_12__["MatInputModule"],
                _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_8__["MatAutocompleteModule"],
                _angular_flex_layout__WEBPACK_IMPORTED_MODULE_19__["FlexLayoutModule"],
                _child_dev_project_children_children_module__WEBPACK_IMPORTED_MODULE_17__["ChildrenModule"],
                _child_dev_project_schools_schools_module__WEBPACK_IMPORTED_MODULE_18__["SchoolsModule"],
                _child_dev_project_notes_notes_module__WEBPACK_IMPORTED_MODULE_21__["NotesModule"],
                angulartics2__WEBPACK_IMPORTED_MODULE_22__["Angulartics2Module"],
            ]] });
    return UiModule;
}());

(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](UiModule, { declarations: [_search_search_component__WEBPACK_IMPORTED_MODULE_15__["SearchComponent"], _ui_ui_component__WEBPACK_IMPORTED_MODULE_2__["UiComponent"], _primary_action_primary_action_component__WEBPACK_IMPORTED_MODULE_20__["PrimaryActionComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_16__["FormsModule"],
        _latest_changes_latest_changes_module__WEBPACK_IMPORTED_MODULE_7__["LatestChangesModule"],
        _navigation_navigation_module__WEBPACK_IMPORTED_MODULE_3__["NavigationModule"],
        _angular_router__WEBPACK_IMPORTED_MODULE_6__["RouterModule"],
        _session_session_module__WEBPACK_IMPORTED_MODULE_4__["SessionModule"],
        _sync_status_sync_status_module__WEBPACK_IMPORTED_MODULE_5__["SyncStatusModule"],
        _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_13__["MatSidenavModule"],
        _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_14__["MatToolbarModule"],
        _angular_material_icon__WEBPACK_IMPORTED_MODULE_11__["MatIconModule"],
        _angular_material_button__WEBPACK_IMPORTED_MODULE_9__["MatButtonModule"],
        _angular_material_form_field__WEBPACK_IMPORTED_MODULE_10__["MatFormFieldModule"],
        _angular_material_input__WEBPACK_IMPORTED_MODULE_12__["MatInputModule"],
        _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_8__["MatAutocompleteModule"],
        _angular_flex_layout__WEBPACK_IMPORTED_MODULE_19__["FlexLayoutModule"],
        _child_dev_project_children_children_module__WEBPACK_IMPORTED_MODULE_17__["ChildrenModule"],
        _child_dev_project_schools_schools_module__WEBPACK_IMPORTED_MODULE_18__["SchoolsModule"],
        _child_dev_project_notes_notes_module__WEBPACK_IMPORTED_MODULE_21__["NotesModule"],
        angulartics2__WEBPACK_IMPORTED_MODULE_22__["Angulartics2Module"]], exports: [_ui_ui_component__WEBPACK_IMPORTED_MODULE_2__["UiComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](UiModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_16__["FormsModule"],
                    _latest_changes_latest_changes_module__WEBPACK_IMPORTED_MODULE_7__["LatestChangesModule"],
                    _navigation_navigation_module__WEBPACK_IMPORTED_MODULE_3__["NavigationModule"],
                    _angular_router__WEBPACK_IMPORTED_MODULE_6__["RouterModule"],
                    _session_session_module__WEBPACK_IMPORTED_MODULE_4__["SessionModule"],
                    _sync_status_sync_status_module__WEBPACK_IMPORTED_MODULE_5__["SyncStatusModule"],
                    _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_13__["MatSidenavModule"],
                    _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_14__["MatToolbarModule"],
                    _angular_material_icon__WEBPACK_IMPORTED_MODULE_11__["MatIconModule"],
                    _angular_material_button__WEBPACK_IMPORTED_MODULE_9__["MatButtonModule"],
                    _angular_material_form_field__WEBPACK_IMPORTED_MODULE_10__["MatFormFieldModule"],
                    _angular_material_input__WEBPACK_IMPORTED_MODULE_12__["MatInputModule"],
                    _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_8__["MatAutocompleteModule"],
                    _angular_flex_layout__WEBPACK_IMPORTED_MODULE_19__["FlexLayoutModule"],
                    _child_dev_project_children_children_module__WEBPACK_IMPORTED_MODULE_17__["ChildrenModule"],
                    _child_dev_project_schools_schools_module__WEBPACK_IMPORTED_MODULE_18__["SchoolsModule"],
                    _child_dev_project_notes_notes_module__WEBPACK_IMPORTED_MODULE_21__["NotesModule"],
                    angulartics2__WEBPACK_IMPORTED_MODULE_22__["Angulartics2Module"],
                ],
                declarations: [_search_search_component__WEBPACK_IMPORTED_MODULE_15__["SearchComponent"], _ui_ui_component__WEBPACK_IMPORTED_MODULE_2__["UiComponent"], _primary_action_primary_action_component__WEBPACK_IMPORTED_MODULE_20__["PrimaryActionComponent"]],
                exports: [_ui_ui_component__WEBPACK_IMPORTED_MODULE_2__["UiComponent"]],
            }]
    }], null, null); })();


/***/ }),

/***/ "./src/app/core/ui/ui/ui.component.ts":
/*!********************************************!*\
  !*** ./src/app/core/ui/ui/ui.component.ts ***!
  \********************************************/
/*! exports provided: UiComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UiComponent", function() { return UiComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _session_session_service_session_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../session/session-service/session.service */ "./src/app/core/session/session-service/session.service.ts");
/* harmony import */ var _app_config_app_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../app-config/app-config */ "./src/app/core/app-config/app-config.ts");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var _ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngneat/until-destroy */ "./node_modules/@ngneat/until-destroy/fesm5/ngneat-until-destroy.js");
/* harmony import */ var _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/toolbar */ "./node_modules/@angular/material/fesm5/toolbar.js");
/* harmony import */ var _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/flex-layout/flex */ "./node_modules/@angular/flex-layout/esm5/flex.es5.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm2015/angulartics2.js");
/* harmony import */ var _sync_status_sync_status_sync_status_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../sync-status/sync-status/sync-status.component */ "./src/app/core/sync-status/sync-status/sync-status.component.ts");
/* harmony import */ var _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/sidenav */ "./node_modules/@angular/material/fesm5/sidenav.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/flex-layout/extended */ "./node_modules/@angular/flex-layout/esm5/extended.es5.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/fesm5/icon.js");
/* harmony import */ var _search_search_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../search/search.component */ "./src/app/core/ui/search/search.component.ts");
/* harmony import */ var _primary_action_primary_action_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../primary-action/primary-action.component */ "./src/app/core/ui/primary-action/primary-action.component.ts");
/* harmony import */ var _navigation_navigation_navigation_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../navigation/navigation/navigation.component */ "./src/app/core/navigation/navigation/navigation.component.ts");
/* harmony import */ var _latest_changes_app_version_app_version_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../latest-changes/app-version/app-version.component */ "./src/app/core/latest-changes/app-version/app-version.component.ts");
/* harmony import */ var _session_login_login_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../session/login/login.component */ "./src/app/core/session/login/login.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */

























var _c0 = ["sideNav"];
function UiComponent_span_2_Template(rf, ctx) { if (rf & 1) {
    var _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "button", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function UiComponent_span_2_Template_button_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r9); var ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r8.sideNav.toggle(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "mat-icon", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function UiComponent_app_search_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-search", 15);
} if (rf & 2) {
    var ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("fxFlex", ctx_r1.sideNavMode == "side" ? "grow" : "none");
} }
var _c1 = function () { return ["/user"]; };
function UiComponent_button_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-icon", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](1, _c1));
} }
var _c2 = function () { return [""]; };
function UiComponent_button_13_Template(rf, ctx) { if (rf & 1) {
    var _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function UiComponent_button_13_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r11); var ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r10.logout(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-icon", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](1, _c2));
} }
function UiComponent_app_primary_action_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-primary-action");
} }
function UiComponent_mat_sidenav_16_Template(rf, ctx) { if (rf & 1) {
    var _r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-sidenav", 20, 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "app-navigation", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function UiComponent_mat_sidenav_16_Template_app_navigation_click_2_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r14); var _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](1); var ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r13.sideNavMode == "over" && _r12.close(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "app-version", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("autoFocus", false)("mode", ctx_r5.sideNavMode)("opened", ctx_r5.sideNavMode == "side");
} }
function UiComponent_router_outlet_19_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "router-outlet");
} }
function UiComponent_app_login_20_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-login");
} }
/**
 * The main user interface component as root element for the app structure
 * which also ties different components together into the overall app layout.
 */
var UiComponent = /** @class */ (function () {
    function UiComponent(_sessionService, titleService, mediaObserver) {
        var _this = this;
        this._sessionService = _sessionService;
        this.titleService = titleService;
        // watch screen width to change sidenav mode
        mediaObserver.media$
            .pipe(Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_5__["untilDestroyed"])(this))
            .subscribe(function (change) {
            _this.sideNavMode = change.mqAlias === ("xs" || false) ? "over" : "side";
        });
    }
    UiComponent.prototype.ngOnInit = function () {
        this.title = _app_config_app_config__WEBPACK_IMPORTED_MODULE_2__["AppConfig"].settings.site_name;
        this.titleService.setTitle(this.title);
    };
    /**
     * Check if user is logged in.
     */
    UiComponent.prototype.isLoggedIn = function () {
        return this._sessionService.isLoggedIn();
    };
    /**
     * Trigger logout of user.
     */
    UiComponent.prototype.logout = function () {
        this._sessionService.logout();
    };
    UiComponent.ɵfac = function UiComponent_Factory(t) { return new (t || UiComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_1__["SessionService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__["Title"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_flex_layout__WEBPACK_IMPORTED_MODULE_4__["MediaObserver"])); };
    UiComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: UiComponent, selectors: [["app-ui"]], viewQuery: function UiComponent_Query(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
        } if (rf & 2) {
            var _t;
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.sideNav = _t.first);
        } }, decls: 21, vars: 11, consts: [["color", "primary", 1, "app-header", "mat-elevation-z6", "mat-typography"], ["fxLayout", "row"], ["fxFlex", "", 4, "ngIf"], ["fxFlex", ""], ["angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "navbar_site_title_link", 1, "header-title", 3, "routerLink"], ["fxFlex", "grow"], [3, "fxFlex", 4, "ngIf"], ["mat-icon-button", "", "angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "navbar_profile_link", 3, "routerLink", 4, "ngIf"], ["mat-icon-button", "", 3, "routerLink", "click", 4, "ngIf"], [4, "ngIf"], [1, "app-content", "mat-typography"], ["disableClose", "", "fixedInViewport", "true", "class", "sidenav-menu mat-elevation-z6", 3, "autoFocus", "mode", "opened", 4, "ngIf"], [1, "sidenav-content"], ["mat-icon-button", "", "fxHide.lt-md", "false", "fxHide", "true", 3, "click"], ["fontIcon", "fa-bars", 1, "header-icon"], [3, "fxFlex"], ["mat-icon-button", "", "angulartics2On", "click", "angularticsCategory", "Navigation", "angularticsAction", "navbar_profile_link", 3, "routerLink"], ["fontIcon", "fa-user-circle-o", 1, "header-icon"], ["mat-icon-button", "", 3, "routerLink", "click"], ["fontIcon", "fa-sign-out", 1, "header-icon"], ["disableClose", "", "fixedInViewport", "true", 1, "sidenav-menu", "mat-elevation-z6", 3, "autoFocus", "mode", "opened"], ["sideNav", ""], [3, "click"], [2, "position", "absolute", "bottom", "0"]], template: function UiComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-toolbar", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-toolbar-row", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, UiComponent_span_2_Template, 3, 0, "span", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "span", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "a", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "span", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7, "\u00A0");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "span", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9, "\u00A0");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, UiComponent_app_search_10_Template, 1, 1, "app-search", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](11, "app-sync-status");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](12, UiComponent_button_12_Template, 2, 2, "button", 7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](13, UiComponent_button_13_Template, 2, 2, "button", 8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](14, UiComponent_app_primary_action_14_Template, 1, 0, "app-primary-action", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "mat-sidenav-container", 10);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](16, UiComponent_mat_sidenav_16_Template, 4, 3, "mat-sidenav", 11);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "mat-sidenav-content");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](18, "div", 12);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](19, UiComponent_router_outlet_19_Template, 1, 0, "router-outlet", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](20, UiComponent_app_login_20_Template, 1, 0, "app-login", 9);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isLoggedIn());
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](10, _c2));
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.title);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isLoggedIn());
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isLoggedIn());
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isLoggedIn());
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isLoggedIn());
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isLoggedIn());
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isLoggedIn());
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.isLoggedIn());
        } }, directives: [_angular_material_toolbar__WEBPACK_IMPORTED_MODULE_6__["MatToolbar"], _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_6__["MatToolbarRow"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_7__["DefaultLayoutDirective"], _angular_common__WEBPACK_IMPORTED_MODULE_8__["NgIf"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_7__["DefaultFlexDirective"], _angular_router__WEBPACK_IMPORTED_MODULE_9__["RouterLinkWithHref"], angulartics2__WEBPACK_IMPORTED_MODULE_10__["Angulartics2On"], _sync_status_sync_status_sync_status_component__WEBPACK_IMPORTED_MODULE_11__["SyncStatusComponent"], _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_12__["MatSidenavContainer"], _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_12__["MatSidenavContent"], _angular_material_button__WEBPACK_IMPORTED_MODULE_13__["MatButton"], _angular_flex_layout_extended__WEBPACK_IMPORTED_MODULE_14__["DefaultShowHideDirective"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_15__["MatIcon"], _search_search_component__WEBPACK_IMPORTED_MODULE_16__["SearchComponent"], _angular_router__WEBPACK_IMPORTED_MODULE_9__["RouterLink"], _primary_action_primary_action_component__WEBPACK_IMPORTED_MODULE_17__["PrimaryActionComponent"], _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_12__["MatSidenav"], _navigation_navigation_navigation_component__WEBPACK_IMPORTED_MODULE_18__["NavigationComponent"], _latest_changes_app_version_app_version_component__WEBPACK_IMPORTED_MODULE_19__["AppVersionComponent"], _angular_router__WEBPACK_IMPORTED_MODULE_9__["RouterOutlet"], _session_login_login_component__WEBPACK_IMPORTED_MODULE_20__["LoginComponent"]], styles: ["app-ui[_ngcontent-%COMP%] {\n  width: 100%;\n  background-color: #f8f8f8;\n}\n.app-header[_ngcontent-%COMP%] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 2;\n}\n.app-content[_ngcontent-%COMP%] {\n  position: fixed;\n  top: 64px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  \n}\n.sidenav-menu[_ngcontent-%COMP%] {\n  margin-top: 64px;\n}\n\n@media (max-width: 599px) {\n  .app-content[_ngcontent-%COMP%] {\n    top: 56px;\n  }\n\n  .sidenav-menu[_ngcontent-%COMP%] {\n    margin-top: 56px;\n  }\n}\n.sidenav-content[_ngcontent-%COMP%] {\n  padding: 24px;\n  \n}\n\n@media (max-width: 599px) {\n  .sidenav-content[_ngcontent-%COMP%] {\n    padding: 12px;\n  }\n}\n.header-icon[_ngcontent-%COMP%] {\n  color: white;\n  font-size: 15pt;\n}\n.header-spacer[_ngcontent-%COMP%] {\n  flex: 1 1 auto;\n}\n.header-title[_ngcontent-%COMP%] {\n  color: white;\n  text-decoration: none;\n}\nhtml[_ngcontent-%COMP%], body[_ngcontent-%COMP%] {\n  height: 100%;\n}\n.link-row[_ngcontent-%COMP%]:hover {\n  background-color: #f5f5f5;\n  cursor: pointer;\n}\n.form-error[_ngcontent-%COMP%] {\n  color: red;\n  font-weight: bold;\n}\n.form-foto[_ngcontent-%COMP%] {\n  width: 160px;\n  display: block;\n  margin: 0 auto;\n  background-color: #fff;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.075) inset;\n  color: #555;\n  line-height: 1.42857;\n  padding: 6px 12px;\n  transition: border-color 0.15s ease-in-out 0s, box-shadow 0.15s ease-in-out 0s;\n}\n.form-foto-edit[_ngcontent-%COMP%] {\n  position: absolute;\n  top: 140px;\n  margin: 0 auto;\n  background-color: lightgray;\n  border-radius: 4px;\n  padding: 10px;\n  width: 220px;\n}\napp-search[_ngcontent-%COMP%] {\n  max-height: 100%;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY29yZS91aS91aS91aS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29yZS91aS91aS91aS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7O0VBQUE7QUFrQkE7RUFDRSxXQUFBO0VBQ0EseUJBQUE7QUNERjtBRElBO0VBQ0UsZUFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsUUFBQTtFQUNBLFVBQUE7QUNERjtBRElBO0VBQ0UsZUFBQTtFQUNBLFNBQUE7RUFDQSxPQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSwwQkFBQTtBQ0RGO0FESUE7RUFDRSxnQkFBQTtBQ0RGO0FESUEsZ0NBQUE7QUFDQTtFQUNFO0lBQ0UsU0FBQTtFQ0RGOztFREdBO0lBQ0UsZ0JBQUE7RUNBRjtBQUNGO0FER0E7RUFDRSxhQUFBO0VBQ0Esc0JBQUE7QUNERjtBREdBLDZEQUFBO0FBQ0E7RUFDRTtJQUNFLGFBQUE7RUNBRjtBQUNGO0FER0E7RUFDRSxZQUFBO0VBQ0EsZUFBQTtBQ0RGO0FESUE7RUFDRSxjQUFBO0FDREY7QURJQTtFQUNFLFlBQUE7RUFDQSxxQkFBQTtBQ0RGO0FESUE7O0VBRUUsWUFBQTtBQ0RGO0FES0E7RUFDRSx5QkFBQTtFQUNBLGVBQUE7QUNGRjtBREtBO0VBQ0UsVUFBQTtFQUNBLGlCQUFBO0FDRkY7QURLQTtFQUNFLFlBQUE7RUFDQSxjQUFBO0VBQ0EsY0FBQTtFQUVBLHNCQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtFQUNBLGdEQUFBO0VBQ0EsV0FBQTtFQUNBLG9CQUFBO0VBQ0EsaUJBQUE7RUFDQSw4RUFBQTtBQ0hGO0FETUE7RUFDRSxrQkFBQTtFQUNBLFVBQUE7RUFDQSxjQUFBO0VBRUEsMkJBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxZQUFBO0FDSkY7QURPQTtFQUNFLGdCQUFBO0FDSkYiLCJmaWxlIjoic3JjL2FwcC9jb3JlL3VpL3VpL3VpLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiBuZGItY29yZS5cbiAqXG4gKiAgICAgbmRiLWNvcmUgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiAgICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqICAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqICAgICBuZGItY29yZSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiAgICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiAgICAgYWxvbmcgd2l0aCBuZGItY29yZS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5cbmFwcC11aSB7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOGY4O1xufVxuXG4uYXBwLWhlYWRlciB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbiAgei1pbmRleDogMjtcbn1cblxuLmFwcC1jb250ZW50IHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICB0b3A6IDY0cHg7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG4gIC8qIHBhZGRpbmctYm90dG9tOiAzMHB4OyAqL1xufVxuXG4uc2lkZW5hdi1tZW51IHtcbiAgbWFyZ2luLXRvcDogNjRweDtcbn1cblxuLyogQXBwIEhlYWRlciBpcyBzbWFsbGVyIG9uIFhTICovXG5AbWVkaWEobWF4LXdpZHRoOiA1OTlweCkge1xuICAuYXBwLWNvbnRlbnQge1xuICAgIHRvcDogNTZweDtcbiAgfVxuICAuc2lkZW5hdi1tZW51IHtcbiAgICBtYXJnaW4tdG9wOiA1NnB4O1xuICB9XG59XG5cbi5zaWRlbmF2LWNvbnRlbnQge1xuICBwYWRkaW5nOiAyNHB4O1xuICAvKiBvdmVyZmxvdzogc2Nyb2xsOyAqL1xufVxuLyogcmVkdWNlIHBhZGRpbmcgZm9yIGNvbnRlbnQgd2hlbiBzY3JlZW4gc2l6ZSBpcyB0b28gc21hbGwgKi9cbkBtZWRpYSAobWF4LXdpZHRoOiA1OTlweCkge1xuICAuc2lkZW5hdi1jb250ZW50IHtcbiAgICBwYWRkaW5nOiAxMnB4O1xuICB9XG59XG5cbi5oZWFkZXItaWNvbiB7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgZm9udC1zaXplOiAxNXB0O1xufVxuXG4uaGVhZGVyLXNwYWNlciB7XG4gIGZsZXg6IDEgMSBhdXRvO1xufVxuXG4uaGVhZGVyLXRpdGxlIHtcbiAgY29sb3I6IHdoaXRlO1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG5cbmh0bWwsXG5ib2R5IHtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG5cbi5saW5rLXJvdzpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLmZvcm0tZXJyb3Ige1xuICBjb2xvcjogcmVkO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuLmZvcm0tZm90byB7XG4gIHdpZHRoOiAxNjBweDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbjogMCBhdXRvO1xuXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgYm94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4wNzUpIGluc2V0O1xuICBjb2xvcjogIzU1NTtcbiAgbGluZS1oZWlnaHQ6IDEuNDI4NTc7XG4gIHBhZGRpbmc6IDZweCAxMnB4O1xuICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4xNXMgZWFzZS1pbi1vdXQgMHMsIGJveC1zaGFkb3cgMC4xNXMgZWFzZS1pbi1vdXQgMHM7XG59XG5cbi5mb3JtLWZvdG8tZWRpdCB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAxNDBweDtcbiAgbWFyZ2luOiAwIGF1dG87XG5cbiAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmF5O1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIHdpZHRoOiAyMjBweDtcbn1cblxuYXBwLXNlYXJjaCB7XG4gIG1heC1oZWlnaHQ6IDEwMCU7XG59XG4iLCIvKlxuICogICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIG5kYi1jb3JlLlxuICpcbiAqICAgICBuZGItY29yZSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiAgICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqICAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogICAgIG5kYi1jb3JlIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiAgICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqICAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiAgICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiAgICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqICAgICBhbG9uZyB3aXRoIG5kYi1jb3JlLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5hcHAtdWkge1xuICB3aWR0aDogMTAwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjhmODtcbn1cblxuLmFwcC1oZWFkZXIge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIHotaW5kZXg6IDI7XG59XG5cbi5hcHAtY29udGVudCB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgdG9wOiA2NHB4O1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbiAgYm90dG9tOiAwO1xuICAvKiBwYWRkaW5nLWJvdHRvbTogMzBweDsgKi9cbn1cblxuLnNpZGVuYXYtbWVudSB7XG4gIG1hcmdpbi10b3A6IDY0cHg7XG59XG5cbi8qIEFwcCBIZWFkZXIgaXMgc21hbGxlciBvbiBYUyAqL1xuQG1lZGlhIChtYXgtd2lkdGg6IDU5OXB4KSB7XG4gIC5hcHAtY29udGVudCB7XG4gICAgdG9wOiA1NnB4O1xuICB9XG5cbiAgLnNpZGVuYXYtbWVudSB7XG4gICAgbWFyZ2luLXRvcDogNTZweDtcbiAgfVxufVxuLnNpZGVuYXYtY29udGVudCB7XG4gIHBhZGRpbmc6IDI0cHg7XG4gIC8qIG92ZXJmbG93OiBzY3JvbGw7ICovXG59XG5cbi8qIHJlZHVjZSBwYWRkaW5nIGZvciBjb250ZW50IHdoZW4gc2NyZWVuIHNpemUgaXMgdG9vIHNtYWxsICovXG5AbWVkaWEgKG1heC13aWR0aDogNTk5cHgpIHtcbiAgLnNpZGVuYXYtY29udGVudCB7XG4gICAgcGFkZGluZzogMTJweDtcbiAgfVxufVxuLmhlYWRlci1pY29uIHtcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LXNpemU6IDE1cHQ7XG59XG5cbi5oZWFkZXItc3BhY2VyIHtcbiAgZmxleDogMSAxIGF1dG87XG59XG5cbi5oZWFkZXItdGl0bGUge1xuICBjb2xvcjogd2hpdGU7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbn1cblxuaHRtbCxcbmJvZHkge1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5saW5rLXJvdzpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLmZvcm0tZXJyb3Ige1xuICBjb2xvcjogcmVkO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuLmZvcm0tZm90byB7XG4gIHdpZHRoOiAxNjBweDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGJveC1zaGFkb3c6IDAgMXB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMDc1KSBpbnNldDtcbiAgY29sb3I6ICM1NTU7XG4gIGxpbmUtaGVpZ2h0OiAxLjQyODU3O1xuICBwYWRkaW5nOiA2cHggMTJweDtcbiAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuMTVzIGVhc2UtaW4tb3V0IDBzLCBib3gtc2hhZG93IDAuMTVzIGVhc2UtaW4tb3V0IDBzO1xufVxuXG4uZm9ybS1mb3RvLWVkaXQge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMTQwcHg7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGdyYXk7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgcGFkZGluZzogMTBweDtcbiAgd2lkdGg6IDIyMHB4O1xufVxuXG5hcHAtc2VhcmNoIHtcbiAgbWF4LWhlaWdodDogMTAwJTtcbn0iXX0= */"] });
    UiComponent = __decorate([
        Object(_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_5__["UntilDestroy"])(),
        __metadata("design:paramtypes", [_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_1__["SessionService"],
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__["Title"],
            _angular_flex_layout__WEBPACK_IMPORTED_MODULE_4__["MediaObserver"]])
    ], UiComponent);
    return UiComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](UiComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                moduleId: module.i,
                selector: "app-ui",
                templateUrl: "./ui.component.html",
                styleUrls: ["./ui.component.scss"],
            }]
    }], function () { return [{ type: _session_session_service_session_service__WEBPACK_IMPORTED_MODULE_1__["SessionService"] }, { type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__["Title"] }, { type: _angular_flex_layout__WEBPACK_IMPORTED_MODULE_4__["MediaObserver"] }]; }, { sideNav: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["sideNav"]
        }] }); })();


/***/ }),

/***/ "./src/app/core/user/demo-user-generator.service.ts":
/*!**********************************************************!*\
  !*** ./src/app/core/user/demo-user-generator.service.ts ***!
  \**********************************************************/
/*! exports provided: DemoUserGeneratorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DemoUserGeneratorService", function() { return DemoUserGeneratorService; });
/* harmony import */ var _demo_data_demo_data_generator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../demo-data/demo-data-generator */ "./src/app/core/demo-data/demo-data-generator.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./user */ "./src/app/core/user/user.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




/**
 * Generate demo users for the application with its DemoDataModule.
 */
var DemoUserGeneratorService = /** @class */ (function (_super) {
    __extends(DemoUserGeneratorService, _super);
    function DemoUserGeneratorService() {
        return _super.call(this) || this;
    }
    /**
     * This function returns a provider object to be used in an Angular Module configuration
     *
     * @return `providers: [DemoUserGeneratorService.provider()]`
     */
    DemoUserGeneratorService.provider = function () {
        return [
            { provide: DemoUserGeneratorService, useClass: DemoUserGeneratorService },
        ];
    };
    /**
     * Generate User entities to be loaded by the DemoDataModule.
     */
    DemoUserGeneratorService.prototype.generateEntities = function () {
        var demoUser = new _user__WEBPACK_IMPORTED_MODULE_2__["User"]("demo");
        demoUser.name = "demo";
        demoUser.setNewPassword("pass");
        var demoAdmin = new _user__WEBPACK_IMPORTED_MODULE_2__["User"]("demo-admin");
        demoUser.name = "demo-admin";
        demoAdmin.admin = true;
        demoAdmin.setNewPassword("pass");
        return [demoUser, demoAdmin];
    };
    DemoUserGeneratorService.ɵfac = function DemoUserGeneratorService_Factory(t) { return new (t || DemoUserGeneratorService)(); };
    DemoUserGeneratorService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: DemoUserGeneratorService, factory: DemoUserGeneratorService.ɵfac });
    return DemoUserGeneratorService;
}(_demo_data_demo_data_generator__WEBPACK_IMPORTED_MODULE_0__["DemoDataGenerator"]));

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](DemoUserGeneratorService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "./src/app/core/user/user-account/user-account.component.ts":
/*!******************************************************************!*\
  !*** ./src/app/core/user/user-account/user-account.component.ts ***!
  \******************************************************************/
/*! exports provided: UserAccountComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserAccountComponent", function() { return UserAccountComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _session_session_service_session_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../session/session-service/session.service */ "./src/app/core/session/session-service/session.service.ts");
/* harmony import */ var app_core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/core/entity/entity-mapper.service */ "./src/app/core/entity/entity-mapper.service.ts");
/* harmony import */ var _app_config_app_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../app-config/app-config */ "./src/app/core/app-config/app-config.ts");
/* harmony import */ var _angular_material_tabs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/tabs */ "./node_modules/@angular/material/fesm5/tabs.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _webdav_cloud_file_service_user_settings_cloud_file_service_user_settings_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../webdav/cloud-file-service-user-settings/cloud-file-service-user-settings.component */ "./src/app/core/webdav/cloud-file-service-user-settings/cloud-file-service-user-settings.component.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */













function UserAccountComponent_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    var _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "mat-form-field");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "input", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("valueChange", function UserAccountComponent_ng_template_2_Template_input_valueChange_3_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); var ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r4.user.name = $event; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "mat-form-field");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "input", 5, 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](8, "br");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "mat-form-field");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](10, "input", 7, 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "i");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](14, "Changes currently not supported. Please talk to your administrator for password changes.");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "button", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function UserAccountComponent_ng_template_2_Template_button_click_16_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); var _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](7); var _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](11); var ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r6.changePassword(_r2.value, _r3.value); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](17, "Save");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", ctx_r0.user.name);
} }
function UserAccountComponent_mat_tab_3_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "app-cloud-file-service-user-settings", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    var ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("user", ctx_r7.user);
} }
function UserAccountComponent_mat_tab_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-tab", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, UserAccountComponent_mat_tab_3_ng_template_1_Template, 2, 1, "ng-template", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
/**
 * User account form to allow the user to view and edit information.
 */
var UserAccountComponent = /** @class */ (function () {
    function UserAccountComponent(entityMapperService, sessionService) {
        this.entityMapperService = entityMapperService;
        this.sessionService = sessionService;
        /** whether webdav integration is configured and the cloud settings section should be displayed */
        this.webdavEnabled = !!_app_config_app_config__WEBPACK_IMPORTED_MODULE_3__["AppConfig"].settings.webdav;
    }
    UserAccountComponent.prototype.ngOnInit = function () {
        this.user = this.sessionService.getCurrentUser();
    };
    /**
     * Change the user's password.
     *
     * @todo This is not implemented yet!
     *
     * @param pwd New password to be set
     * @param rpwd Confirmation of new password (second input by the user to prevent typos)
     */
    UserAccountComponent.prototype.changePassword = function (pwd, rpwd) {
        if (pwd === rpwd) {
            // TODO: update the password for this remote database user first and deny the password change if that fails
            this.user.setNewPassword(pwd);
            // TODO: Show success message
        }
        else {
            // TODO: Show error message
        }
    };
    UserAccountComponent.ɵfac = function UserAccountComponent_Factory(t) { return new (t || UserAccountComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__["EntityMapperService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_1__["SessionService"])); };
    UserAccountComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: UserAccountComponent, selectors: [["app-user-account"]], decls: 4, vars: 1, consts: [["label", "User Account"], ["matTabContent", ""], ["label", "Image Service", 4, "ngIf"], [1, "user-profile-tab"], ["placeholder", "Username", "matInput", "text", "id", "username", "type", "text", "disabled", "", 3, "value", "valueChange"], ["placeholder", "New Password", "matInput", "text", "id", "password1", "type", "password", "value", "pass", "disabled", ""], ["passwordInp", ""], ["placeholder", "Confirm New Password", "matInput", "text", "id", "confirm", "type", "password", "value", "pass", "disabled", ""], ["confirmationInp", ""], ["mat-raised-button", "", "disabled", "", 3, "click"], ["label", "Image Service"], [3, "user"]], template: function UserAccountComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-tab-group");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-tab", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, UserAccountComponent_ng_template_2_Template, 18, 1, "ng-template", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, UserAccountComponent_mat_tab_3_Template, 2, 0, "mat-tab", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.webdavEnabled);
        } }, directives: [_angular_material_tabs__WEBPACK_IMPORTED_MODULE_4__["MatTabGroup"], _angular_material_tabs__WEBPACK_IMPORTED_MODULE_4__["MatTab"], _angular_material_tabs__WEBPACK_IMPORTED_MODULE_4__["MatTabContent"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_6__["MatFormField"], _angular_material_input__WEBPACK_IMPORTED_MODULE_7__["MatInput"], _angular_material_button__WEBPACK_IMPORTED_MODULE_8__["MatButton"], _webdav_cloud_file_service_user_settings_cloud_file_service_user_settings_component__WEBPACK_IMPORTED_MODULE_9__["CloudFileServiceUserSettingsComponent"]], styles: [".user-profile-tab[_ngcontent-%COMP%] {\n  margin-top: 20px;\n}\n.passwordChange[_ngcontent-%COMP%] {\n  font-size: 30px;\n  margin-bottom: 15px;\n  border-bottom: 1px solid #eee;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY29yZS91c2VyL3VzZXItYWNjb3VudC91c2VyLWFjY291bnQuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvcmUvdXNlci91c2VyLWFjY291bnQvdXNlci1hY2NvdW50LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7RUFBQTtBQWlCQTtFQUNFLGdCQUFBO0FDQUY7QURHQTtFQUNJLGVBQUE7RUFDQSxtQkFBQTtFQUNBLDZCQUFBO0FDQUoiLCJmaWxlIjoic3JjL2FwcC9jb3JlL3VzZXIvdXNlci1hY2NvdW50L3VzZXItYWNjb3VudC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgICAgVGhpcyBmaWxlIGlzIHBhcnQgb2YgbmRiLWNvcmUuXG4gKlxuICogICAgIG5kYi1jb3JlIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqICAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAgICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiAgICAgbmRiLWNvcmUgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqICAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqICAgICBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqICAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogICAgIGFsb25nIHdpdGggbmRiLWNvcmUuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuLnVzZXItcHJvZmlsZS10YWIge1xuICBtYXJnaW4tdG9wOiAyMHB4O1xufVxuXG4ucGFzc3dvcmRDaGFuZ2V7XG4gICAgZm9udC1zaXplOiAzMHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlZWU7XG59XG4iLCIvKlxuICogICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIG5kYi1jb3JlLlxuICpcbiAqICAgICBuZGItY29yZSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiAgICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqICAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogICAgIG5kYi1jb3JlIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiAgICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqICAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiAgICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiAgICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqICAgICBhbG9uZyB3aXRoIG5kYi1jb3JlLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG4udXNlci1wcm9maWxlLXRhYiB7XG4gIG1hcmdpbi10b3A6IDIwcHg7XG59XG5cbi5wYXNzd29yZENoYW5nZSB7XG4gIGZvbnQtc2l6ZTogMzBweDtcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlZWU7XG59Il19 */"] });
    return UserAccountComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](UserAccountComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-user-account",
                templateUrl: "./user-account.component.html",
                styleUrls: ["./user-account.component.scss"],
            }]
    }], function () { return [{ type: app_core_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_2__["EntityMapperService"] }, { type: _session_session_service_session_service__WEBPACK_IMPORTED_MODULE_1__["SessionService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/user/user.module.ts":
/*!******************************************!*\
  !*** ./src/app/core/user/user.module.ts ***!
  \******************************************/
/*! exports provided: UserModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserModule", function() { return UserModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _user_account_user_account_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./user-account/user-account.component */ "./src/app/core/user/user-account/user-account.component.ts");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_material_tabs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/tabs */ "./node_modules/@angular/material/fesm5/tabs.js");
/* harmony import */ var _webdav_webdav_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../webdav/webdav.module */ "./src/app/core/webdav/webdav.module.ts");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */









/**
 * Provides a User functionality including user account forms.
 */
var UserModule = /** @class */ (function () {
    function UserModule() {
    }
    UserModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: UserModule });
    UserModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function UserModule_Factory(t) { return new (t || UserModule)(); }, imports: [[
                _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                _angular_material_form_field__WEBPACK_IMPORTED_MODULE_3__["MatFormFieldModule"],
                _angular_material_input__WEBPACK_IMPORTED_MODULE_4__["MatInputModule"],
                _angular_material_button__WEBPACK_IMPORTED_MODULE_2__["MatButtonModule"],
                _angular_material_tabs__WEBPACK_IMPORTED_MODULE_6__["MatTabsModule"],
                _webdav_webdav_module__WEBPACK_IMPORTED_MODULE_7__["WebdavModule"],
            ]] });
    return UserModule;
}());

(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](UserModule, { declarations: [_user_account_user_account_component__WEBPACK_IMPORTED_MODULE_1__["UserAccountComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
        _angular_material_form_field__WEBPACK_IMPORTED_MODULE_3__["MatFormFieldModule"],
        _angular_material_input__WEBPACK_IMPORTED_MODULE_4__["MatInputModule"],
        _angular_material_button__WEBPACK_IMPORTED_MODULE_2__["MatButtonModule"],
        _angular_material_tabs__WEBPACK_IMPORTED_MODULE_6__["MatTabsModule"],
        _webdav_webdav_module__WEBPACK_IMPORTED_MODULE_7__["WebdavModule"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](UserModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                    _angular_material_form_field__WEBPACK_IMPORTED_MODULE_3__["MatFormFieldModule"],
                    _angular_material_input__WEBPACK_IMPORTED_MODULE_4__["MatInputModule"],
                    _angular_material_button__WEBPACK_IMPORTED_MODULE_2__["MatButtonModule"],
                    _angular_material_tabs__WEBPACK_IMPORTED_MODULE_6__["MatTabsModule"],
                    _webdav_webdav_module__WEBPACK_IMPORTED_MODULE_7__["WebdavModule"],
                ],
                declarations: [_user_account_user_account_component__WEBPACK_IMPORTED_MODULE_1__["UserAccountComponent"]],
            }]
    }], null, null); })();


/***/ }),

/***/ "./src/app/core/user/user.ts":
/*!***********************************!*\
  !*** ./src/app/core/user/user.ts ***!
  \***********************************/
/*! exports provided: User */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "User", function() { return User; });
/* harmony import */ var _entity_entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../entity/entity */ "./src/app/core/entity/entity.ts");
/* harmony import */ var _entity_database_entity_decorator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../entity/database-entity.decorator */ "./src/app/core/entity/database-entity.decorator.ts");
/* harmony import */ var _entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../entity/database-field.decorator */ "./src/app/core/entity/database-field.decorator.ts");
/* harmony import */ var crypto_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! crypto-js */ "./node_modules/crypto-js/index.js");
/* harmony import */ var crypto_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(crypto_js__WEBPACK_IMPORTED_MODULE_3__);
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




/**
 * Entity representing a User object including password.
 *
 * Note that in addition to the User Entity there also is a "regular" CouchDB user with the same name and password
 * in the CouchDB _users database which is used for remote database authentication.
 */
var User = /** @class */ (function (_super) {
    __extends(User, _super);
    function User() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /** settings for the mat-paginator for tables
         * pageSizeOptions is set in the corresponding html of the component,
         * pageSize is stored persistently in the database and
         * pageIndex is saved only temporarily for the session
         */
        _this.paginatorSettingsPageSize = {
            childrenList: 10,
            schoolsList: 10,
            notesList: 10,
        };
        _this.paginatorSettingsPageIndex = {
            childrenList: 0,
            schoolsList: 0,
            notesList: 0,
        };
        /** base folder for webdav, all actions of the app will happen relative to this as the root folder */
        _this.cloudBaseFolder = "/aam-digital/";
        return _this;
    }
    /**
     * Set a new user password.
     * This will be encrypted before saving.
     *
     * Warning: User password must be identical to the CouchDB user password. Otherwise database sync will fail!
     *
     * @param password The new password to be set
     */
    User.prototype.setNewPassword = function (password) {
        var cryptKeySize = 256 / 32;
        var cryptIterations = 128;
        var cryptSalt = crypto_js__WEBPACK_IMPORTED_MODULE_3__["lib"].WordArray.random(128 / 8).toString();
        var hash = crypto_js__WEBPACK_IMPORTED_MODULE_3__["PBKDF2"](password, cryptSalt, {
            keySize: cryptKeySize,
            iterations: cryptIterations,
        }).toString();
        this.password = {
            hash: hash,
            salt: cryptSalt,
            iterations: cryptIterations,
            keysize: cryptKeySize,
        };
        // update encrypted nextcloud password
        this.cloudPasswordEnc = crypto_js__WEBPACK_IMPORTED_MODULE_3__["AES"].encrypt(this.cloudPasswordDec, password).toString();
    };
    /**
     * Check whether the given password is correct.
     * @param givenPassword Password attempted
     */
    User.prototype.checkPassword = function (givenPassword) {
        // hash the given password string and compare it with the stored hash
        return this.hashPassword(givenPassword) === this.password.hash;
    };
    User.prototype.hashPassword = function (givenPassword) {
        var options = {
            keySize: this.password.keysize,
            iterations: this.password.iterations,
        };
        return crypto_js__WEBPACK_IMPORTED_MODULE_3__["PBKDF2"](givenPassword, this.password.salt, options).toString();
    };
    /**
     * Decrypt the stored cloud password with the user's regular password.
     * @param givenPassword The user entity's password (not the webdav cloud password)
     * @return the decrypted cloud password
     */
    User.prototype.decryptCloudPassword = function (givenPassword) {
        if (!this.cloudPasswordEnc) {
            return;
        }
        this.cloudPasswordDec = crypto_js__WEBPACK_IMPORTED_MODULE_3__["AES"].decrypt(this.cloudPasswordEnc.toString(), givenPassword).toString(crypto_js__WEBPACK_IMPORTED_MODULE_3__["enc"].Utf8);
        return this.cloudPasswordDec;
    };
    /**
     * Set a new webdav cloud password.
     * @param blobPassword The password for the cloud account.
     * @param givenPassword The user entity's password (used for encrypting the cloud password before storage)
     */
    User.prototype.setCloudPassword = function (blobPassword, givenPassword) {
        if (this.checkPassword(givenPassword)) {
            this.cloudPasswordDec = blobPassword;
            this.cloudPasswordEnc = crypto_js__WEBPACK_IMPORTED_MODULE_3__["AES"].encrypt(blobPassword, givenPassword).toString();
        }
    };
    /**
     * Check admin rights of the user.
     */
    User.prototype.isAdmin = function () {
        return this.admin;
    };
    /**
     * Change this user's admin status
     * @param admin New admin status to be set
     */
    User.prototype.setAdmin = function (admin) {
        this.admin = admin;
    };
    __decorate([
        Object(_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", String)
    ], User.prototype, "name", void 0);
    __decorate([
        Object(_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", Boolean)
    ], User.prototype, "admin", void 0);
    __decorate([
        Object(_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", Object)
    ], User.prototype, "password", void 0);
    __decorate([
        Object(_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", Object)
    ], User.prototype, "paginatorSettingsPageSize", void 0);
    __decorate([
        Object(_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", Object)
    ], User.prototype, "cloudPasswordEnc", void 0);
    __decorate([
        Object(_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", String)
    ], User.prototype, "cloudUserName", void 0);
    __decorate([
        Object(_entity_database_field_decorator__WEBPACK_IMPORTED_MODULE_2__["DatabaseField"])(),
        __metadata("design:type", String)
    ], User.prototype, "cloudBaseFolder", void 0);
    User = __decorate([
        Object(_entity_database_entity_decorator__WEBPACK_IMPORTED_MODULE_1__["DatabaseEntity"])("User")
    ], User);
    return User;
}(_entity_entity__WEBPACK_IMPORTED_MODULE_0__["Entity"]));



/***/ }),

/***/ "./src/app/core/view/dynamic-components-map.ts":
/*!*****************************************************!*\
  !*** ./src/app/core/view/dynamic-components-map.ts ***!
  \*****************************************************/
/*! exports provided: DYNAMIC_COMPONENTS_MAP */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DYNAMIC_COMPONENTS_MAP", function() { return DYNAMIC_COMPONENTS_MAP; });
/* harmony import */ var app_child_dev_project_attendance_dashboard_widgets_attendance_average_dashboard_attendance_average_dashboard_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/child-dev-project/attendance/dashboard-widgets/attendance-average-dashboard/attendance-average-dashboard.component */ "./src/app/child-dev-project/attendance/dashboard-widgets/attendance-average-dashboard/attendance-average-dashboard.component.ts");
/* harmony import */ var app_child_dev_project_attendance_dashboard_widgets_attendance_warnings_dashboard_attendance_warnings_dashboard_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/child-dev-project/attendance/dashboard-widgets/attendance-warnings-dashboard/attendance-warnings-dashboard.component */ "./src/app/child-dev-project/attendance/dashboard-widgets/attendance-warnings-dashboard/attendance-warnings-dashboard.component.ts");
/* harmony import */ var app_child_dev_project_attendance_dashboard_widgets_attendance_week_dashboard_attendance_week_dashboard_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/child-dev-project/attendance/dashboard-widgets/attendance-week-dashboard/attendance-week-dashboard.component */ "./src/app/child-dev-project/attendance/dashboard-widgets/attendance-week-dashboard/attendance-week-dashboard.component.ts");
/* harmony import */ var app_child_dev_project_children_children_count_dashboard_children_count_dashboard_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/child-dev-project/children/children-count-dashboard/children-count-dashboard.component */ "./src/app/child-dev-project/children/children-count-dashboard/children-count-dashboard.component.ts");
/* harmony import */ var app_child_dev_project_notes_dashboard_widgets_no_recent_notes_dashboard_no_recent_notes_dashboard_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/child-dev-project/notes/dashboard-widgets/no-recent-notes-dashboard/no-recent-notes-dashboard.component */ "./src/app/child-dev-project/notes/dashboard-widgets/no-recent-notes-dashboard/no-recent-notes-dashboard.component.ts");
/* harmony import */ var app_child_dev_project_notes_dashboard_widgets_recent_notes_dashboard_recent_notes_dashboard_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/child-dev-project/notes/dashboard-widgets/recent-notes-dashboard/recent-notes-dashboard.component */ "./src/app/child-dev-project/notes/dashboard-widgets/recent-notes-dashboard/recent-notes-dashboard.component.ts");
/* harmony import */ var _child_dev_project_progress_dashboard_widget_progress_dashboard_progress_dashboard_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../child-dev-project/progress-dashboard-widget/progress-dashboard/progress-dashboard.component */ "./src/app/child-dev-project/progress-dashboard-widget/progress-dashboard/progress-dashboard.component.ts");







var DYNAMIC_COMPONENTS_MAP = new Map([
    ["ChildrenCountDashboard", app_child_dev_project_children_children_count_dashboard_children_count_dashboard_component__WEBPACK_IMPORTED_MODULE_3__["ChildrenCountDashboardComponent"]],
    ["RecentNotesDashboard", app_child_dev_project_notes_dashboard_widgets_recent_notes_dashboard_recent_notes_dashboard_component__WEBPACK_IMPORTED_MODULE_5__["RecentNotesDashboardComponent"]],
    ["NoRecentNotesDashboard", app_child_dev_project_notes_dashboard_widgets_no_recent_notes_dashboard_no_recent_notes_dashboard_component__WEBPACK_IMPORTED_MODULE_4__["NoRecentNotesDashboardComponent"]],
    ["AttendanceWeekDashboard", app_child_dev_project_attendance_dashboard_widgets_attendance_week_dashboard_attendance_week_dashboard_component__WEBPACK_IMPORTED_MODULE_2__["AttendanceWeekDashboardComponent"]],
    ["ProgressDashboard", _child_dev_project_progress_dashboard_widget_progress_dashboard_progress_dashboard_component__WEBPACK_IMPORTED_MODULE_6__["ProgressDashboardComponent"]],
    ["AttendanceAverageDashboard", app_child_dev_project_attendance_dashboard_widgets_attendance_average_dashboard_attendance_average_dashboard_component__WEBPACK_IMPORTED_MODULE_0__["AttendanceAverageDashboardComponent"]],
    ["AttendanceWarningsDashboard", app_child_dev_project_attendance_dashboard_widgets_attendance_warnings_dashboard_attendance_warnings_dashboard_component__WEBPACK_IMPORTED_MODULE_1__["AttendanceWarningsDashboardComponent"]],
]);


/***/ }),

/***/ "./src/app/core/view/dynamic-components/dynamic-component.directive.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/core/view/dynamic-components/dynamic-component.directive.ts ***!
  \*****************************************************************************/
/*! exports provided: DynamicComponentDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DynamicComponentDirective", function() { return DynamicComponentDirective; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var app_core_logging_logging_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/core/logging/logging.service */ "./src/app/core/logging/logging.service.ts");
/* harmony import */ var _dynamic_components_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../dynamic-components-map */ "./src/app/core/view/dynamic-components-map.ts");





/**
 * Directive to mark a template into which a component that is dynamically injected from config should be loaded
 *
 * Pass the DynamicComponentConfig into the directive to define the component to be injected.
 *
 * A component that is dynamically injected must implement the {@link OnInitDynamicComponent} interface
 * to allow initialization of input properties from a dynamic config object.
 */
var DynamicComponentDirective = /** @class */ (function () {
    function DynamicComponentDirective(viewContainerRef, componentFactoryResolver, loggingService) {
        this.viewContainerRef = viewContainerRef;
        this.componentFactoryResolver = componentFactoryResolver;
        this.loggingService = loggingService;
    }
    DynamicComponentDirective.prototype.ngOnChanges = function (changes) {
        this.loadDynamicComponent();
    };
    DynamicComponentDirective.prototype.loadDynamicComponent = function () {
        if (!this.appDynamicComponent) {
            return;
        }
        var component = _dynamic_components_map__WEBPACK_IMPORTED_MODULE_2__["DYNAMIC_COMPONENTS_MAP"].get(this.appDynamicComponent.component);
        if (!component) {
            this.loggingService.warn("Could not load dashboard widget - component not found: " +
                this.appDynamicComponent.component);
            return;
        }
        var componentFactory = this.componentFactoryResolver.resolveComponentFactory(component);
        this.viewContainerRef.clear();
        var componentRef = this.viewContainerRef.createComponent(componentFactory);
        componentRef.instance.onInitFromDynamicConfig(this.appDynamicComponent.config);
    };
    DynamicComponentDirective.ɵfac = function DynamicComponentDirective_Factory(t) { return new (t || DynamicComponentDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_core_logging_logging_service__WEBPACK_IMPORTED_MODULE_1__["LoggingService"])); };
    DynamicComponentDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: DynamicComponentDirective, selectors: [["", "appDynamicComponent", ""]], inputs: { appDynamicComponent: "appDynamicComponent" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]] });
    return DynamicComponentDirective;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DynamicComponentDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
                selector: "[appDynamicComponent]",
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"] }, { type: app_core_logging_logging_service__WEBPACK_IMPORTED_MODULE_1__["LoggingService"] }]; }, { appDynamicComponent: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "./src/app/core/view/dynamic-routing/router.service.ts":
/*!*************************************************************!*\
  !*** ./src/app/core/view/dynamic-routing/router.service.ts ***!
  \*************************************************************/
/*! exports provided: RouterService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RouterService", function() { return RouterService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var app_app_routing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/app.routing */ "./src/app/app.routing.ts");
/* harmony import */ var _admin_admin_guard__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../admin/admin.guard */ "./src/app/core/admin/admin.guard.ts");
/* harmony import */ var _config_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../config/config.service */ "./src/app/core/config/config.service.ts");
/* harmony import */ var _logging_logging_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../logging/logging.service */ "./src/app/core/logging/logging.service.ts");
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};










/**
 * The RouterService dynamically sets up Angular routing from config loaded through the {@link ConfigService}.
 *
 * You can define {@link ViewConfig} objects in the central configuration and build the routing at runtime
 * rather than hard-coding the available paths and settings.
 */
var RouterService = /** @class */ (function () {
    function RouterService(configService, router, loggingService) {
        this.configService = configService;
        this.router = router;
        this.loggingService = loggingService;
    }
    /**
     * Initialize routes from the config while respecting existing routes.
     */
    RouterService.prototype.initRouting = function () {
        this.reloadRouting(this.router.config);
    };
    /**
     * Reset the routing config and reload it from the global config.
     *
     * @param additionalRoutes Optional array of routes to keep in addition to the ones loaded from config
     */
    RouterService.prototype.reloadRouting = function (additionalRoutes) {
        var e_1, _a;
        if (additionalRoutes === void 0) { additionalRoutes = []; }
        var routes = [];
        var viewConfigs = this.configService.getAllConfigs(RouterService.PREFIX_VIEW_CONFIG);
        var _loop_1 = function (view) {
            var route = this_1.generateRouteFromConfig(view);
            if (additionalRoutes.find(function (r) { return r.path === route.path; })) {
                this_1.loggingService.warn("ignoring route from view config because the path is already defined: " +
                    view._id);
            }
            else {
                routes.push(route);
            }
        };
        var this_1 = this;
        try {
            for (var viewConfigs_1 = __values(viewConfigs), viewConfigs_1_1 = viewConfigs_1.next(); !viewConfigs_1_1.done; viewConfigs_1_1 = viewConfigs_1.next()) {
                var view = viewConfigs_1_1.value;
                _loop_1(view);
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (viewConfigs_1_1 && !viewConfigs_1_1.done && (_a = viewConfigs_1.return)) _a.call(viewConfigs_1);
            }
            finally { if (e_1) throw e_1.error; }
        }
        // add routes from other sources (e.g. pre-existing  hard-coded routes)
        routes.push.apply(routes, __spread(additionalRoutes));
        this.router.resetConfig(routes);
    };
    RouterService.prototype.generateRouteFromConfig = function (view) {
        var path = view._id.substring(RouterService.PREFIX_VIEW_CONFIG.length); // remove prefix to get actual path
        var route = {
            path: path,
            component: app_app_routing__WEBPACK_IMPORTED_MODULE_2__["COMPONENT_MAP"][view.component],
        };
        if (view.requiresAdmin) {
            route.canActivate = [_admin_admin_guard__WEBPACK_IMPORTED_MODULE_3__["AdminGuard"]];
        }
        if (view.config) {
            route.data = view.config;
        }
        return route;
    };
    RouterService.PREFIX_VIEW_CONFIG = "view:";
    RouterService.ɵfac = function RouterService_Factory(t) { return new (t || RouterService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_config_config_service__WEBPACK_IMPORTED_MODULE_4__["ConfigService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_logging_logging_service__WEBPACK_IMPORTED_MODULE_5__["LoggingService"])); };
    RouterService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: RouterService, factory: RouterService.ɵfac, providedIn: "root" });
    return RouterService;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RouterService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root",
            }]
    }], function () { return [{ type: _config_config_service__WEBPACK_IMPORTED_MODULE_4__["ConfigService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] }, { type: _logging_logging_service__WEBPACK_IMPORTED_MODULE_5__["LoggingService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/view/view.module.ts":
/*!******************************************!*\
  !*** ./src/app/core/view/view.module.ts ***!
  \******************************************/
/*! exports provided: ViewModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewModule", function() { return ViewModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _dynamic_components_dynamic_component_directive__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dynamic-components/dynamic-component.directive */ "./src/app/core/view/dynamic-components/dynamic-component.directive.ts");
/* harmony import */ var _dynamic_routing_router_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dynamic-routing/router.service */ "./src/app/core/view/dynamic-routing/router.service.ts");






/**
 * Generic components and services to allow assembling the app dynamically from config objects.
 */
var ViewModule = /** @class */ (function () {
    function ViewModule(routerService) {
        this.routerService = routerService;
        routerService.initRouting();
    }
    ViewModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: ViewModule });
    ViewModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function ViewModule_Factory(t) { return new (t || ViewModule)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_dynamic_routing_router_service__WEBPACK_IMPORTED_MODULE_3__["RouterService"])); }, imports: [[_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]]] });
    return ViewModule;
}());

(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](ViewModule, { declarations: [_dynamic_components_dynamic_component_directive__WEBPACK_IMPORTED_MODULE_2__["DynamicComponentDirective"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]], exports: [_dynamic_components_dynamic_component_directive__WEBPACK_IMPORTED_MODULE_2__["DynamicComponentDirective"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ViewModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                declarations: [_dynamic_components_dynamic_component_directive__WEBPACK_IMPORTED_MODULE_2__["DynamicComponentDirective"]],
                imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]],
                exports: [_dynamic_components_dynamic_component_directive__WEBPACK_IMPORTED_MODULE_2__["DynamicComponentDirective"]],
            }]
    }], function () { return [{ type: _dynamic_routing_router_service__WEBPACK_IMPORTED_MODULE_3__["RouterService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/webdav/cloud-file-service-user-settings/cloud-file-service-user-settings.component.ts":
/*!************************************************************************************************************!*\
  !*** ./src/app/core/webdav/cloud-file-service-user-settings/cloud-file-service-user-settings.component.ts ***!
  \************************************************************************************************************/
/*! exports provided: CloudFileServiceUserSettingsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CloudFileServiceUserSettingsComponent", function() { return CloudFileServiceUserSettingsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _user_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../user/user */ "./src/app/core/user/user.ts");
/* harmony import */ var _cloud_file_service_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../cloud-file-service.service */ "./src/app/core/webdav/cloud-file-service.service.ts");
/* harmony import */ var _app_config_app_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../app-config/app-config */ "./src/app/core/app-config/app-config.ts");
/* harmony import */ var _entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../entity/entity-mapper.service */ "./src/app/core/entity/entity-mapper.service.ts");
/* harmony import */ var _alerts_alert_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../alerts/alert.service */ "./src/app/core/alerts/alert.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/progress-spinner */ "./node_modules/@angular/material/fesm5/progress-spinner.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};

















function CloudFileServiceUserSettingsComponent_mat_error_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-error");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Couldn't connect to the cloud service. Please check your username and password or try again later. ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function CloudFileServiceUserSettingsComponent_mat_error_18_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-error");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " The password you entered is not correct. Please enter your user account password for this app here (not your password for the cloud service above). ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function CloudFileServiceUserSettingsComponent_mat_spinner_23_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "mat-spinner", 8);
} }
/**
 * User Profile form to allow the user to set up credentials for a webdav server to be used by the CloudFileService.
 */
var CloudFileServiceUserSettingsComponent = /** @class */ (function () {
    function CloudFileServiceUserSettingsComponent(fb, entityMapperService, cloudFileService, alertService) {
        this.fb = fb;
        this.entityMapperService = entityMapperService;
        this.cloudFileService = cloudFileService;
        this.alertService = alertService;
    }
    CloudFileServiceUserSettingsComponent.prototype.ngOnInit = function () {
        this.webdavUrl = _app_config_app_config__WEBPACK_IMPORTED_MODULE_3__["AppConfig"].settings.webdav.remote_url;
        this.form = this.fb.group({
            cloudUser: [this.user.cloudUserName, _angular_forms__WEBPACK_IMPORTED_MODULE_6__["Validators"].required],
            cloudPassword: ["", _angular_forms__WEBPACK_IMPORTED_MODULE_6__["Validators"].required],
            userPassword: ["", _angular_forms__WEBPACK_IMPORTED_MODULE_6__["Validators"].required],
        });
    };
    /**
     * Sets the username and password for the cloud-service, provided the login password is correct
     * and saves the user entity.
     */
    CloudFileServiceUserSettingsComponent.prototype.updateCloudServiceSettings = function () {
        return __awaiter(this, void 0, void 0, function () {
            var password, isConnected, error_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        password = this.form.controls.userPassword.value;
                        if (!this.user.checkPassword(password)) {
                            this.form.controls.userPassword.setErrors({ incorrectPassword: true });
                            return [2 /*return*/];
                        }
                        this.processing = true;
                        this.user.cloudUserName = this.form.controls.cloudUser.value;
                        this.user.setCloudPassword(this.form.controls.cloudPassword.value, password);
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 4, , 5]);
                        return [4 /*yield*/, this.cloudFileService.connect()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, this.cloudFileService.checkConnection()];
                    case 3:
                        isConnected = _a.sent();
                        if (!isConnected) {
                            // noinspection ExceptionCaughtLocallyJS
                            throw new Error("Connection check failed.");
                        }
                        return [3 /*break*/, 5];
                    case 4:
                        error_1 = _a.sent();
                        this.form.controls.cloudPassword.setErrors({ connectionFailed: true });
                        console.warn(error_1);
                        this.processing = false;
                        return [2 /*return*/];
                    case 5: return [4 /*yield*/, this.entityMapperService.save(this.user)];
                    case 6:
                        _a.sent();
                        this.alertService.addInfo("Successfully saved cloud service credentials.");
                        this.processing = false;
                        return [2 /*return*/];
                }
            });
        });
    };
    CloudFileServiceUserSettingsComponent.ɵfac = function CloudFileServiceUserSettingsComponent_Factory(t) { return new (t || CloudFileServiceUserSettingsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_6__["FormBuilder"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_4__["EntityMapperService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_cloud_file_service_service__WEBPACK_IMPORTED_MODULE_2__["CloudFileService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_alerts_alert_service__WEBPACK_IMPORTED_MODULE_5__["AlertService"])); };
    CloudFileServiceUserSettingsComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: CloudFileServiceUserSettingsComponent, selectors: [["app-cloud-file-service-user-settings"]], inputs: { user: "user" }, decls: 24, vars: 5, consts: [[3, "formGroup", "ngSubmit"], ["matInput", "", "required", "", "formControlName", "cloudUser", "placeholder", "Cloud Image Service User"], ["matInput", "", "type", "password", "required", "", "formControlName", "cloudPassword", "placeholder", "Cloud Image Service Password"], [4, "ngIf"], ["matInput", "", "type", "password", "required", "", "formControlName", "userPassword", "placeholder", "Password"], [1, "p-submit"], ["mat-raised-button", "", "type", "submit", 3, "disabled"], ["diameter", "20", 4, "ngIf"], ["diameter", "20"]], template: function CloudFileServiceUserSettingsComponent_Template(rf, ctx) { if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngSubmit", function CloudFileServiceUserSettingsComponent_Template_form_ngSubmit_0_listener() { return ctx.updateCloudServiceSettings(); });
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "p");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "i");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, "Please enter your username and password for your Nextcloud account. This will be used for photo uploads.");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "p");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "input", 1);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](7, "br");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](9, "input", 2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, CloudFileServiceUserSettingsComponent_mat_error_10_Template, 2, 0, "mat-error", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](11, "br");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "p");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "i");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](14, "Please enter your password for this app, so your cloud service password above will then be encrypted and stored for future uses.");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "p");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "mat-form-field");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](17, "input", 4);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](18, CloudFileServiceUserSettingsComponent_mat_error_18_Template, 2, 0, "mat-error", 3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](19, "p", 5);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](20, "button", 6);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](21, "Save");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](22, " \u00A0");
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](23, CloudFileServiceUserSettingsComponent_mat_spinner_23_Template, 1, 0, "mat-spinner", 7);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        } if (rf & 2) {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](10);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.form.controls.cloudPassword.errors == null ? null : ctx.form.controls.cloudPassword.errors.connectionFailed);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](8);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.form.controls.userPassword.errors == null ? null : ctx.form.controls.userPassword.errors.incorrectPassword);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", !ctx.form.valid || ctx.processing);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.processing);
        } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_6__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["FormGroupDirective"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_7__["MatFormField"], _angular_material_input__WEBPACK_IMPORTED_MODULE_8__["MatInput"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["RequiredValidator"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["FormControlName"], _angular_common__WEBPACK_IMPORTED_MODULE_9__["NgIf"], _angular_material_button__WEBPACK_IMPORTED_MODULE_10__["MatButton"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_7__["MatError"], _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_11__["MatSpinner"]], styles: [".mat-form-field[_ngcontent-%COMP%] {\n  width: 300px;\n}\n\n.p-submit[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL25kYi1jb3JlL25kYi1jb3JlL3NyYy9hcHAvY29yZS93ZWJkYXYvY2xvdWQtZmlsZS1zZXJ2aWNlLXVzZXItc2V0dGluZ3MvY2xvdWQtZmlsZS1zZXJ2aWNlLXVzZXItc2V0dGluZ3MuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvcmUvd2ViZGF2L2Nsb3VkLWZpbGUtc2VydmljZS11c2VyLXNldHRpbmdzL2Nsb3VkLWZpbGUtc2VydmljZS11c2VyLXNldHRpbmdzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0UsWUFBQTtBQ0FGOztBREdBO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0FDQUYiLCJmaWxlIjoic3JjL2FwcC9jb3JlL3dlYmRhdi9jbG91ZC1maWxlLXNlcnZpY2UtdXNlci1zZXR0aW5ncy9jbG91ZC1maWxlLXNlcnZpY2UtdXNlci1zZXR0aW5ncy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLm1hdC1mb3JtLWZpZWxkIHtcbiAgd2lkdGg6IDMwMHB4XG59XG5cbi5wLXN1Ym1pdCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG4iLCIubWF0LWZvcm0tZmllbGQge1xuICB3aWR0aDogMzAwcHg7XG59XG5cbi5wLXN1Ym1pdCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59Il19 */"] });
    return CloudFileServiceUserSettingsComponent;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CloudFileServiceUserSettingsComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-cloud-file-service-user-settings",
                templateUrl: "./cloud-file-service-user-settings.component.html",
                styleUrls: ["./cloud-file-service-user-settings.component.scss"],
            }]
    }], function () { return [{ type: _angular_forms__WEBPACK_IMPORTED_MODULE_6__["FormBuilder"] }, { type: _entity_entity_mapper_service__WEBPACK_IMPORTED_MODULE_4__["EntityMapperService"] }, { type: _cloud_file_service_service__WEBPACK_IMPORTED_MODULE_2__["CloudFileService"] }, { type: _alerts_alert_service__WEBPACK_IMPORTED_MODULE_5__["AlertService"] }]; }, { user: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "./src/app/core/webdav/cloud-file-service.service.ts":
/*!***********************************************************!*\
  !*** ./src/app/core/webdav/cloud-file-service.service.ts ***!
  \***********************************************************/
/*! exports provided: CloudFileService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CloudFileService", function() { return CloudFileService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_config_app_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../app-config/app-config */ "./src/app/core/app-config/app-config.ts");
/* harmony import */ var webdav__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! webdav */ "./node_modules/webdav/dist/node/index.js");
/* harmony import */ var webdav__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(webdav__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _session_session_service_session_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../session/session-service/session.service */ "./src/app/core/session/session-service/session.service.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};








/**
 * Connect and access a remote cloud file system like Nextcloud
 * to upload and download files.
 *
 * Connection requires setup of the server in the AppConfig
 * as well as valid user credentials for that server in the currently logged in user entity.
 */
var CloudFileService = /** @class */ (function () {
    /**
     * Construct the service and immediately attempt to connect to the server with the current user.
     * @param domSanitizer
     * @param sessionService
     */
    function CloudFileService(domSanitizer, sessionService) {
        this.domSanitizer = domSanitizer;
        this.sessionService = sessionService;
        this.connect();
    }
    /**
     * (Re)-initialize the client connecting to the webdav server.
     * @param username Optional webdav username, otherwise the one set in the current user entity is used.
     * @param password Optional webdav password, otherwise the one set in the current user entity is used.
     */
    CloudFileService.prototype.connect = function (username, password) {
        if (username === void 0) { username = null; }
        if (password === void 0) { password = null; }
        return __awaiter(this, void 0, void 0, function () {
            var currentUser, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (!_app_config_app_config__WEBPACK_IMPORTED_MODULE_1__["AppConfig"].settings.webdav || !this.sessionService.getCurrentUser()) {
                            return [2 /*return*/];
                        }
                        this.reset();
                        currentUser = this.sessionService.getCurrentUser();
                        this.basePath = currentUser.cloudBaseFolder;
                        if (username === null && password == null) {
                            username = currentUser.cloudUserName;
                            password = currentUser.cloudPasswordDec;
                        }
                        if (!username || !password) {
                            // abort if account is not configured
                            this.client = null;
                            return [2 /*return*/];
                        }
                        _a = this;
                        return [4 /*yield*/, webdav__WEBPACK_IMPORTED_MODULE_2___default.a.createClient(_app_config_app_config__WEBPACK_IMPORTED_MODULE_1__["AppConfig"].settings.webdav.remote_url, {
                                username: username,
                                password: password,
                            })];
                    case 1:
                        _a.client = _b.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Reset the current state and requests.
     * e.g. clear promise that retrieves the root dir
     */
    CloudFileService.prototype.reset = function () {
        this.currentlyGettingList = null;
        this.fileList = null;
    };
    /**
     * checkConnection
     *
     * tries to upload and redownload a file.
     */
    CloudFileService.prototype.checkConnection = function () {
        return __awaiter(this, void 0, void 0, function () {
            var fileName, buffer, tmpContent;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        fileName = this.basePath + "/test.txt";
                        return [4 /*yield*/, this.doesFileExist(fileName)];
                    case 1:
                        if (!_a.sent()) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.client.deleteFile(fileName)];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3: return [4 /*yield*/, this.client.putFileContents(fileName, "TestString")];
                    case 4:
                        _a.sent();
                        return [4 /*yield*/, this.client.getFileContents(fileName)];
                    case 5:
                        buffer = _a.sent();
                        tmpContent = String.fromCharCode.apply(null, new Uint8Array(buffer));
                        return [4 /*yield*/, this.client.deleteFile(fileName)];
                    case 6:
                        _a.sent();
                        if (tmpContent === "TestString") {
                            return [2 /*return*/, true];
                        }
                        return [2 /*return*/, false];
                }
            });
        });
    };
    /**
     * Returns the content path.
     * @param path File path relative to the base path, without leading slash; example 'folder1'
     */
    CloudFileService.prototype.getDir = function (path) {
        return __awaiter(this, void 0, void 0, function () {
            var contents;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.client.getDirectoryContents(this.basePath + path)];
                    case 1:
                        contents = _a.sent();
                        return [2 /*return*/, JSON.stringify(contents, undefined, 4)];
                }
            });
        });
    };
    /**
     * Checks if the file exists in the root directory.
     * @param name file name to check
     */
    CloudFileService.prototype.doesFileExist = function (name) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        // TODO: doesFileExist seems to have problems at least with nested files?
                        if (!this.fileList && !this.currentlyGettingList) {
                            // create promise that resolves when the file list is loaded
                            // if this function gets called mulitple times this ensures that the list will only be loaded once
                            this.currentlyGettingList = new Promise(function (resolve) {
                                _this.getDir("").then(function (list) {
                                    _this.fileList = list;
                                    resolve(true);
                                });
                            });
                        }
                        if (!!this.fileList) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.currentlyGettingList];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        // hacky way of checking if file exists, subject to change
                        // TODO fix this
                        if (this.fileList.includes('"basename": "' + name.split("/").pop() + '"')) {
                            return [2 /*return*/, true];
                        }
                        return [2 /*return*/, false];
                }
            });
        });
    };
    /**
     * creates new directory
     * @param path path to directory to be created, without leading slash; e.g. 'new-folder'
     */
    CloudFileService.prototype.createDir = function (path) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this.client.createDirectory(this.basePath + path);
                return [2 /*return*/];
            });
        });
    };
    /**
     * Uploads a given file to the nextcloud server.
     * @param file The file to be stored
     * @param filePath the filename and path to which the file will be uploaded, no leading slash
     */
    CloudFileService.prototype.uploadFile = function (file, filePath) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, this.client.putFileContents(this.basePath + filePath, file
                    // { onUploadProgress: progress => {  console.log(`Uploaded ${progress.loaded} / ${progress.total} bytes`); } },
                    )];
            });
        });
    };
    /**
     * Returns a Promise which resolves as an ArrayBuffer of the file located at the given path
     * @param filePath the filename and path relative to the base path without leading slash; e.g. 'photos/105.png'
     */
    CloudFileService.prototype.getFile = function (filePath) {
        return __awaiter(this, void 0, void 0, function () {
            var file, err_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this.client.getFileContents(this.basePath + filePath)];
                    case 1:
                        file = _a.sent();
                        return [2 /*return*/, this.bufferArrayToBase64(file)];
                    case 2:
                        err_1 = _a.sent();
                        return [2 /*return*/, Promise.reject("Could not load file.")];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    /**
     * converts an ArrayBuffer to a SafeUrl and returns it
     * @param arrayBuffer ArrayBuffer to be converted
     */
    CloudFileService.prototype.bufferArrayToBase64 = function (arrayBuffer) {
        var base64String = btoa(new Uint8Array(arrayBuffer).reduce(function (data, byte) {
            return data + String.fromCharCode(byte);
        }, ""));
        return this.domSanitizer.bypassSecurityTrustUrl("data:image/jpg;base64," + base64String);
    };
    /**
     * Check whether the client is connected and therefore this service is able to execute its remote actions.
     */
    CloudFileService.prototype.isConnected = function () {
        return !!this.client;
    };
    CloudFileService.ɵfac = function CloudFileService_Factory(t) { return new (t || CloudFileService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__["DomSanitizer"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_session_session_service_session_service__WEBPACK_IMPORTED_MODULE_4__["SessionService"])); };
    CloudFileService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: CloudFileService, factory: CloudFileService.ɵfac });
    return CloudFileService;
}());

/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CloudFileService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__["DomSanitizer"] }, { type: _session_session_service_session_service__WEBPACK_IMPORTED_MODULE_4__["SessionService"] }]; }, null); })();


/***/ }),

/***/ "./src/app/core/webdav/webdav.module.ts":
/*!**********************************************!*\
  !*** ./src/app/core/webdav/webdav.module.ts ***!
  \**********************************************/
/*! exports provided: WebdavModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WebdavModule", function() { return WebdavModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _cloud_file_service_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cloud-file-service.service */ "./src/app/core/webdav/cloud-file-service.service.ts");
/* harmony import */ var _cloud_file_service_user_settings_cloud_file_service_user_settings_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cloud-file-service-user-settings/cloud-file-service-user-settings.component */ "./src/app/core/webdav/cloud-file-service-user-settings/cloud-file-service-user-settings.component.ts");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/fesm5/form-field.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/fesm5/input.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/fesm5/button.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/progress-spinner */ "./node_modules/@angular/material/fesm5/progress-spinner.js");










/**
 * Provides cloud file storage integration with platforms like Nextcloud.
 * Configuration is described in the main README.
 */
var WebdavModule = /** @class */ (function () {
    function WebdavModule() {
    }
    WebdavModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: WebdavModule });
    WebdavModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function WebdavModule_Factory(t) { return new (t || WebdavModule)(); }, providers: [_cloud_file_service_service__WEBPACK_IMPORTED_MODULE_2__["CloudFileService"]], imports: [[
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_material_form_field__WEBPACK_IMPORTED_MODULE_4__["MatFormFieldModule"],
                _angular_material_input__WEBPACK_IMPORTED_MODULE_5__["MatInputModule"],
                _angular_material_button__WEBPACK_IMPORTED_MODULE_6__["MatButtonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_7__["FormsModule"],
                _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_8__["MatProgressSpinnerModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_7__["ReactiveFormsModule"],
            ]] });
    return WebdavModule;
}());

(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](WebdavModule, { declarations: [_cloud_file_service_user_settings_cloud_file_service_user_settings_component__WEBPACK_IMPORTED_MODULE_3__["CloudFileServiceUserSettingsComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_material_form_field__WEBPACK_IMPORTED_MODULE_4__["MatFormFieldModule"],
        _angular_material_input__WEBPACK_IMPORTED_MODULE_5__["MatInputModule"],
        _angular_material_button__WEBPACK_IMPORTED_MODULE_6__["MatButtonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_7__["FormsModule"],
        _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_8__["MatProgressSpinnerModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_7__["ReactiveFormsModule"]], exports: [_cloud_file_service_user_settings_cloud_file_service_user_settings_component__WEBPACK_IMPORTED_MODULE_3__["CloudFileServiceUserSettingsComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](WebdavModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                declarations: [_cloud_file_service_user_settings_cloud_file_service_user_settings_component__WEBPACK_IMPORTED_MODULE_3__["CloudFileServiceUserSettingsComponent"]],
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_material_form_field__WEBPACK_IMPORTED_MODULE_4__["MatFormFieldModule"],
                    _angular_material_input__WEBPACK_IMPORTED_MODULE_5__["MatInputModule"],
                    _angular_material_button__WEBPACK_IMPORTED_MODULE_6__["MatButtonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_7__["FormsModule"],
                    _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_8__["MatProgressSpinnerModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_7__["ReactiveFormsModule"],
                ],
                providers: [_cloud_file_service_service__WEBPACK_IMPORTED_MODULE_2__["CloudFileService"]],
                exports: [_cloud_file_service_user_settings_cloud_file_service_user_settings_component__WEBPACK_IMPORTED_MODULE_3__["CloudFileServiceUserSettingsComponent"]],
            }]
    }], null, null); })();


/***/ }),

/***/ "./src/app/utils/utils.ts":
/*!********************************!*\
  !*** ./src/app/utils/utils.ts ***!
  \********************************/
/*! exports provided: isValidDate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isValidDate", function() { return isValidDate; });
/**
 * Checks if the given value is an instance of Date and holds a valid date value.
 * @param date The date to be checked
 */
function isValidDate(date) {
    return (date &&
        Object.prototype.toString.call(date) === "[object Date]" &&
        !Number.isNaN(date.getTime()));
}


/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */
/**
 * Central environment that allows to configure differences between a "dev" and a "prod" build.
 *
 * The file contents for the current environment will overwrite these during build.
 * The build system defaults to the dev environment which uses `environment.ts`, but if you do
 * `ng build --env=prod` then `environment.prod.ts` will be used instead.
 * The list of which env maps to which file can be found in `.angular-cli.json`.
 */
var environment = {
    production: false,
    appVersion: "2.20.1",
    repositoryId: "Aam-Digital/ndb-core",
    remoteLoggingDsn: undefined,
};


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/*
 *     This file is part of ndb-core.
 *
 *     ndb-core is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     (at your option) any later version.
 *
 *     ndb-core is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with ndb-core.  If not, see <http://www.gnu.org/licenses/>.
 */




if (_environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__["platformBrowser"]().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"]);


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /home/runner/work/ndb-core/ndb-core/src/main.ts */"./src/main.ts");


/***/ }),

/***/ 1:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 10:
/*!************************!*\
  !*** buffer (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 11:
/*!************************!*\
  !*** buffer (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 12:
/*!************************!*\
  !*** buffer (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 13:
/*!************************!*\
  !*** buffer (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 14:
/*!************************!*\
  !*** buffer (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 15:
/*!************************!*\
  !*** buffer (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 3:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 4:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 5:
/*!************************!*\
  !*** buffer (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 6:
/*!************************!*\
  !*** buffer (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 7:
/*!************************!*\
  !*** crypto (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 8:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 9:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map